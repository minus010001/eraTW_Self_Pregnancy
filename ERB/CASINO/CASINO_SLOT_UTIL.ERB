;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;赌场スロットにて用いる関数置き場;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;@SLOT_DISPLAY(絵柄,行数,暗転)…指定した"絵柄"の"行数"を文字列としてprintする
;絵柄一覧
;1 RD7 赤7(BOUNS図柄)
;2 BL7 青7(BOUNS図柄)
;3 BEL ベル
;4 CHE チェリー
;5 MEL 西瓜
;6 BAR BAR(BOUNS図柄)
;7 REP 回放
;8 NUL 未選択
;行数
;1～9行
;暗転(1:YES 0:NO)
;暗転を指定した場合該当絵柄を色_NULLで表示

@SLOT_DISPLAY(絵柄,行数,暗転)
#DIM REF 絵柄
#DIM REF 行数
#DIM REF 暗転
#DIM 色_RED7
#DIM 色_BLUE7
#DIM 色_BELL
#DIM 色_CHERRY茎
#DIM 色_CHERRY果実
#DIM 色_MELON果実
#DIM 色_MELON皮
#DIM 色_BAR
#DIM 色_REPLAY
#DIM 色_NULL

IF 暗転
	 色_RED7 = 0x404040
	 色_BLUE7 = 0x404040
	 色_BELL = 0x404040
	 色_CHERRY茎 = 0x404040
	 色_CHERRY果実 = 0x404040
	 色_MELON果実 = 0x404040
	 色_MELON皮 = 0x404040
	 色_BAR = 0x404040
	 色_REPLAY = 0x404040
	 色_NULL = 0x000000
ELSE
	 色_RED7 = 0xFF0000
	 色_BLUE7 = 0x66FFFF
	 色_BELL = 0xFFFF00
	 色_CHERRY茎 = 0x00FF00
	 色_CHERRY果実 = 0xFF0000
	 色_MELON果実 = 0xFF0000
	 色_MELON皮 = 0x00FF00
	 色_BAR = 0xFFFFFF
	 色_REPLAY = 0xCCFFFF
	 色_NULL = 0x404040
ENDIF
;########################################################
;赤7(斯喀雷特BB)
;BOUNS図柄
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;                   ;;;
;3 ;;;                   ;;;
;4 ;;;                   ;;;
;5 ;;;;;;;;;;;;;;;      ;;;;
;6 ;;;;;;;;;;;        ;;;;;;
;7 ;;;;;;;;      Scarlet;;;;
;8 ;;;;;;            ;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
IF 絵柄 == 1
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2,3,4
		PRINT ;;;
		SETCOLOR 色_RED7
		PRINTFORM %UNICODE(0x2589)*19%
		RESETCOLOR
		PRINT ;;;
	CASE 5
		PRINT ;;;;;;;;;;;;;;;
		SETCOLOR 色_RED7
		PRINTFORM %UNICODE(0x2589)*6%
		RESETCOLOR
		PRINT ;;;;
	CASE 6
		PRINT ;;;;;;;;;;;
		SETCOLOR 色_RED7
		PRINTFORM %UNICODE(0x2589)*8%
		RESETCOLOR
		PRINT ;;;;;;
	CASE 7
		PRINT ;;;;;;;;
		SETCOLOR 色_RED7
		PRINTFORM %UNICODE(0x2589)*6%
		FONTSTYLE 3
		PRINT Scarlet
		RESETCOLOR
		FONTSTYLE 1
		PRINT ;;;;
	CASE 8
		PRINT ;;;;;;
		SETCOLOR 色_RED7
		PRINTFORM %UNICODE(0x2589)*12%
		RESETCOLOR
		PRINT ;;;;;;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(RED7)
	ENDSELECT
	FONTREGULAR

;########################################################
;青7(十六夜BB)
;BOUNS図柄
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;                   ;;;
;3 ;;;                   ;;;
;4 ;;;                   ;;;
;5 ;;;;;;;;;;;;;;;      ;;;;
;6 ;;;;;;;;;;;        ;;;;;;
;7 ;;;;;;;;       Sakuya;;;;
;8 ;;;;;;            ;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 2
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2,3,4
		PRINT ;;;
		SETCOLOR 色_BLUE7
		PRINTFORM %UNICODE(0x2589)*19%
		RESETCOLOR
		PRINT ;;;
	CASE 5
		PRINT ;;;;;;;;;;;;;;;
		SETCOLOR 色_BLUE7
		PRINTFORM %UNICODE(0x2589)*6%
		RESETCOLOR
		PRINT ;;;;
	CASE 6
		PRINT ;;;;;;;;;;;
		SETCOLOR 色_BLUE7
		PRINTFORM %UNICODE(0x2589)*8%
		RESETCOLOR
		PRINT ;;;;;;
	CASE 7
		PRINT ;;;;;;;;
		SETCOLOR 色_BLUE7
		PRINTFORM %UNICODE(0x2589)*7%
		FONTSTYLE 3
		PRINT Sakuya
		RESETCOLOR
		FONTSTYLE 1
		PRINT ;;;;
	CASE 8
		PRINT ;;;;;;
		SETCOLOR 色_BLUE7
		PRINTFORM %UNICODE(0x2589)*12%
		RESETCOLOR
		PRINT ;;;;;;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(BLUE7)
	ENDSELECT
	FONTREGULAR

;########################################################
;ベル(8枚役)
;小役
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;;;;;;;;   ;;;;;;;;;;;
;3 ;;;;;;;           ;;;;;;;
;4 ;;;;;               ;;;;;
;5 ;;;;                 ;;;;
;6 ;;; ;;;;;;;;;;;;;;;;; ;;;
;7 ;;;        ;;;        ;;;
;8 ;;;;;;;;;;;   ;;;;;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 3
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2
		PRINT ;;;;;;;;;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;;;;;;;;;
	CASE 3
		PRINT ;;;;;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*11%
		RESETCOLOR
		PRINT ;;;;;;;
	CASE 4
		PRINT ;;;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*15%
		RESETCOLOR
		PRINT ;;;;;
	CASE 5
		PRINT ;;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*17%
		RESETCOLOR
		PRINT ;;;;
	CASE 6
		PRINT ;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*1%
		PRINT ;;;;;;;;;;;;;;;;;
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;;
	CASE 7
		PRINT ;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*8%
		PRINT ;;;
		PRINTFORM %UNICODE(0x2589)*8%
		RESETCOLOR
		PRINT ;;;
	CASE 8
		PRINT ;;;;;;;;;;;
		SETCOLOR 色_BELL
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;;;;;;;;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(BELL)
	ENDSELECT
	FONTREGULAR

;########################################################
;チェリー(3枚役)
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;;;;;;1__;;;;;;;;;;;;;
;3 ;;;;;;;;;1;;1___;;;;;;;;;
;4 ;;;;;;;;1;;;;;;;1;;;;;;;;
;5 ;;;;;;_1;;;;;;;;;1_;;;;;;
;6 ;;;;;;  ;;;;;;;;;  ;;;;;;
;7 ;;;;;    ;;;;;;;    ;;;;;
;8 ;;;;;;  ;;;;;;;;;  ;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 4
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2
		PRINT ;;;;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT 1__
		RESETCOLOR
		PRINT ;;;;;;;;;;;;;
	CASE 3
		PRINT ;;;;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT 1
		RESETCOLOR
		PRINT ;;
		SETCOLOR 色_CHERRY茎
		PRINT 1___
		RESETCOLOR
		PRINT ;;;;;;;;;
	CASE 4
		PRINT ;;;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT 1
		RESETCOLOR
		PRINT ;;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT 1
		RESETCOLOR
		PRINT ;;;;;;;;
	CASE 5
		PRINT ;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT _1
		RESETCOLOR
		PRINT ;;;;;;;;;
		SETCOLOR 色_CHERRY茎
		PRINT 1_
		RESETCOLOR
		PRINT ;;;;;;
	CASE 6,8
		PRINT ;;;;;;
		SETCOLOR 色_CHERRY果実
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT ;;;;;;;;;
		SETCOLOR 色_CHERRY果実
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT ;;;;;;
	CASE 7
		PRINT ;;;;;
		SETCOLOR 色_CHERRY果実
		PRINTFORM %UNICODE(0x2589)*4%
		RESETCOLOR
		PRINT ;;;;;;;
		SETCOLOR 色_CHERRY果実
		PRINTFORM %UNICODE(0x2589)*4%
		RESETCOLOR
		PRINT ;;;;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(CHERRY)
	ENDSELECT
	FONTREGULAR
;########################################################
;西瓜(5枚役)
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;;;;;;;            ;;;
;3 ;;;;            ______;;;
;4 ;;;;___________/;;    ;;;
;5 ;;;;;   ;;;     ;;   ;;;;
;6 ;;;;;;;  ;;;   ;;  ;;;;;;
;7 ;;;;;;;;  ;;  ;;  ;;;;;;;
;8 ;;;;;;;;;; ;  ; ;;;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 5
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2
		PRINT ;;;;;;;;;;
		SETCOLOR 色_MELON果実
		PRINTFORM %UNICODE(0x2589)*12%
		RESETCOLOR
		PRINT ;;;
	CASE 3
		PRINT ;;;;
		SETCOLOR 色_MELON果実
		PRINTFORM %UNICODE(0x2589)*12%
		SETCOLOR 色_MELON皮
		PRINT ______
		RESETCOLOR
		PRINT ;;;
	CASE 4
		PRINT ;;;;
		SETCOLOR 色_MELON皮
		PRINT ___________/
		RESETCOLOR
		PRINT   
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*4%
		RESETCOLOR
		PRINT ;;;
	CASE 5
		PRINT ;;;;;
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT    
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*5%
		RESETCOLOR
		PRINT   
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;;
	CASE 6
		PRINT ;;;;;;;
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT    
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT   
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT ;;;;;;
	CASE 7
		PRINT ;;;;;;;;
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT   
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT   
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT ;;;;;;;
	CASE 8
		PRINT ;;;;;;;;;;
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT  
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*2%
		RESETCOLOR
		PRINT  
		SETCOLOR 色_MELON皮
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;;;;;;;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(MELON)
	ENDSELECT
	FONTREGULAR
;########################################################
;BAR(REG)
;BOUNS図柄
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;                 ;;;;
;3 ;;; ;;             ;; ;;;
;4 ;; ;;               ;; ;;
;5 ;; ;;;;;;B  A  R;;;;;; ;;
;6 ;; ;;               ;; ;;
;7 ;;; ;;             ;; ;;;
;8 ;;;;                 ;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 6
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 2,8
		PRINT ;;;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*17%
		RESETCOLOR
		PRINT ;;;;
	CASE 3,7
		PRINT ;;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;             ;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;;
	CASE 4,6
		PRINT ;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;; 
		PRINT              
		PRINT  ;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;
	CASE 5
		PRINT ;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;;;;;
		PRINT B  A  R
		PRINT ;;;;;;
		SETCOLOR 色_BAR
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;;
	CASEELSE
		PRINTL ERROR 被指定了不存在的行数(BAR)
	ENDSELECT
	FONTREGULAR
;########################################################
;REPLAY(回放)
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;;;;;;;;;;;;;;;;;;;;;;
;3 ;;;;;;;;;;      ;;;;;;;;;
;4 ;;;;;   ;        ;   ;;;;
;5 ;;;;   ; Re-      ;   ;;;
;6 ;;;;   ;     play ;   ;;;
;7 ;;;;;   ;        ;   ;;;;
;8 ;;;;;;;;;;      ;;;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 7
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1,2,9
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
	CASE 3,8
		PRINT ;;;;;;;;;;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*6%
		RESETCOLOR
		PRINT ;;;;;;;;;
	CASE 4,7
		PRINT ;;;;;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*8%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;;
	CASE 5
		PRINT ;;;;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		SETCOLOR 色_REPLAY
		PRINT Re-
		RESETCOLOR
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*6%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;
	CASE 6
		PRINT ;;;;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*5%
		RESETCOLOR
		SETCOLOR 色_REPLAY
		PRINT play
		RESETCOLOR
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*1%
		RESETCOLOR
		PRINT ;
		SETCOLOR 色_REPLAY
		PRINTFORM %UNICODE(0x2589)*3%
		RESETCOLOR
		PRINT ;;;
	CASEELSE
		PRINTL ERROR 指定了不存在的行数(REPLAY)
	ENDSELECT
	FONTREGULAR
;########################################################
;NULL(未選択)
;
;1 ;;;;;;;;;;;;;;;;;;;;;;;;;
;2 ;;;;;;;;;;;;;;;;;;;;;;;;;
;3 ;;;;;;;;;;;;;;;;;;;;;;;;;
;4 ;;;;;;;;;;;;;;;;;;;;;;;;;
;5 ;;;;;;;;;;;;;;;;;;;;;;;;;
;6 ;;;;;;;;;;;;;;;;;;;;;;;;;
;7 ;;;;;;;;;;;;;;;;;;;;;;;;;
;8 ;;;;;;;;;;;;;;;;;;;;;;;;;
;9 ;;;;;;;;;;;;;;;;;;;;;;;;;
;########################################################
ELSEIF 絵柄 == 8
	FONTSTYLE 1
	SELECTCASE 行数
	CASE 1 TO 9
		SETCOLOR 色_NULL
		PRINTFORM ;;;;;;;;;;;;;;;;;;;;;;;;;
		RESETCOLOR
	CASEELSE
		PRINTL ERROR 指定了不存在的行数(NULL)
	ENDSELECT
	FONTREGULAR
ELSE
	PRINTFORML ERROR 指定了不存在的图案{絵柄}
ENDIF

;########################################################
;@SLOT_全体表示(色_枠,絵柄_左上,絵柄_左中,絵柄_左下,絵柄_中上,絵柄_中中,絵柄_中下,絵柄_右上,絵柄_右中,絵柄_右下,暗転_左上,暗転_左中,暗転_左下,暗転_中上,暗転_中中,暗転_中下,暗転_右上,暗転_右中,暗転_右下)
;SLOT_DISPLAYを3つつなげて全体を表示させる
;変数19個是れすぎぃ

;絵柄一覧
;1 RD7 赤7(BOUNS図柄)
;2 BL7 青7(BOUNS図柄)
;3 BEL ベル
;4 CHE チェリー
;5 MEL 西瓜
;6 BAR BAR(BOUNS図柄)
;7 REP 回放
;8 NUL 未選択


;暗転(1:YES 0:NO)値で指定
@SLOT_全体表示(色_枠,絵柄_左上,絵柄_左中,絵柄_左下,絵柄_中上,絵柄_中中,絵柄_中下,絵柄_右上,絵柄_右中,絵柄_右下,暗転_左上,暗転_左中,暗転_左下,暗転_中上,暗転_中中,暗転_中下,暗転_右上,暗転_右中,暗転_右下)

#DIM REF 色_枠

#DIM REF 絵柄_左上
#DIM REF 絵柄_左中
#DIM REF 絵柄_左下
#DIM REF 絵柄_中上
#DIM REF 絵柄_中中
#DIM REF 絵柄_中下
#DIM REF 絵柄_右上
#DIM REF 絵柄_右中
#DIM REF 絵柄_右下
#DIM REF 暗転_左上
#DIM REF 暗転_左中
#DIM REF 暗転_左下
#DIM REF 暗転_中上
#DIM REF 暗転_中中
#DIM REF 暗転_中下
#DIM REF 暗転_右上
#DIM REF 暗転_右中
#DIM REF 暗転_右下


;=============================
;ここよりスロット画面の表示
;=============================
;########
;上枠部分
;########
FONTSTYLE 1
SETCOLOR 色_枠
PRINTFORML %UNICODE(0x2582)*82%
RESETCOLOR
FONTREGULAR

;############
;スロット上段
;############
FOR LOCAL, 1, 10
	SETCOLOR 色_枠
	PRINTFORM %UNICODE(0x2589)%
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_左上,LOCAL,暗転_左上)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_中上,LOCAL,暗転_中上)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_右上,LOCAL,暗転_右上)
	SETCOLOR 色_枠
	PRINTFORML %UNICODE(0x2589)%
	RESETCOLOR
NEXT

;############
;スロット中段
;############
FOR LOCAL, 1, 10
	SETCOLOR 色_枠
	PRINTFORM %UNICODE(0x2589)%
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_左中,LOCAL,暗転_左中)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_中中,LOCAL,暗転_中中)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_右中,LOCAL,暗転_右中)
	SETCOLOR 色_枠
	PRINTFORML %UNICODE(0x2589)%
	RESETCOLOR
NEXT

;############
;スロット下段
;############
FOR LOCAL, 1, 10
	SETCOLOR 色_枠
	PRINTFORM %UNICODE(0x2589)%
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_左下,LOCAL,暗転_左下)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_中下,LOCAL,暗転_中下)
	SETCOLOR 色_枠
	PRINTFORM |%UNICODE(0x2589)%|
	RESETCOLOR
	CALL SLOT_DISPLAY(絵柄_右下,LOCAL,暗転_右下)
	SETCOLOR 色_枠
	PRINTFORML %UNICODE(0x2589)%
	RESETCOLOR
NEXT

;########
;下枠部分
;########
FONTSTYLE 1
SETCOLOR 色_枠
PRINTFORML %UNICODE(0x2580)*82%
RESETCOLOR
FONTREGULAR

;########################################################
;SLOT_情報パネル表示
;スロット画面上部に各種情報を記載したパネルを表示
@SLOT_情報パネル表示(情報パネル表示页,総回転数,上次当选的旋转数,累計短周期連セット数,当選履歴,当選種類履歴,当選枚数履歴,小役カウンタ)
#DIM REF 情報パネル表示页
#DIM REF 総回転数
#DIM REF 上次当选的旋转数
#DIM REF 累計短周期連セット数
#DIM REF 当選履歴
#DIM REF 当選種類履歴
#DIM REF 当選枚数履歴
#DIM REF 小役カウンタ

#DIM CONST 色_SBIG = 0xFF0000
#DIM CONST 色_BIG  = 0x66FFFF
#DIM CONST 色_REG  = 0xFFFF00
#DIM CONST 色_ART  = 0x6BBF3F
#DIM CONST 色_History = 0xFFFFFF

#DIM CONST 色_青 = 0x1987E5
#DIM CONST 色_黄 = 0xFFFF00
#DIM CONST 色_赤 = 0xFF0000
#DIM CONST 色_金 = 0xE6B422

;当選小役の種類
#DIM CONST 当選小役_赤7BOUNS = 0
#DIM CONST 当選小役_青7BOUNS = 1
#DIM CONST 当選小役_レギュラーBOUNS = 2
#DIM CONST 当選小役_中樱桃 = 3
#DIM CONST 当選小役_大樱桃 = 4
#DIM CONST 当選小役_小樱桃 = 5
#DIM CONST 当選小役_強西瓜 = 6
#DIM CONST 当選小役_弱西瓜 = 7
#DIM CONST 当選小役_ベル = 8
#DIM CONST 当選小役_回放 = 9
#DIM CONST 当選小役_落空了 = 99

;########
;上枠部分
;########
FONTSTYLE 1
PRINTFORML %UNICODE(0x2582)*82%
RESETCOLOR
FONTREGULAR

;0页目(12*80)
;                                                                                
;   SBIG     BIG     REG     ART             x100   1  | | | | | | | | | | |     
;     99      99      99      99                    2  | | | | | | | | | | |     
;                                                   3  | | | | | | | | | | |     
;   SBIG     BIG     REG     ART                    4  | | | | | | | | | | |     
;                                                   5  | | | | | | | | | | |     
;  1 /     1 /     1 /     1 /                      6  | | | | | | | | | | |     
;   /  123  / 1234  /   12  /  777                  7  | | | | | | | | | | |     
;                                                   8  | | | | | | | | | | |     
;    Play             Total                         9  | | | | | | | | | | |     
;       999G              999G                     10  | | | | | | | | | | |     
;                                                                                

;1页目(12*80)
;                                                                                
;   SBIG     BIG     REG     ART                   x100  1 | | | | | | | | | | | 
;     99      99      99      99                         2 | | | | | | | | | | | 
;                           History                      3 | | | | | | | | | | | 
;         Game  BONUS    Get         Game  BONUS    Get  4 | | | | | | | | | | | 
;                                                        5 | | | | | | | | | | | 
;     1   128G    REG    100     6   128G    BIG    200  6 | | | | | | | | | | | 
;     2    64G    BIG    200     7   351G   SBIG    400  7 | | | | | | | | | | | 
;     3   429G   SBIG    400     8   999G    REG    100  8 | | | | | | | | | | | 
;     4    16G    RST    530     9   472G    BIG    200  9 | | | | | | | | | | | 
;     5    13G    RST    335    10   128G    REG    100 10 | | | | | | | | | | | 
;                                                                                

FONTSTYLE 1
;0页目
IF 情報パネル表示页 == 0
	FOR LOCAL, 1, 13
		PRINTFORM %UNICODE(0x2589)%
		SELECTCASE LOCAL
		
		;1行目と12行目
		CASE 1,12
			PRINT                                                                                 
	
		;2行目
		CASE 2
			PRINT    
			SETCOLOR 色_SBIG
			PRINT SBIG
			PRINT      
			SETCOLOR 色_BIG
			PRINT BIG
			PRINT      
			SETCOLOR 色_REG
			PRINT REG
			PRINT      
			SETCOLOR 色_ART
			PRINT ART
			SETCOLOR 色_History
			PRINT              x100   
			RESETCOLOR
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;3行目
		CASE 3
			PRINT    
			PRINTFORM {小役カウンタ:当選小役_赤7BOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {小役カウンタ:当選小役_青7BOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {小役カウンタ:当選小役_レギュラーBOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {累計短周期連セット数,4,RIGHT}
			PRINT                     
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;4行目6行目9行目
		CASE 4,6,9
			PRINT                                                    
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		;5行目
		CASE 5
			PRINT    
			SETCOLOR 色_SBIG
			PRINT SBIG
			PRINT      
			SETCOLOR 色_BIG
			PRINT BIG
			PRINT      
			SETCOLOR 色_REG
			PRINT REG
			PRINT      
			SETCOLOR 色_ART
			PRINT ART
			PRINT                     
			RESETCOLOR
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;7行目
		CASE 7
			PRINT   1 /     1 /     1 /     1 /                      
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;8行目
		CASE 8
			
			PRINT    /
			IF 小役カウンタ:当選小役_赤7BOUNS
				PRINTFORM {総回転数/小役カウンタ:当選小役_赤7BOUNS,5,RIGHT}
			ELSE
				PRINT   ---
			ENDIF
			
			PRINT   /
			IF 小役カウンタ:当選小役_青7BOUNS
				PRINTFORM {総回転数/小役カウンタ:当選小役_青7BOUNS,5,RIGHT}
			ELSE
				PRINT   ---
			ENDIF
			
			PRINT   /
			IF 小役カウンタ:当選小役_レギュラーBOUNS
				PRINTFORM {総回転数/小役カウンタ:当選小役_レギュラーBOUNS,5,RIGHT}
			ELSE
				PRINT   ---
			ENDIF
			
			PRINT   /
			IF 累計短周期連セット数
				PRINTFORM {総回転数/累計短周期連セット数,5,RIGHT}
			ELSE
				PRINT   ---
			ENDIF
			
			PRINT                   
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;10行目
		CASE 10
			PRINT     Play             Total                         
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		
		;11行目
		CASE 11
			PRINTFORM {上次当选的旋转数,10,RIGHT}
			PRINT G
			PRINTFORM {総回転数,17,RIGHT}
			PRINT G
			PRINT                      
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1}  
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			PRINT     
			;粒グラフ表示終了
		CASEELSE
		ENDSELECT
	PRINTFORML %UNICODE(0x2589)%
	NEXT

ELSEIF 情報パネル表示页 == 1
	FOR LOCAL, 1, 13
		PRINTFORM %UNICODE(0x2589)%
		SELECTCASE LOCAL
		
		;1行目と12行目
		CASE 1,12
			PRINT                                                                                 
		;2行目
		CASE 2
			
			SETCOLOR 色_SBIG
			PRINT    SBIG
			SETCOLOR 色_BIG
			PRINT      BIG
			SETCOLOR 色_REG
			PRINT      REG
			SETCOLOR 色_ART
			PRINT      ART
			SETCOLOR 色_History
			PRINT                    x100 
			RESETCOLOR
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;3行目
		CASE 3
			PRINT    
			PRINTFORM {小役カウンタ:当選小役_赤7BOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {小役カウンタ:当選小役_青7BOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {小役カウンタ:当選小役_レギュラーBOUNS,4,RIGHT}
			PRINT     
			PRINTFORM {累計短周期連セット数,4,RIGHT}
			PRINT                         
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;4行目
		CASE 4
			SETCOLOR 色_History
			PRINT                            History                     
			RESETCOLOR
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;5行目
		CASE 5
			SETCOLOR 色_History
			PRINT          Game  BONUS    Get         Game  BONUS    Get 
			RESETCOLOR
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;6行目
		CASE 6
			PRINT                                                        
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
			
		;7行目
		CASE 7
		
			PRINT      1
			
			IF 当選種類履歴:0 != -1
				PRINTFORM {当選履歴:0,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:0
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:0 != -1
				SIF 当選枚数履歴:0 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:0 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:0 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:0 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:0,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT      6
			
			IF 当選種類履歴:5 != -1
				PRINTFORM {当選履歴:5,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:5
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			IF 当選種類履歴:5 != -1
				SIF 当選枚数履歴:5 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:5 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:5 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:5 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:5,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT  
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;8行目
		CASE 8
			
			PRINT      2
			
			IF 当選種類履歴:1 != -1
				PRINTFORM {当選履歴:1,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:1
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:1 != -1
				SIF 当選枚数履歴:1 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:1 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:1 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:1 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:1,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT      7
			
			IF 当選種類履歴:6 != -1
				PRINTFORM {当選履歴:6,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:6
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:6 != -1
				SIF 当選枚数履歴:6 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:6 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:6 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:6 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:6,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT  
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;9行目
		CASE 9
			
			PRINT      3
			
			IF 当選種類履歴:2 != -1
				PRINTFORM {当選履歴:2,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:2
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:2 != -1
				SIF 当選枚数履歴:2 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:2 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:2 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:2 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:2,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT      8
			
			IF 当選種類履歴:7 != -1
				PRINTFORM {当選履歴:7,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:7
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:7 != -1
				SIF 当選枚数履歴:7 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:7 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:7 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:7 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:7,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT  
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;10行目
		CASE 10
			
			PRINT      4
			
			IF 当選種類履歴:3 != -1
				PRINTFORM {当選履歴:3,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:3
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:3 != -1
				SIF 当選枚数履歴:3 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:3 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:3 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:3 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:3,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT      9
			
			IF 当選種類履歴:8 != -1
				PRINTFORM {当選履歴:8,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:8
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:8 != -1
				SIF 当選枚数履歴:8 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:8 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:8 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:8 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:8,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT  
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
		
		;11行目
		CASE 11
			
			PRINT      5
			
			IF 当選種類履歴:4 != -1
				PRINTFORM {当選履歴:4,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:4
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:4 != -1
				SIF 当選枚数履歴:4 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:4 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:4 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:4 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:4,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT     10
			
			IF 当選種類履歴:9 != -1
				PRINTFORM {当選履歴:9,6,RIGHT}G
			ELSE
				PRINT    ---G
			ENDIF
			
			SELECTCASE 当選種類履歴:9
			CASE 当選小役_赤7BOUNS
				SETCOLOR 色_SBIG
				PRINTFORM    SBIG
			CASE 当選小役_青7BOUNS
				SETCOLOR 色_BIG
				PRINTFORM     BIG
			CASE 当選小役_レギュラーBOUNS
				SETCOLOR 色_REG
				PRINTFORM     REG
			CASEELSE
				PRINTFORM     ---
			ENDSELECT
			RESETCOLOR
			
			IF 当選種類履歴:9 != -1
				SIF 当選枚数履歴:9 > 1000
					SETCOLOR 色_青
				SIF 当選枚数履歴:9 > 3000
					SETCOLOR 色_黄
				SIF 当選枚数履歴:9 > 5000
					SETCOLOR 色_赤
				SIF 当選枚数履歴:9 > 10000
					SETCOLOR 色_金
				PRINTFORM {当選枚数履歴:9,7,RIGHT}
				RESETCOLOR
			ELSE
				PRINT     ---
			ENDIF
			
			PRINT  
			
			;ここより粒グラフ表示
			PRINTFORM {LOCAL-1,2,RIGHT} 
			FOR LOCAL:2, 0, 11
				SIF LOCAL:2 > (当選履歴:(LOCAL-2)) / 100 || 当選履歴:(LOCAL-2) == 0
					SETCOLOR 0x404040
				IF LOCAL:2 == (当選履歴:(LOCAL-2)) / 100 && 当選履歴:(LOCAL-2) != 0
					SIF 当選種類履歴:(LOCAL-2) == 0
						SETCOLOR 色_SBIG
					SIF 当選種類履歴:(LOCAL-2) == 1
						SETCOLOR 色_BIG
					SIF 当選種類履歴:(LOCAL-2) == 2
						SETCOLOR 色_REG
				ENDIF
				PRINT | 
				RESETCOLOR
			NEXT
			;粒グラフ表示終了
			
		CASEELSE
		ENDSELECT
	PRINTFORML %UNICODE(0x2589)%
	NEXT
ELSE
ENDIF
FONTREGULAR
;########
;下枠部分
;########
FONTSTYLE 1
PRINTFORML %UNICODE(0x2580)*82%
RESETCOLOR
FONTREGULAR

;########################################################
;@小役支付戻し(当選的小役)
;当選的小役によって筹码を支付戻し

;当選的小役 
;0:斯喀雷特BB当選
;1:十六夜BB当選
;2:REG当選
;3:中段樱桃当選
;4:大樱桃当選
;5:小樱桃当選
;6:強西瓜当選
;7:弱西瓜当選
;8:ベル当選
;9:回放当選
;99:落空了

@小役支付戻し(当選的小役)
#DIM REF 当選的小役

SELECTCASE 当選的小役
;0:斯喀雷特BB当選
CASE 0
	MONEY:2 += 400

;1:十六夜BB当選
CASE 1
	MONEY:2 += 200

;2:REG当選
CASE 2
	MONEY:2 += 100

;3:中段樱桃当選
;4:大樱桃当選
;5:小樱桃当選
CASE 3 TO 5
	MONEY:2 += 3

;6:強西瓜当選
;7:弱西瓜当選
CASE 6,7
	MONEY:2 += 5
;8:ベル当選
CASE 8
	MONEY:2 += 8

;9:回放当選(便宜上3枚役とする)
CASE 9
	MONEY:2 += 3

;99:落空了
CASEELSE
ENDSELECT


;########################################################
;@一言メッセージ(短周期連セット数,設定,前兆,当選したBB種類,内部状態,短周期連継続率,当選的小役,上次当选的旋转数,短周期連開始時所持筹码)
;PRINTL1行を使ってメッセージを挿入
;CLEARLINEの都合上現状は1行だけにしてね

@一言メッセージ(短周期連セット数,設定,前兆,当選したBB種類,内部状態,短周期連継続率,当選的小役,上次当选的旋转数,短周期連開始時所持筹码)
#DIM REF 設定
#DIM REF 前兆
#DIM REF 当選したBB種類
#DIM REF 内部状態
#DIM REF 短周期連継続率
#DIM REF 短周期連セット数
#DIM REF 上次当选的旋转数
#DIM REF 当選的小役
#DIM REF 短周期連開始時所持筹码

;状況的に確実にメッセージを入れたいものを上に持ってく
;=======================
;BB当選時(死机を除外)
;=======================
IF 当選したBB種類 > -1 && 内部状態 != 5
	FONTSTYLE 1
	IF 当選したBB種類 == 0
		SETCOLOR 0xFF0000
		PRINTL 斯卡雷特BB確定！！ 400枚獲得
	ELSEIF 当選したBB種類 == 1
		SETCOLOR 0x66FFFF
		PRINTL 十六夜BB確定！！  200枚獲得
	ELSE
		PRINTL 常规奖金確定！！  100枚獲得
	ENDIF
	RESETCOLOR
	FONTREGULAR
	当選したBB種類 = -1

;=======================
;死机 (内部状態 == 5)斯喀雷特BB当選後
;=======================
ELSEIF 内部状態 == 5 && 当選したBB種類 == 0
	FONTSTYLE 3
	SETCOLOR 0xE6B422
	PRINT 死機了！！  
	SETCOLOR 0xFF0000
	PRINTL 斯卡雷特BB確定！！ 400枚獲得
	RESETCOLOR
	FONTREGULAR
;=======================
;死机 (内部状態 == 5)
;=======================
ELSEIF 内部状態 == 5
	FONTSTYLE 1
	SETCOLOR 0xFF00FF
	PRINTL 嗯！！？
	RESETCOLOR
	FONTREGULAR
;=======================
;短周期連中 (内部状態 == 4)
;=======================
ELSEIF 内部状態 == 4
	FONTSTYLE 1
	SETCOLOR 0xFF0000
	SIF 短周期連セット数 >= 10
		SETCOLOR 0xE6B422
	PRINT 不夜城時光！！ 
	SETCOLOR 0xE6B422
	PRINTFORM {短周期連セット数}セット目 剩餘{32 - 上次当选的旋转数}G 
	SETCOLOR 0xFFFFFF
	PRINTFORM Total {MONEY:2 - 短周期連開始時所持筹码}
	IF 短周期連継続率 >= 90
		SETCOLOR 0xE6B422
	ELSEIF 短周期連継続率 >= 80
		SETCOLOR 0xFF0000
	ELSEIF 短周期連継続率 >= 70
		SETCOLOR 0x00FF00
	ELSEIF 短周期連継続率 >= 60
		SETCOLOR 0xFFFF00
	ELSE
		SETCOLOR 0xFFFFFF
	ENDIF
	SIF 短周期連継続率 >= 50
		PRINTFORM  継続率{短周期連継続率 / 10 * 10}％以上！！
	PRINTL 
	RESETCOLOR
	FONTREGULAR
;=======================
;小役が当選したとき
;=======================
ELSEIF 当選的小役 != 99
	FONTSTYLE 1
	SELECTCASE 当選的小役
	CASE 3
		SETCOLOR 0xFF00FF
		PRINTL 中樱桃当選！！！ +3枚
		RESETCOLOR
	CASE 4
		SETCOLOR 0xFF0000
		PRINTL 大樱桃当選！！ +3枚
		RESETCOLOR
	CASE 5
		SETCOLOR 0xFF0000
		PRINTL 小樱桃当選！ +3枚
		RESETCOLOR
	CASE 6
		SETCOLOR 0x70C070
		PRINTL 強西瓜当選！！ +5枚
		RESETCOLOR
	CASE 7
		SETCOLOR 0x70C070
		PRINTL 弱西瓜当選！ +5枚
		RESETCOLOR
	CASE 8
		SETCOLOR 0xFFFF00
		PRINTL 鈴鐺 +8枚
		RESETCOLOR
	CASE 9
		SETCOLOR 0xCCFFFF
		PRINTL REPLAY
		RESETCOLOR
	ENDSELECT
	FONTREGULAR
;=====================================
;ここより下は確率でメッセージが出るかが決まる
;=====================================
;=======================
;前兆確定メッセージ
;=======================
ELSEIF 前兆 < 32 && 前兆 > 0 && !RAND(32)
	FONTSTYLE 1
	SETCOLOR 0xFF00FF
	PRINTL 超热血！！
	RESETCOLOR
	FONTREGULAR
;=======================
;超高確確定メッセージ
;=======================
ELSEIF 内部状態 == 3 && !RAND(100)
	FONTSTYLE 1
	SETCOLOR 0xFF00FF
	PRINTL 状态非常好、在这里停止就太可惜了
	RESETCOLOR
	FONTREGULAR
;=======================
;高確確定メッセージ
;=======================
ELSEIF 内部状態 == 2 && !RAND(100)
	FONTSTYLE 1
	SETCOLOR 0xFF00FF
	PRINTL 状态很好、再打一点吧
	RESETCOLOR
	FONTREGULAR

;=======================
;設定示唆メッセージ
;=======================
ELSEIF 設定 > 3 && !RAND(32768)
	FONTSTYLE 1
	SIF 設定 == 6
		SETCOLOR 0xE6B422
	SIF 設定 == 5
		SETCOLOR 0xFF00FF
	PRINTFORML 設定{設定}確定！！
	RESETCOLOR
	FONTREGULAR
ELSEIF 設定 > 3 && !RAND(1000)
	FONTSTYLE 1
	PRINTL 好象是高设定的
	FONTREGULAR

;=======================
;ここから下は通常メッセージ
;=======================
ELSE
	SELECTCASE RAND(50)
	CASE 0
		PRINTL 超热血！！这様的文字燃烧着出现了
	CASE 1
		PRINTL 奖励细节：斯卡雷特BB 400枚 十六夜BB 200枚 常规B 100枚
	CASE 2
		PRINTL 有计划的利用着籌碼
	CASE 3
		PRINTL ３２Ｇ連的最大継続率是95％
	CASEELSE
		PRINTL 
	ENDSELECT
ENDIF

;########################################################
;@閉店まで回せる回転数(営業開始時刻, 営業終了時刻)
;関数名のまんま
;営業開始時刻,営業終了時刻は分で入力
;1回転4秒にしよう、計算めんどくさいので
@閉店まで回せる回転数(営業終了時刻)
#FUNCTION

#DIM REF 営業終了時刻
#DIM 残り営業時間

残り営業時間 = 営業終了時刻 - TIME

RETURNF 残り営業時間 * 60 / 4
