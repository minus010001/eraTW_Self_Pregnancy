@COM370
#DIM 改造部位
PRINTFORML 要改造%CALLNAME:TARGET%的什麼吗？

FOR LOCAL,1,23
	SIF EQUIP:TARGET:LOCAL
	PRINTFORML [{LOCAL}]- %CLOTHNAME(LOCAL,EQUIP:TARGET:LOCAL)%
NEXT
PRINTFORML [999]- 放弃
$LOOP
INPUT
SELECTCASE RESULT
	CASE 1 TO 22
		IF !EQUIP:TARGET:RESULT
			GOTO LOOP
		ELSE
			改造部位 = RESULT
		ENDIF
	CASE 999
		RETURN -1
	CASEELSE
		GOTO LOOP
ENDSELECT
PRINTFORML %CLOTHNAME(改造部位,EQUIP:TARGET:改造部位)%如何？
CALL ASK_YN("复原","修改")
IF !RESULT
	CSTR:TARGET:(50 + 改造部位) =
	PRINTFORML 复原了。
ELSE
	PRINTFORML 怎么办呢？（输入想在前面加上的修饰语）
	INPUTS
	IF RESULTS == ""
		GOTO LOOP
	ELSE
		CSTR:TARGET:(50 + 改造部位) = %RESULTS%%CLOTHNAME(改造部位,EQUIP:TARGET:改造部位)%
	ENDIF
	PRINTFORML %CLOTHNAME(改造部位,EQUIP:TARGET:改造部位)%的%CSTR:TARGET:(50 + 改造部位)%做好了。
ENDIF
TIME += 60
RETURN 1

;-------------------------------------------------
;実行判定
;-------------------------------------------------
@COM_ABLE370
;実行判定
SIF !TFLAG:100
	RETURN 0
;一括管理
SIF GLOBAL_COMABLE(370)
	RETURN RESULT
;愛麗絲がいないとダメ
SIF CFLAG:17:現在位置 != CFLAG:MASTER:現在位置
	RETURN 0
;仕事中
SIF CFLAG:行動 == 5
	RETURN 0
;気力0
SIF BASE:17:気力 <= 0
	RETURN 0
RETURN 1
