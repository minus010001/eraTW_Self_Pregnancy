;*************************************************************************************
;	アリス・マーガトロイド　口上
;
;	「メモという名の私的落書き」
;	好き勝手やってるのでソースめっちゃ汚い　そのうちきっちりするって私の中のサグメさんが言ってた
;	テンプレートさんには【崩壊】がついてる
;	可読性さんなら放してやった
;	他人が見ても理解不能な部分多いと思うので、仕様・実装口上一覧.txtを見ることをオススメします
;
;
;・わたしのかんがえたさいきょうありすちゃん！の設定？
;	関係が進むと素直になっちゃう感じか
;	妄想エロ乙女（百合用語だったか
;	処女だけど耳年増
;	自主トレ(おなにー)の研究は欠かさない　つまり自分磨き！
;	外国人風なので海外との文化差などあればつけたい（イメージ的にイギリス人的な
;	上海の扱いに困る（お助けキャラとして使ってみる）
;	絶対鏡見る回数多いわー自分が一番可愛く映る角度知ってるわー……一般女子なら普通か
;	なんでもさせてくれる普通の子と、なにもさせてくれない美人どっｔ……なんでもさせてくれるアリス←それな
;	母性は高め、甘やかしたがりのくせに　"寂したがり"
;	恋慕になると男を駄目にする典型こわい
;
;・シチュエーションプレイ、自主トレを7種類用意したい
;	オナバレイベント、くっそ頭悪そうなこと言わせたい
;	アリスの受け攻め妄想は7種 合計14種
;	自主トレメニュー
;	1姫受け　2わんこ受け　3襲い受　4強気受け　5健気受け　6小悪魔受け　7誘い受け
;	1年上攻め　2強気攻め　3鬼畜攻め　4わんこ攻め　5ヘタレ攻め　6女王様(俺様)攻め　7言葉攻め？
;	七色の妄想を使いこなすアリス
;	調教コマンド(エロ系のやつ)をタイプ分けにして、あとでごっこ遊び(口上だけ変える)に使えるようにしたい
;	恋人同士で無理矢理えっちごっごとかいいじゃない！　とりあえずランダム喘ぎで攻め4、攻め3パターン作りました
;	基本2パターンをテキスト分けで装飾を変えるだけなので労力は少なくて済む設計になってるはず……
;
;	眠姦は寝たふりとかいいんじゃないかな（くっ……どこ触ってんのよ///）←起きるに起きられないみたいなの
;	眠姦まだ仕様よくわかってないので後で考える
;
;・貞操観念は普通で他の女に手出ししてても構わない
;	最後に戻ってくればいいと思ってる
;	実は1番じゃなきゃヤダっていう面倒くさい感じ
;	病まない程度に嫉妬させると可愛いんじゃないかな
;	マスターに他に恋人がいるとヘタれる。側室希望
;
;・誘い受けを装った小悪魔受け
;	こわいわー魔女こわい
;
;
;*************************************************************************************
;	□口上書く上での落書きメモ
;
;	素人考えのぷろぐらむ的なこと
;	なるべく後で手出ししやすいように
;	英語が不自由でも気にしない、そもそも日本語すら危うい
;	KISSの原則を忘れるな→忘れてないけど無理でした！
;	関数作るときは頭にK17つける　コマンド系は末尾に追加
;	SELECTCASEとswitchは違う（戒め
;	テキスト主体位置はできるだけインデント左寄せ優先で処理を考える　でかいIFとか作るならRETURNで返しちゃう
;	関数内の変数はstatic？外部参照できないけど保持はされるらしいので初期化に気をつける
;	グローバルいじるときもなるべく17つけて、キャラ番号が変わっても対応できる設計に。念のため他所様に迷惑かけないこと
;	こっち側でできるだけ自己修正機能持たせる
;	変数名の頭に数値iか文字列cとかsをなるべくつける　引数も名前変更するかぁ……
;
;	口上的なこと
;	あなた(プレイヤー)の呼び方
;	台詞中	%K17_CNAME()%	そのうち呼び方も入力で変えられるようにしようか迷う　現在の仕様は関係でちょっと変わるくらい
;	地の文	%CALLNAME:MASTER% %CALLNAME:TARGET%
;	イベント、特に一度しか通らないところはランダム要素控えめに　パラメーターの差異はあり
;	逆に何度も通るとこはRAND_SPLITで多いように見せかける
;	「おなにー」「えっち」ひらがなで言わせてみる
;	勃つ、挿れる漢字使い分ける
;	長くなる場合なるべく3～4行のブロック分けする
;
;******************************************************************************
;		[更新履歴]
;-2016-
;08/30	Ver0.00				夏休み最終日になんか思い立ってEmueraの勉強開始　一ヶ月後にリリース目指す
;09/30	α版				初リリース予定日 進捗だめです　ぐぬぬ、日曜日までバグ取り気になる箇所デバッグ
;10/03	α版 Ver0.01		初リリース
;10/08	α版 Ver0.02		主にコマンドの修正　関係性最高値時のヒント表示でエラー落ちする不具合修正
;10/14	α版 Ver0.02修正	イベント.ERBのみ修正パッチ　スレでのエラー報告を修正
;10/28	α版 Ver0.03		主にコマンド追加
;11/15	α版 Ver0.03修正	パッチ対応
;11/25	β版 Ver0.10		主にうふふ系のコマンドを追加
;11/27	β版 Ver0.10修正	K17_ROUNDの0除算修正
;11/28	β版 Ver0.11		主に修正　少し追加
;12/15	β版 Ver0.12		パンツ輸送の新仕様に対応　コマンド少し追加
;12/25	β版 Ver0.13		ライセンスを整理　copyrightを削除
;
;**** FlagManagement **********************************************************
;本口上にて変更しているCFLAG・TCVAR等　メモ
;本口上内だけで使用しているCFLAG・TCVAR等 念のため17を入れておく
;タグ　M_KOJO_K17_追加ライブラリ.ERH　参照　単純にその要素番号がなんのフラグか忘れちゃわないように名前つけてるだけ
;
;
;	[TALENT]	[タグ]						[説明]						[備考]
;TALENT:17:11	K17C_TALENT_態度			態度						刻印、イベントで変動
;TALENT:17:13	K17C_TALENT_プライド		プライド					刻印、イベントで変動
;
;	[TFLAG]
;TFLAG:120		キスマーク					キスマークのフラグ			本体で使っているもの、口上内で追加あり
;
;	[TCVAR]		[タグ]						[説明]						[備考]
;TCVAR:17:183	キスキャンセル
;TCVAR:17:350	K17C_TC_デートイベ完走		デートイベント再入フラグ	一日一回
;TCVAR:17:351	K17C_TC_デートイベ判定		デートイベント再入フラグ	判定だけなら何度でも
;TCVAR:17:352	K17C_TC_お風呂イベント		一日一回					追い出されたら判定もおしまい連打禁止
;TCVAR:17:353	K17C_TC_上海				一日一回
;TCVAR:17:354	K17C_TC_朝フェラ			一日一回					マスターが先に起きている場合も飛ばしちゃう
;TCVAR:17:355	K17C_TC_スキンシップ		ランダムの設定				毎回ランダムを一日一回設定して朝起きたら戻るはず
;TCVAR:17:356	K17C_TC_うふふ主導権		うふふ開始時の主導権		アリスからならキャラID MASTERからなら-1 終了時0で初期化
;TCVAR:17:357	K17C_TC_溜まってる度		溜まってる度の一時保存		押し倒し時、アリスの溜まってる度　押し倒されらMASTERの精力
;TCVAR:17:358	K17C_TC_人形劇フラグ		人形劇を見たかのフラグ		全部見ると立つ
;TCVAR:17:359	K17C_TC_タイプ一時保存		喘ぎタイプの一時保存		喘ぎタイプを切り替えする時の一時保存　主に拘束系
;TCVAR:17:360	K17C_TC_中出しカウント		MASTERの射精カウント		1回の中出し回数のカウント
;
;	[CFLAG]		[タグ]						[説明]						[備考]
;CFLAG:17:11	弱み握られ					口上内で追加点灯			オナバレ手を出しても点灯 同居自慰でも同等のイベント発生させてみている
;CFLAG:17:11	弱み握り					口上内で追加上下			スキンシップでお仕置きキスマークと同動作あり
;CFLAG:17:13	デート後イベントフラグ		DATE_EVENT再利用に伴う		UPDATEでバグ修正勝手にします（アリスのみ
;CFLAG:17:324	情事目撃					問い詰め用					アリスが恋人　もしくはマスターに恋人がいない場合の知り合いのみ

;CFLAG:17:1001	K17C_CF_素質変化フラグ		素質変化させるかのフラグ	0で未設定(変化あり) 1で変化あり　-1で変化なし
;CFLAG:17:1002	K17C_CF_FKマスター			キス用フラグ				0でまだ　1でした　MASTER用　ついでにカウントしてく
;CFLAG:17:1003	K17C_CF_FKアリス			キス用フラグ				0でまだ　1でした　アリス用　ついでにカウントしてく
;CFLAG:17:1004	K17C_CF_FK					ファーストキスのフラグ		お互いの初きっす　どっちがしたか 1でアリス　-1でMASTERでいいかな
;CFLAG:17:1005	K17C_CF_デートイベント		デートイベントフラグ		0でまだ　1でした
;CFLAG:17:1006	K17C_CF_告白イベント		告白イベントフラグ			0でまだ　1でした　ついでにカウント
;CFLAG:17:1007	K17C_CF_性癖取得			性癖取得フラグ				0でまだ　1でした
;																		性技廃止　快楽刻印で対応　使ってないので平気
;CFLAG:17:1009	K17C_CF_上海イベント		上海イベント				発生設定フラグ　0で未発生-1で発生抑制　やる場合はついでにカウント
;CFLAG:17:1010	K17C_CF_上海好感度			上海好感度					ちょっとしたおまけ　カウント方式
;CFLAG:17:1011	K17C_CF_人形台詞表示設定	人形台詞表示設定			口上中に人形の台詞を表示させるかの設定　イベントとは無関係　0で未設定　1表示　-1非表示
;CFLAG:17:1012	K17C_CF_オナバレ追加イベ	オナバレ追加イベ完走フラグ	0bitが鑑賞　1bitがオナバレックス
;CFLAG:17:1013	K17C_CF_オナニーフラグ		夜オナニーのフラグ			アリスちゃんゆうべはおたのしみでしたね　のフラグ　オナニーから遭遇したら消灯
;CFLAG:17:1014	K17C_CF_お友達イベント		お友達のフラグ				新設した関係性のフラグ そのうちイベント作る　イベントに関わらず関係あげる　保存はイベント後orUPDATE
;CFLAG:17:1015	K17C_CF_喘ぎRT				喘ぎRELATION_TYPE			グローバル保存しておく喘ぎで使うRT
;CFLAG:17:1016	K17C_CF_喘ぎタイプ			喘ぎタイプ					グローバル保存しておく喘ぎタイプ　絶頂とかまたぐやつもこれでなんとか
;CFLAG:17:1017	K17C_CF_喘ぎ部位			喘ぎ部位					グローバル保存しておく喘ぎ部位　ABL基準
;CFLAG:17:1018	K17C_CF_疑い			パンツ没収or時間停止の疑い値	パンツ没収or時間停止解除時の疑い　カウント式で貯まると時間停止バレになる 100まで
;CFLAG:17:1019	K17C_CF_パンツ没収			アリスのパンツ没収			アリスが自身のパンツを没収したことがあるかを保存する
;
;CFLAG:17:1100	K17C_CF_RTF					取得フラグ保存				RTF初回判定用保存用　UPDATEで再設定するときとか使う
;CFLAG:17:1101	K17C_CF_VER					バージョン番号				口上のバージョンを保存　更新するの忘れない……忘れそう
;CFLAG:17:1110	K17C_CF_受け既読			妄想の既読フラグ			受け妄想	既読フラグ読まれていないものから優先的に　妄想種類の必ず連番で使うこと
;CFLAG:17:1111	K17C_CF_攻め既読			妄想の既読フラグ			攻め妄想	全取得で完全ランダム
;CFLAG:17:1120	K17C_CF_喘ぎタイプ選択回数	経験タイプの保存			1120番代+タイプ番号　喘ぎタイプ選択回数を保存　10kまで
;
;
;	[CSTR] FIRSTTIMEで独自にぶっこんでる文字列　基本初回判定で読み飛ばしのためなんかに使う
;デートイベント
;告白イベント
;パンツ没収
;オナバレ
;オナバレ鑑賞初回
;オナバレックス初回
;修羅場					神綺様、夢子限定でプチ修羅場
;押し倒され				アリスがマスターを押し倒した初回
;押し倒し喘ぎタイプ選択
;脱衣
;上海イベント
;スキンシップ各番号0～8
;コマンド通常処理初回口上　SELECTCOM+口上（選択時ではなく通常口上に入ったかを見る　初回失敗などで弾かれた場合を考慮するため）
;
;******************************************************************************
;### 口上存在判定 ###################################
@M_KOJO_K17(ARG)
;ここでRESULTSを設定すると他の同キャラ口上を突っ込まれても正常動作する
;RESULTS = _TEST_
;と設定すると、"EVENT"系イベントだと
;M_KOJO_TEST_EVENT_K17_1() とかで呼ばれる……はず。（未テスト機能）
;ここでCFLAGやTALENTを利用する場合、キャラ番号が必須です
;眠姦口上有に1を入れると、眠姦時にコマンド口上が読み込まれるように

CFLAG:K17C_ID:眠姦口上有 = 1
RETURN 1
;### 口上色判定 ###################################
@M_KOJO_COLOR_K17
SETCOLOR K17C_アリスCOLOR
;ここでSETCOLORすることで口上に色を付けられます
;例：SETCOLOR 0xC07070
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"UPDATE判定"
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_UPDATE_K17
;口上独自のUPDATE用
;ENCOUNTER専用に独自分岐フラグを仕込んだ場合等にどうぞ
;UPDATE判定でCFLAGを使う場合、キャラ番号の指定が必要になります
#DIM DYNAMIC TEMP=0
CALL COLORMESSAGE("妄想エロ乙女アリス　設定・UPDATE開始",K17C_アリスCOLOR,1)
;******************************************************
;素質変更設定
;******************************************************
IF CFLAG:K17C_ID:K17C_CF_素質変化フラグ == 0
	PRINTL
	CALL CHOICE ("本口上によるアリスの素質変化をさせますか？","変化させる","変化させない")
	PRINTL
	SELECTCASE RESULT
		CASE 0
			CFLAG:K17C_ID:K17C_CF_素質変化フラグ = 1
			PRINTFORMDL 以降の行動によって素質が変わることがあります
		CASE 1
			CFLAG:K17C_ID:K17C_CF_素質変化フラグ = -1
			PRINTFORMDL 以降、本口上による素質の変化は行われません
	ENDSELECT
ENDIF

;******************************************************
;人形について　キャラがいたら停止する
;******************************************************
TEMP = K17_GET_DOLL(0)
SIF !TEMP
	CFLAG:K17C_ID:K17C_CF_人形台詞表示設定 = -1
SIF !(TEMP & K17C_上海)
	CFLAG:K17C_ID:K17C_CF_上海イベント = -1

IF CFLAG:K17C_ID:K17C_CF_人形台詞表示設定 == 0
	PRINTL
	PRINTFORMDL このアリス口上内では稀に人形（\@K17_GET_DOLL(K17C_上海) ? 上海# \@　\@K17_GET_DOLL(K17C_蓬莱) ? 蓬莱#\@）が喋ったりします
	PRINTFORMD こんな感じ→
	TRYCALL K17_人形台詞(K17C_上海,0)
	TRYCALL K17_人形台詞(K17C_蓬莱,1)
	RESETCOLOR
	PRINTFORMDL 現在の設定[保留中-喋ります]
	PRINTL
	CALL CHOICE("人形の台詞を表示しますか？","とりあえず保留","喋っていてもいいよ","黙らせる")
	SELECTCASE RESULT
		CASE 0
			PRINTFORMDW 保留しました。UPDATEするとまた選択肢がでます
			SIF !FLAG:口上色
				PRINTFORMW なお口上色の設定がOFFだと見分けがつかないと思います
		CASE 1
			PRINTFORMDW 喋るように設定しました
			CFLAG:K17C_ID:K17C_CF_人形台詞表示設定 = 1
			SIF !FLAG:口上色
				PRINTFORMW なお口上色の設定がOFFだと見分けがつかないと思います
		CASE 2
			PRINTFORMDW 黙るように設定しました
			CFLAG:K17C_ID:K17C_CF_人形台詞表示設定 = -1
	ENDSELECT
ENDIF

;******************************************************
;この口上を使うためのだけのバグを勝手に修正
;******************************************************
;eraTW4.43修正前のセーブデータ
;デート後イベントフラグバグ修正 報告修正済み
;風呂の値が代入されていたため、コマンド選択する度に時間が入っていた模様
;フラグでは3までしかならないはずなので、とりあえず4以上なら修正
IF CFLAG:K17C_ID:デート後イベントフラグ > 3
	PRINTFORM 「デート後イベントフラグバグを検知...
	CFLAG:K17C_ID:デート後イベントフラグ = 0
	PRINTFORM 初期化...
	
	IF CFLAG:K17C_ID:K17C_CF_デートイベント && (CFLAG:K17C_ID:既成事実 & 合意_キス)
		SETBIT CFLAG:K17C_ID:デート後イベントフラグ , 0
		PRINTFORM 1更新...
	ENDIF
	IF CFLAG:K17C_ID:K17C_CF_告白イベント && (CFLAG:K17C_ID:既成事実 & 合意_恋人)
		SETBIT CFLAG:K17C_ID:デート後イベントフラグ , 1
		PRINTFORM 2更新...
	ENDIF
	
	PRINTFORMW 修正しました」
ENDIF

;見つけちゃった稀なやつ
;年齢バグの修正
;IF TALENT:MASTER:年齢 == -2
;	PRINTFORM 「年齢数値バグを検知...
;	TALENT:MASTER:年齢 = 0
;	PRINTFORMW 修正しました」
;ENDIF
;
;;体型バグの修正
;IF TALENT:MASTER:体型 == -3
;	PRINTFORM 「体型数値バグを検知...
;	TALENT:MASTER:体型 = 0
;	PRINTFORMW 修正しました」
;ENDIF

;******************************************************
;口上入れてからのロード時の対応
;とりあえず関係性を増減した場合は対応できるように
;******************************************************
;保存フラグの更新
IF K17_RT_FG(K17C_ID) != CFLAG:K17C_ID:K17C_CF_RTF
	
	;イベントフラグ再設定なんか巧いやり方考える
	;セーブデータからキスコマンド選択したか無理矢理探す
	IF !(FIRSTTIME(312,1,K17C_ID) || !FIRSTTIME(20,1,K17C_ID)) && !CFLAG:K17C_ID:K17C_CF_FKマスター
		PRINTFORM 「特定SELECTCOM FIRSTTIMEを検知...
		CFLAG:K17C_ID:K17C_CF_FKマスター = 1
		PRINTFORMW フラグを更新しました」
	ENDIF
	
	PRINTFORM 「保存フラグの差異を検知...
	CFLAG:K17C_ID:K17C_CF_RTF = K17_RT_FG(K17C_ID)
	PRINTFORMW フラグを更新しました」
	PRINTFORML 次回ヒントを表示します
	PRINTL
	TRYCALL K17_HINT()
	PRINTW
ENDIF
;******************************************************
;口上のバージョン管理
;INTなんで小数点第2を1桁目とするかな
;こんな脆弱なものでいいのか……？（怯え
;******************************************************
IF CFLAG:K17C_ID:K17C_CF_VER < K17C_VER
	
	PRINTFORM 口上のバージョン差異を検知、UPDATE、自己診断を開始...
	
	;------------
	;Ver 0.02
	;------------
	IF CFLAG:K17C_ID:K17C_CF_VER < 002
		;スカートめくりで与えた既読を取り消し修正 動作テストおｋ
		;CSTRから指定文字列を検索して削除　/切り詰め
		TEMP = K17_AUTO_SPLIT_NUM(CSTR:K17C_ID:0,"/","330口上")
		
		;既読＆現条件式を見る
		IF CFLAG:K17C_ID:好感度 <= 5000 && TEMP != -1
			;既読を取り消し
			CSTR:K17C_ID:0 = %K17_CHANGE_SPLIT(CSTR:K17C_ID:0,"/",TEMP)%/
			;修正アナウンス
			CALL COLORMESSAGE("\nコマンド：スカートをめくる。の既読を未読に再設定しました...",K17C_蓬莱COLOR,1)
			CALL COLORMESSAGE("判定基準が前Verから変わりました、再度選択挑戦してみてください...",K17C_蓬莱COLOR,1)
		ENDIF
	ENDIF
	;------------
	;Ver 0.03
	;------------
	IF CFLAG:K17C_ID:K17C_CF_VER < 003
		;新フラグの初期設定　しなくてもいいけど一応
		IF !CFLAG:K17C_ID:K17C_CF_喘ぎRT
			PRINTFORM \n新しく追加されたフラグの初期設定をします...
			CALL K17_SET_AUTO_PVOICE(-1,-1,K17C_受け_おねだり系)
			PRINTFORMW 設定しました
		ENDIF
	ENDIF
	;------------
	;Ver 0.10
	;------------
	IF CFLAG:K17C_ID:K17C_CF_VER < 010
		;新フラグの初期設定　喘ぎタイプの保存
		PRINTFORML \nVer0.10の更新を行います...
		IF CFLAG:K17C_ID:既成事実 & 合意_うふふ
			PRINTFORM うふふ合意を検知...
			PRINTFORM \n新しく追加されたフラグの初期設定をします...
			CALL K17_SET_AUTO_PVOICE(,,K17C_受け_おねだり系)
			PRINTFORMW 設定しました
		ENDIF
		;セクハラ
		IF !FIRSTTIME("(313|315|316)口上",1,K17C_ID)
			PRINTFORM セクハラコマンドの経験を検知...
			PRINTFORM \n新しく追加されたフラグの初期設定をします...
			CALL K17_SET_AUTO_PVOICE(,,K17C_受け_合意襲い系)
			PRINTFORMW 設定しました
		ENDIF
		;オナバレックス経験してれば無理矢理系保存
		IF !FIRSTTIME("オナバレックス初回",1,K17C_ID)
			PRINTFORM オナバレックスの経験を検知...
			PRINTFORM \n新しく追加されたフラグの初期設定をします...
			CALL K17_SET_AUTO_PVOICE(,,K17C_受け_無理矢理系)
			PRINTFORMW 設定しました
		ENDIF
		;押し倒されたことあれば基本を保存
		IF !FIRSTTIME("押し倒され",1,K17C_ID)
			PRINTFORM 押し倒され経験を検知...
			PRINTFORM \n新しく追加されたフラグの初期設定をします...
			CALL K17_SET_AUTO_PVOICE(,,K17C_攻め_お手伝い系)
			PRINTFORMW 設定しました
		ENDIF
		
	ENDIF
	;------------
	;Ver 0.13
	;------------
	IF CFLAG:K17C_ID:K17C_CF_VER < 013
		;MIN内でインクリメントしていたバグがあったため
		;経験していても、フラグ値が加算されていないデータ用
		IF CFLAG:K17C_ID:K17C_CF_上海イベント == 0 && FIRSTTIME("上海イベント",1,K17C_ID)
			PRINTFORM 上海イベント経験を検知...
			CFLAG:K17C_ID:K17C_CF_上海イベント++
			PRINTFORM \nフラグ値を加算しました、長い間バグ発見出来ず申し訳ありませんでした\n
		ENDIF
		
		IF CFLAG:K17C_ID:K17C_CF_告白イベント == 0 && FIRSTTIME("告白イベント",1,K17C_ID)
			PRINTFORM 告白イベント経験を検知...
			CFLAG:K17C_ID:K17C_CF_告白イベント++
			PRINTFORM \nフラグ値を加算しました、長い間バグ発見出来ず申し訳ありませんでした\n

			IF K17_RT_FG(K17C_ID) != CFLAG:K17C_ID:K17C_CF_RTF
				PRINTFORM 「保存フラグの差異を検知...
				CFLAG:K17C_ID:K17C_CF_RTF = K17_RT_FG(K17C_ID)
				PRINTFORMW フラグを更新しました」
				PRINTFORML 次回ヒントを表示します
				PRINTL
				TRYCALL K17_HINT()
				PRINTW
			ENDIF
		ENDIF

	ENDIF
	;------------
	;口上バージョンの更新
	;------------
	CFLAG:K17C_ID:K17C_CF_VER = K17C_VER
	PRINTFORMW ...バージョンを更新しました
	
ELSEIF CFLAG:K17C_ID:K17C_CF_VER  == K17C_VER
	PRINTFORML 現在最新バージョンです
ELSE
	PRINTFORML セーブデータと口上のバージョンが一致しませんでした
	PRINTFORML セーブデータ　Ver. {CFLAG:K17C_ID:K17C_CF_VER/100}.{CFLAG:K17C_ID:K17C_CF_VER%100/10}{CFLAG:K17C_ID:K17C_CF_VER%10}
	PRINTFORML 現在の口上　　Ver. {K17C_VER/100}.{K17C_VER%100/10}{K17C_VER%10}
ENDIF

CALL COLORMESSAGE(@"妄想エロ乙女アリス　設定・UPDATE終了",K17C_アリスCOLOR,1)
;なんだこの計算は（驚愕 あっれーなんかこういう命令なかったっけ
PRINTFORMW Ver. {K17C_VER/100}.{K17C_VER%100/10}{K17C_VER%10}
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"ENCOUNTER"系イベント（エクストラ構文）
;※※※※※※※※※※※※※※※※※※※※※※※※※※
@M_KOJO_ENCOUNTER_K17
#DIM DYNAMIC iDoll,2	;人形フラグ

;初対面、挨拶のタイミング
;TALENTの変更はここでどうぞ
;******************************************************
;人形について　キャラがいたら停止する
;******************************************************
SIF !K17_GET_DOLL(K17C_上海)
	CFLAG:K17C_ID:K17C_CF_上海イベント = -1
SIF !K17_GET_DOLL(0)
	CFLAG:K17C_ID:K17C_CF_人形台詞表示設定 = -1
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && !FLAG:時間停止

	PRINTL
	
	;知り合いのなりきり　ドッペルギャンガー未対応
	IF FLAG:なりきり && K17_GET_FRIENDS(FLAG:なりきり)
		PRINTFORML 「%K17_GT()%、%K17_CNAME()%」
		PRINTFORML 「……%K17_CNAME()%、よね？」
		PRINTFORMDL %CALLNAME:TARGET%はなぜか首をかしげていた
		RETURN 1
	ENDIF
	
	
	;地域セレクト　地域で特別な会話などここで書く
	;魔法の森～人形の洋館まで　拠点できたら追記する
	;魔法の森非自宅時で魔法の森で会った時
	IF MAIN_MAP != 5 && CFLAG:現在位置 >= 森の入り口 && CFLAG:現在位置 <= 人形の洋館
	
		;人かどうかの判定
		IF !(TALENT:MASTER:狐 || TALENT:MASTER:妖狐 || TALENT:MASTER:吸血鬼 ||TALENT:MASTER:動物耳)
			PRINTFORML 「あら？　……こんな場所まで来る人間なんて珍しいわね」
		ELSE
			PRINTFORML 「あら？　……こんな場所まで来る人……妖怪かしら？　珍しいわね」
		ENDIF
		PRINTFORMDL 現れたのは、幻想郷では珍しい西洋風の顔つきの女性だった
		PRINTFORMDL 透き通るような白い肌に、スラリと伸びた手が金髪に触れる
		PRINTFORMDL 頬を流れるように髪が\@ TIME:2 < 5 ? 陽の光に照らされて # 月明かりの中でも \@煌めいて見えた
		PRINTFORML 「私はこの森に住んでいるのだけれど……もしかして迷子かしら」
		PRINTFORML 「こんなところ一人でふらふらと歩いていては危険よ」
		PRINTFORMDL 心配するようにそう言って、柔らかく微笑んだ
		PRINTFORMDL 多少危険な森の中でも、こんな美人な少女と出会えるならそれも悪く無いと思える
		PRINTFORML 「…………」
		PRINTW
		PRINTFORML 「……初対面の相手に対して随分と軽薄ね」
		PRINTFORMDL そう言って視線を逸らす彼女だが少し照れているようにも見えた
		PRINTFORML 「せいぜい悪い魔法使いに騙されないことね」
		PRINTFORMDL そんな魔法使いがいるのだろうか？
		PRINTFORML 「ふふっ、さてどうかしらね」
		PRINTW
	
	;魔法の森が自宅の場合で拠点で会った　とりあえず仮置き
	ELSEIF MAIN_MAP == 5 && INRANGE(CFLAG:MASTER:現在位置,500,599)
			
		PRINTFORML 「%K17_CNAME()%、もしかして最近この辺りに来た人かしら……」
		PRINTFORMDL 現れたのは、幻想郷では珍しい西洋風の顔つきの女性だった
		PRINTFORMDL 透き通るような白い肌に、スラリと伸びた手が金髪に触れる
		PRINTFORMDL 頬を流れるように髪が\@ TIME:2 < 5 ? 陽の光に照らされて # 月明かりの中でも \@煌めいて見えた
		PRINTFORMDL まるでよくできた人形のようだと思ったら失礼なのだろうか
		PRINTFORMDL それにしてもよくできすぎていた
		PRINTW
		PRINTFORML 「なにか困ったことでもあったかしら？」
		PRINTFORML 「なにかあったらすぐに言うのよ。悪い状況は放っておいても好転しないわ」
		PRINTFORMDL 心配するようにそう言って、柔らかく微笑んだ
		;自室
		IF CFLAG:K17C_ID:現在位置 == CFLAG:K17C_ID:初期位置
			PRINTFORML 「それとここは素人には危険なものも置いてあるから、許可無く立ち入るのはやめなさい」
		ELSE
			PRINTFORML 「特にこの辺りは危険な場所だから気をつけなさい」
		ENDIF
		PRINTFORMDL 多少危険な場所でも、こんな美人な少女と会えるならそれも悪く無いと思える
		PRINTFORML 「…………」
		PRINTW
		PRINTFORML 「……初対面の相手に対して随分と軽薄ね」
		PRINTFORMDL そう言って視線を逸らす彼女だが少し照れているようにも見えた
		PRINTFORML 「せいぜい悪い魔法使いに騙されないことね」
		PRINTFORMDL そんな魔法使いがいるのだろうか？
		PRINTFORML 「ふふっ、さてどうかしらね」
	
	;人里広場
	ELSEIF CFLAG:MASTER:現在位置 == CFLAG:K17C_ID:職場 && CFLAG:K17C_ID:職種 == K17C_職種_人形劇
		;人形劇中
		IF !CHARA_HOLIDAY(K17C_ID) && BASE:17:仕事量 && TCVAR:K17C_ID:仕事開始 <= TIME && TCVAR:K17C_ID:仕事終了 >= TIME
			PRINTFORMDL 人集りに目をやると小さな人形劇が行われていた
			PRINTFORMDL 操者は西洋風の顔つきの女性で、操っている人形も舶来品のようだった
			PRINTFORMDL 白く透き通るような肌のか細い指が複雑に動いては、
			PRINTFORMDL キラキラと光の糸が煌めいて、小さな人形がくるくると巧みに踊っていた
			PRINTFORMDL しばらくして、人形がトコトコと目の前まで来ると、
			PRINTFORMDL %CALLNAME:MASTER%に向かって手を伸ばしてくる
			TRYCALL K17_人形台詞(K17C_上海,0)
			TRYCALL K17_人形台詞(K17C_蓬莱,1)
			CFLAG:K17C_ID:K17C_CF_上海好感度+=20
			PRINTFORMDL %CALLNAME:MASTER%は人形の手に指で触れながら自己紹介をした
			PRINTW
			PRINTFORMDL よく出来た人形だ、ぶんぶんと大仰に腕を振って笑ったように見えた
			PRINTFORMDL それに人形を操作してる女性の腕がとても素晴らしい
			PRINTFORMDL %CALLNAME:MASTER%はしばらく人形劇を見物していた
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDW ………………
			PRINTL
			PRINTFORMDL 人集りが一時的に途切れるのみて、人形を操っていた少女ふと笑いかける
			PRINTFORMDL そしてスカートの端を軽く持ち上げ恭しくお辞儀をした
			PRINTFORMDL そんな可憐な姿に%CALLNAME:MASTER%は拍手を贈った
			PRINTW
		ENDIF
		
	;大図書館
	;自宅が紅魔館の時は場所が違うのでそれぞれ判定して
	ELSEIF (CFLAG:現在位置 == 大図書館 && GET_MAPID(CFLAG:現在位置) == 3 && MAIN_MAP != 3) || (MAIN_MAP == 3 && CFLAG:現在位置 == 310)
		
		PRINTFORML 「こんなカビ臭い場所に来る者は、はたして泥棒か知的探求者か……？」
		PRINTFORML 「どちらにしても知識を盗むのは一緒ね」
		PRINTFORMDL えっと……？　とりあえず泥棒ではない
		PRINTFORMDL それに知識は学習するものだろう
		PRINTFORML 「その学習がないのが、よく強盗に来るらしいわよ」
		PRINTFORMDL 警備も学習した方が早そうだな
		PRINTFORML 「まあそうなんだけど。睡眠学習じゃあ、役に立たないのよね」
		PRINTW
		;ぱっちぇさんかこあがいる場合
		IF CFLAG:MASTER:現在位置 == CFLAG:54:現在位置 || CFLAG:MASTER:現在位置 == CFLAG:59:現在位置
			PRINTFORMDL こほん、こほん、と、わざとらしい咳が響いた
			PRINTFORML 「ごめんなさい、五月蝿くするつもりはなかったのだけれど……」
			PRINTFORML 「ここの管理者は色々と厄介なのよ」
		ENDIF
		PRINTFORML 「まあいいわ……ちょっと、こっちへ」
		PRINTFORMDL 彼女が手招きして迷惑にならなそうな場所まで退避した
		PRINTFORML 「ここであまり見かけない顔がいたので、つい声掛けてしまったけど他意はないわ」
		PRINTW
	ENDIF
	
	;～汎用～
	;以下に繋がるように↑を書く　条件に合わない時ここだけ表示
	
	PRINTFORMDL 気づくと目の前を人形がふよふよと飛んでいた
	PRINTFORMDL %CALLNAME:MASTER%はその光景にしばらく目を奪われてしまう
	PRINTFORML 「あら、人形がそんなに珍しいのかしら」
	SIF MAIN_MAP!=5
		PRINTFORML 「……それにしても最近新顔がまた増えたって噂で聞いたけど……」
	PRINTFORMDL なぜか値踏みされるようにしげしげと見られる
	PRINTFORMDL %CALLNAME:MASTER%は緊張しつつ軽く自己紹介をした
	PRINTW
	PRINTFORML 「紹介が遅れたわね。初めまして私は%NAME:TARGET%」
	PRINTFORML 「都会派魔法使いよ」
	PRINTFORMDL 都会派……はともかく、魔法使いだったのか
	PRINTFORM 「私は人形遣いでもあるのよ」
	
	;一応キャラ名チェックしとく　謎のこだわり
	TRYCALL K17_人形台詞(K17C_上海,0)
	iDoll:0 = RESULT
	TRYCALL K17_人形台詞(K17C_蓬莱,1)
	iDoll:1 = RESULT
	IF iDoll:0 && iDoll:1
		PRINTFORML 「この子は上海、こっちは蓬莱。よろしくね」
	ELSEIF iDoll:0
		PRINTFORML 「この子は上海。よろしくね」
	ELSEIF iDoll:1
		PRINTFORML 「この子は蓬莱。よろしくね」
	ELSE
		PRINTFORMDL そう言うと人形が%CALLNAME:MASTER%の目の前にやってくる
	ENDIF
	PRINTFORMDL よくできてた人形だ、生きているようにも感じる
	PRINTFORML 「お褒めに預かり光栄。それも自家製よ」
	PRINTFORMDL あの指から伸びた光の糸？　で操っているのだろうか？
	PRINTFORML 「まあ魔法使いとしてそれは秘密ね」
	PRINTFORMDL そう凛とした表情で紹介する%CALLNAME:TARGET%は、
	PRINTFORMDL 魔法使いとしての能力や、手掛ける人形に誇りを持っているように伺えた
	PRINTFORMDL 一見すると反抗的なような態度にも感じる
	PRINTL	
	PRINTFORMDL そんな%CALLNAME:TARGET%に対し%CALLNAME:MASTER%は
	PRINTL
	PRINTFORMDL [0]これからどうなるか楽しみになった
	PRINTFORMDL [1]素直になる%CALLNAME:TARGET%を見てみたいと思った
	PRINTFORMDL [2]そのままの誇り高い%CALLNAME:TARGET%でいてほしいと思った
	PRINTFORMDL [3]この選択肢の説明しろと思った
	$OPENING_INPUT_LOOP1
	INPUT
	PRINTL
	SELECTCASE RESULT
		CASE 0
			CFLAG:K17C_ID:K17C_CF_素質変化フラグ = 0
			PRINTFORMDL これから仲良くなるのが楽しみになった
			PRINTW
		CASE 1
			CFLAG:K17C_ID:K17C_CF_素質変化フラグ = 1
			PRINTFORMDL これから仲良くなって、素直になる%CALLNAME:TARGET%を見てみたいと思った
			PRINTW
		CASE 2
			CFLAG:K17C_ID:K17C_CF_素質変化フラグ = -1
			PRINTFORMDL これから仲良くなったとしても、%CALLNAME:TARGET%はきっと誇り高いままなんだろう
			PRINTW
		CASE 3
			PRINTFORMDL [0]を選ぶと素質変化ありのまま保留されます UPDATEで一度だけ変更できます
			PRINTFORMDL [1]を選ぶと以降の行動によって素質が変化する、で固定されます
			PRINTFORMDL [2]を選ぶと素質は変化なし、で固定されます
			PRINTFORMDL 口上上の見た目はどちらを選んでも変わりません
			PRINTFORMDL 進行難易度が変わるかと思われます
			;PRINTFORMDL どっちにしろ恋慕がつけばデレる
			GOTO OPENING_INPUT_LOOP1
		CASEELSE
			GOTO OPENING_INPUT_LOOP1
	ENDSELECT
ENDIF
RETURN 1



;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"SP_EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;デート帰りにファーストKISS（合意も付く）
;基本キャンセルされる、ファーストキスを終えると
;二度と見られなくなりますが
;本口上では救済される……はず
;テスト成功　多分行けます
;告白イベントと連動開始
;1度キスキャンセルしたら選択肢はパスする形に
;==================================================
@M_KOJO_SPEVENT_K17_1(ARG,ARG:1)
#DIM DYNAMIC 人気 = 0
#DIM DYNAMIC スキップカウント = 0
#DIM DYNAMIC MAX好感度 = 0
#DIM DYNAMIC 恋人ID = -1
#DIM DYNAMIC MAX好感度ID = -1
#DIM DYNAMIC 順位 = 1
#DIM DYNAMIC iID_Count = 0

;口上主はTARGET
;CALL SPEVENT_MESSAGE_1(ARG,ARG:1)
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && !FLAG:時間停止

PRINTL
	IF FIRSTTIME("デートイベント")
		;初回限定
		PRINTFORMW 「ねえ、ちょっと……」
		PRINTFORMDL なんだろう？　と、振り返ってみると
		PRINTFORMDL %CALLNAME:TARGET%は少し顔を赤らめ、俯いたまま続けた
		PRINTFORML 「ええ……うん、まあちょっとね」
		PRINTFORML 「今日は一日%K17_CNAME()%に付き合ったでしょう」
		PRINTFORML 「だからちょっと私にも付き合いなさいよ」
		PRINTFORMDL ……
		PRINTFORMDL …………
		PRINTFORMDW ………………
		PRINTFORML 「これってあれよね、俗に言うデートってやつよね」
		PRINTFORML 「私とこんなことして楽しいのかしら」
		IF TCVAR:TARGET:キスキャンセル == 1
			PRINTFORML 「%K17_CNAME()%はどうだったか、ちゃんと訊いておきたかったのよ」
			PRINTFORMDL もちろん、楽しかった
			RESULT =0
		ELSE
			{
			CALL K17_CHOICE("「"+K17_CNAME()+"はどうだったか、ちゃんと訊いておきたかったのよ」",
							"もちろん、楽しかった","正直あんまり……","そんなことよりパンツください")
			}
		ENDIF
	ELSE
		IF TCVAR:TARGET:キスキャンセル == 1
			PRINTFORMW 「ねえ、今日はどうだった……？」
			PRINTFORMDL もちろん、楽しかった
			RESULT =0
		ELSE
			$DATE_INPUT_LOOP1
			CALL K17_CHOICE("「ねえ、今日はどうだった……？」","もちろん、楽しかった","正直あんまり……","そんなことよりパンツください")
		ENDIF
	ENDIF
	
	
	SELECTCASE RESULT
		CASE 0
			PRINTFORML 「そう、ありがとう。私も楽しかったわ」
		CASE 1
			PRINTFORML 「そう、じゃいいわ……」
			PRINTFORML 「……やっぱり気の迷いか」
			PRINTFORMDL %CALLNAME:TARGET%は小さく独り言ちてすぐさま凛とした顔に戻っていた
			PRINTFORML 「ごめんなさい、なんでもないわ」
			PRINTW
			TCVAR:TARGET:キスキャンセル = 1
			TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
			RETURN 1
		CASEELSE
			スキップカウント++
			IF スキップカウント >= 3
				PRINTFORML 「もういいわ……」
				PRINTW
				TCVAR:TARGET:キスキャンセル = 1
				TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
				RETURN 1
			ENDIF
			PRINTFORML 「%K17_RS("真面目に答えなさいって/ちゃんと話聞きなさいよ")%」
			GOTO DATE_INPUT_LOOP1
	ENDSELECT
	
	PRINTFORMDL ならこのデートは成功だったと思う
	PRINTW
	PRINTFORML 「私は……誰とでもデートするわけじゃないわ」
	PRINTFORML 「あの森で独り、人形と一緒にずっと過ごしているんだと思ってた……」
	PRINTFORML 「でもね、いつか素敵な人と恋をしてみたい、っていう願望もあったのよ……」
	PRINTFORMDL %CALLNAME:TARGET%がじっ、っとこちらを見つめてくる
	
	;人気チェック ついでに恋人が誰か探す　アリスちゃんまじこわい
	MAX好感度 = CFLAG:K17C_ID:好感度
	MAX好感度ID = K17C_ID
	FOR iID_Count,1,CHARANUM
		;出禁　アリス以外を見る
		SIF CFLAG:iID_Count:出禁 || iID_Count == K17C_ID
			CONTINUE
		IF MAX好感度 <= CFLAG:iID_Count:好感度
			MAX好感度 = CFLAG:iID_Count:好感度
			MAX好感度ID = iID_Count
		ENDIF
		SIF CFLAG:K17C_ID:好感度 <= CFLAG:iID_Count:好感度
			順位++
		SIF TALENT:iID_Count:恋慕
			人気 += 3
		SIF TALENT:iID_Count:思慕
			人気 += 1
		IF TALENT:iID_Count:恋人
			恋人ID = iID_Count
			人気 += 10
		ENDIF
	NEXT
	
	;MASTERに恋人がいてアリスではないとき
	IF !(CFLAG:TARGET:既成事実 & 合意_恋人) && TALENT:MASTER:恋人
		;誰が恋人か見る
		IF K17_GET_FRIENDS(恋人ID)
			;ｈ参照
			PRINTFORML 「それがよりにもよって%K17_CNAME(恋人ID)%の恋人だなんて……」
			PRINTFORML 「これってどういうことなのかしら……」
		;その他の人
		ELSE
			PRINTFORML 「なのに%K17_CNAME()%には、他に恋人がちゃんといるでしょ」
			PRINTFORML 「もしかして私、遊ばれているのかしら？」
		ENDIF
		
	;それ以外
	ELSE
		;最大好感度か、すでに恋人ならここ
		IF MAX好感度ID == K17C_ID || TALENT:MASTER:恋人 == K17C_ID
			PRINTFORML 「だけどこの先も%K17_CNAME()%の一番でいられるか不安なの」
		ELSE
			;あわわわ……
			IF 順位 <= 5
				PRINTFORML 「なのに私は、%K17_CNAME()%の{順位}番手ってところでしょ……」
			ELSE
				PRINTFORML 「私は、%K17_CNAME()%のハーレムの一員ってところでしょ……」
			ENDIF
		ENDIF
		
		;人気を見る
		SELECTCASE 人気
			CASE IS >= 10
				PRINTFORML 「だって%K17_CNAME()%、随分とモテるみたいじゃない」
			CASE IS >= 4
				PRINTFORML 「だって%K17_CNAME()%、色んな子に手を出してるみたいじゃない」
			CASE IS >= 1
				PRINTFORML 「だって%K17_CNAME()%、他にも気になる娘がいるんでしょ」
			CASE 0
				PRINTFORML 「%K17_CNAME()%は、何故そんなに私だけに拘るのかしら」
		ENDSELECT
	ENDIF
	
	IF 人気 != 0
		PRINTFORMDL 確かに、%CALLNAME:TARGET%に対して不誠実だったのかもしれない
		;うそだ！
		PRINTFORML 「ごめんなさい、責めてるつもりはないのよ」
		PRINTFORML 「私こういう面倒くさい奴なのよ……」
		
		
		
		IF TCVAR:TARGET:キスキャンセル==0
			$DATE_INPUT_LOOP2
			CALL K17_CHOICE("「それでもまた、誘ってくれるかしら？」","もちろん誘う","さすがに、めんどくさい","そんなことよりパンツほしい")
		ELSE
			PRINTFORML 「それでもまた、誘ってくれるかしら？」
			PRINTFORMDL もちろん誘う
			RESULT = 0
		ENDIF
		
		SELECTCASE RESULT
			CASE 0
				PRINTFORML 「ん、ありがとう。%K17_CNAME()%のやさしさに甘えてるわね」
			CASE 1
				PRINTFORML 「……やっぱり面倒よね」
				PRINTFORMDL %CALLNAME:TARGET%は小さく独り言ちてすぐさま凛とした顔に戻っていた
				PRINTFORML 「ごめんなさい、もう誘ってくれなくていいわ」
				PRINTW
				TCVAR:TARGET:キスキャンセル = 1
				TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
				RETURN 1
				
			CASEELSE
				スキップカウント++
				IF スキップカウント >= 3
					PRINTFORML 「もういいわ……」
					PRINTW
					TCVAR:TARGET:キスキャンセル = 1
					TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
					RETURN 1
				ENDIF
				PRINTFORML 「真剣に話してるつもりなんだけど」
				GOTO DATE_INPUT_LOOP2
		ENDSELECT
		PRINTFORML 「じゃあちゃんと言うわね……」
	ELSE
		PRINTFORMDL %CALLNAME:TARGET%が一番大切だから、それが当たり前のことだと思う
		PRINTFORML 「っ……いえ、ありがとう。%K17_CNAME()%、一途なのね」
		PRINTFORML 「じゃ、じゃあね、そのね、%K17_CNAME()%の気持ちに応えるわね」
	ENDIF
	
	PRINTW
	
	;アリスからキス
	CALL K17_FIRSTKISS_ALICE(TARGET)
	IF RESULT == 0
		;もうアリスからのファーストキスをしてもらっていた場合
		SELECTCASE K17_GRT(TARGET)
			CASE IS >= K17C_恋慕
				PRINTFORML 「愛してるわ……」
			CASE IS >= K17C_思慕
				PRINTFORML 「好きよ……」
		ENDSELECT
		PRINTFORML 「んっ……%K17_HEART()%」
		PRINTFORML 「私から{CFLAG:K17C_ID:K17C_CF_FKアリス}回目のキスね」
		PRINTW
	ENDIF
	
	IF TALENT:MASTER:キス未経験 && TALENT:TARGET:キス未経験
		PRINTFORML 「%K17_CNAME()%の初めて、私が貰っちゃったわね」
		PRINTFORML 「私も初めてが%K17_CNAME()%でよかった……」
		PRINTFORMDL お互いの気持ちが通じたような気がした……
		PRINTW
	ELSEIF TALENT:TARGET:キス未経験
		PRINTFORML 「私の初めてよ」
		PRINTFORMDL %CALLNAME:TARGET%のキスは見た目とは裏腹に初々しかった
		PRINTW
	ELSEIF TALENT:MASTER:キス未経験
		PRINTFORML 「%K17_CNAME()%の初めて奪っちゃったわね」
		PRINTFORMDL %CALLNAME:TARGET%のキスはとても優しかった
		PRINTW
	ENDIF
	
	PRINTFORML 「私からちゃんと気持ち伝えておきたかったのよ……伝わったかしら？」
	PRINTFORMDL その想いは唇から%CALLNAME:MASTER%に十分伝わった……
	PRINTW
	
	IF CFLAG:TARGET:弱み握られ
		PRINTFORML 「これもあれよ、あれの口止め料よ」
		PRINTFORMDL そういえば弱みを握っていた気がする
		PRINTW
	ELSE
		;つまり誘い
		SIF TALENT:TARGET:恋慕
			PRINTFORML 「いつでも待ってるから……会いに来てね」
		SIF TALENT:TARGET:思慕
			PRINTFORML 「いつでも待ってるから……会いに来なさいよね」
	ENDIF
	
	IF 人気 == 0 && 恋人ID == -1
		PRINTFORML 「……うん、出だしは好調ね」
	ELSEIF 人気 >= 1 && 恋人ID != -1
		PRINTFORML 「……誰にも負けないわ」
	ELSEIF 人気 >= 1
		PRINTFORML 「……うん、出だしはまずまずね」
	ENDIF
	
	;恋人がすでにいる場合
	IF !(CFLAG:TARGET:既成事実 & 合意_恋人) && TALENT:MASTER:恋人
		IF K17_GET_FRIENDS(恋人ID)
			PRINTFORML 「……%K17_CNAME(恋人ID)%にもね」
		;その他の人
		ELSEIF !(恋人ID == -1)
			PRINTFORML 「……恋人にだってね」
		ENDIF
	ENDIF
	PRINTFORMDL %CALLNAME:TARGET%は囁くように耳元で呟いた
	
	;完走マジおつかれ　口上側から呼ぶのも考えて終了処理
	TCVAR:TARGET:キスキャンセル = 0
	CFLAG:K17C_ID:K17C_CF_デートイベント =1
	SETBIT CFLAG:TARGET:デート後イベントフラグ,0
	TCVAR:K17C_ID:K17C_TC_デートイベ完走 = 1
	CALL K17_RELATION_EV(K17C_RTF_逢引)
	SIF !RESULT
		PRINTW
ENDIF
RETURN 1


;==================================================
;デート帰りに告白（恋人が付く）
;==================================================
@M_KOJO_SPEVENT_K17_2(ARG,ARG:1)
;口上主はTARGET
#DIM EVck=0	;デートイベントに行ってたかチェック
#DIM iRT=0
#DIM iRTF=0

EVck = 0
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && !FLAG:時間停止
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;告白内容
	;この告白内容表示後に受けるかどうかの選択分が表示されます
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 0
	
		;-------------------------------------------------
		;デートイベント前に告白に入る場合もあるので先消化
		;-------------------------------------------------
		IF !CFLAG:K17C_ID:K17C_CF_デートイベント
			TCVAR:TARGET:キスキャンセル = 1
			EVck=1
			CALL M_KOJO_SPEVENT_K17_1(TARGET)
			SETBIT CFLAG:ARG:デート後イベントフラグ , 0
		ENDIF
				
		;各種初期化
		CFLAG:K17C_ID:K17C_CF_告白イベント = MIN(CFLAG:K17C_ID:K17C_CF_告白イベント + 1,10000)
		iRT = K17_GRT(TARGET)
		iRTF = K17_RT_FG(TARGET)
		;-------------------------------------------------
		;初回
		;-------------------------------------------------
		IF FIRSTTIME("告白イベント",1) && EVck==0
			;初回限定　デートイベント経由も飛ばし
			PRINTFORML 「……（よしっ）」
			PRINTFORMDL なんだろう、急に……
			PRINTFORMDL %CALLNAME:TARGET%が両手拳を作って構えている
			PRINTFORML 「……っ……っっ～～～%K17_BLUSH()%」
			PRINTFORMDL が、こちらに向き直ると耳まで真っ赤になって俯いてしまう
			PRINTFORML 「～～～もう、もうもう」
			PRINTFORMDL そしてそのままぽかぽかと叩いてくる
			PRINTFORMDL 痛くはないし、なんだか可愛らしい
			PRINTW
			CALLF FIRSTTIME("告白イベント")
		ENDIF
		
		;-------------------------------------------------
		;二回目以降ここから
		;-------------------------------------------------
		PRINTFORML 「ん、ちょっと……こうさせて……」
		PRINTFORMDL ふいに歩みを止め%CALLNAME:TARGET%が絡めた%CALLNAME:MASTER%の%K17_RS("腕/手")%を引き寄せ、%K17_RS("胸に顔を埋めた/抱きついてきた")%
		PRINTFORMDL そのまま頭をこすりつけながら甘えていた
		PRINTW
		
		;MASTERに恋人がいてアリスではないとき　本家からはこない
		IF !(CFLAG:TARGET:1 & 4) && TALENT:MASTER:恋人
			SELECTCASE iRT
				CASE IS >= K17C_恋慕
					IF K17_GET_FRIENDS(TALENT:MASTER:恋人)
						PRINTFORML 「……こんなこと%K17_CNAME(TALENT:MASTER:恋人)%に%K17_RS("悪い/申し訳ない")%ってわかってるの」
					ELSE
						PRINTFORML 「……こんなこと%K17_RS("恋人/本命")%に%K17_RS("悪い/申し訳ない")%ってわかってるの」
					ENDIF
					PRINTFORML 「でも%K17_CNAME()%のこと%K17_RS("好きな/愛してる/大好きな")%のよ」
					PRINTFORML 「私は%K17_RS("ハーレムの末席/ハーレムの一員/愛人/妾/側室")%でいいから、ちゃんと覚えておいてね……」
					PRINTFORML 「……愛してるわ」
				CASE IS >= K17C_思慕
					PRINTFORML 「やっぱりその……こんなこと%K17_RS("よくない/悪い/いけない")%のかしら……」
					PRINTFORML 「でも%K17_RS("やめられないの/止められないの")%……」
					PRINTFORML 「……好きよ」
			ENDSELECT
			PRINTFORMDL %CALLNAME:MASTER%は胸に埋める%CALLNAME:TARGET%の頭を撫で続けることしか出来なかった
			
		ELSEIF TALENT:MASTER:恋人 == K17C_ID
			;恋人同士
			PRINTFORML 「ふう……ごめんなさい。いえ、ありがとう、ね」
			PRINTFORML 「髪が……あっ……ぁぅ……」
			PRINTFORMDL なんだかこうして普通に甘える%CALLNAME:TARGET%が珍しくて頭を撫で付ける
			PRINTFORML 「こうして恋人同士になったのに、またちゃんとデートしてくれるのね」
			SELECTCASE iRT
				CASE IS >= K17C_性癖
					PRINTFORML 「ねえ%K17_CNAME(0,1)%　好き%K17_HEART()%　大好き%K17_HEART()%　%K17_HEART()%愛してる%K17_HEART()%」
					PRINTFORML 「もうっ、もうもう。なんでこんなに私を愛してくれるのよ」
					PRINTFORML 「本当にいつもありがとう、愛してるわ%K17_CNAME(MASTER,1)%」
				CASE IS >= K17C_恋慕告白
					PRINTFORML 「%K17_RS()%いつも%K17_RS("大事にして/大切にして/愛して/可愛がって")%くれて、ありがとう」
					PRINTFORML 「愛してるわよ」
				CASE IS >= K17C_思慕うふふ
					PRINTFORML 「%K17_CNAME()%って、本当に私の事好きよね……？」
					PRINTFORML 「ううん、私のほうがもっと好きよ」
				CASE IS >= K17C_思慕
					PRINTFORML 「ふふっ……%K17_RS("得点高いわよ/いい心がけよ/私の事よくわかってるのね")%」
					PRINTFORML 「惚れなおしたってこと」
			ENDSELECT
			PRINTFORMDL %CALLNAME:TARGET%が喜んでくれて何よりだった
			PRINTFORMDL %CALLNAME:MASTER%は%K17_RS("大好きな/愛おしい/大切な恋人")%%CALLNAME:TARGET%と楽しいひと時を過ごした
			
			
		;-------------------------------------------------
		;お互いまだ誰とも付き合ってない時 本来の仕様
		;-------------------------------------------------
		ELSEIF !TALENT:MASTER:恋人
			
			;-------------------------------------------------
			;告白　初回
			;-------------------------------------------------
			IF CFLAG:K17C_ID:K17C_CF_告白イベント == 1
				PRINTFORML 「ねえ、私たちって、なんなのかしら……？」
				SIF iRTF & K17C_RTF_キス
					PRINTFORML 「キスはしたし……」
				SIF iRTF & K17C_RTF_うふふ
					PRINTFORML 「身体の関係も……あるし……」
				SIF !FIRSTTIME("オナバレ",1)
					PRINTFORML 「家で……あっ、あんなとこも見られちゃったし……」
				
				PRINTFORMDL たしかに……今までお互いの関係をはっきりさせていないかもしれない
				PRINTFORML 「%K17_CNAME()%だってまだ誰とも付き合ってないんでしょ」
				PRINTFORML 「…………」
				PRINTFORMDL それきり言って次の言葉を探しているのか、それとも待っているのか
				PRINTFORMDL %CALLNAME:TARGET%は無言のまま俯き%CALLNAME:MASTER%の服の裾を引っ張っている
				PRINTW
				SELECTCASE iRT
					CASE IS >= K17C_恋慕
						PRINTFORML 「だったら、私とちゃんと付き合って……よ……」
						PRINTFORMDL 顔を上げると真っ直ぐな目で%CALLNAME:MASTER%を見つめ告げてくる
						PRINTFORMW 「私……%K17_CNAME()%を愛してる……の」
						PRINTFORML 「もう%K17_CNAME()%なしの生活なんて考えられないわ……」
						
					CASE IS >= K17C_思慕
						PRINTFORML 「だったら、私とちゃんと付き合って……下さぃ……」
						PRINTFORMW 「……%K17_CNAME()%……すっ……好き……なのょ……%K17_BLUSH(3)%」
						PRINTFORMDL 耳まで真っ赤に染めて蚊の鳴くような声でそう告げた
						PRINTFORML 「%K17_CNAME()%、私のことちゃんと責任取りなさい、よね……」
				ENDSELECT
			;-------------------------------------------------
			;告白　二回目以降　アリス練習してきた！
			;-------------------------------------------------
			ELSE
				PRINTFORML 「ふう……あら、わからない？　これから言うこと……」
				PRINTFORML 「%K17_CNAME()%が恋人作るまで何度だって言うわよ」
				PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の方へ向き直ると、真っ直ぐな瞳で見つめ告げてくる
				SELECTCASE iRT
					CASE IS >= K17C_恋慕
						
						PRINTFORMW 「%K17_CNAME()%、愛してる%K17_HEART()%」
						
						;口説き文句　あれこれ重くね？
						PRINTDATADL
							DATAFORM 「%K17_CNAME()%のために毎日ご飯作ってもいいわ」
							DATAFORM 「その……えっちなことだって、毎日しても構わないわ」
							DATAFORM 「毎朝%K17_CNAME()%の横で目を覚ましたい……」
							DATAFORM 「ずっと傍に置いて、いつでもどこでも一緒に居て欲しいの」
						ENDDATA
						PRINTFORML 「もう観念しちゃいなさいよ……ホント……」
						
					CASE IS >= K17C_思慕
						
						PRINTFORMW 「%K17_CNAME()%、好きよっ」
						PRINTFORML 「私と付き合って下さい」
						PRINTFORML 「ど、どう？　照れずに言ってやったわよ」
				ENDSELECT
				
				;嘘だ！
				PRINTFORML 「まあこれだけ待たされてるんだから、すぐに答えろって言ってるわけじゃないのよ」
				PRINTFORML 「でも……ちゃんと覚えておいてね」
				
			ENDIF
		ENDIF
		
		;フラグチェック
		CALL K17_RELATION_EV(K17C_RTF_告白)
		TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白オッケー（恋人が付く）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「………………」
		PRINTFORML 「……えっと……ホントに私でいいの……？」
		PRINTFORMDL もちろん。%CALLNAME:TARGET%と恋人同士になる
		PRINTFORMDL そう答えたつもりだ
		PRINTW
		PRINTFORML 「わたっ……私っ！　もっと可愛くて、綺麗な娘になる！」
		PRINTFORMDL 今でも十分だと思うが……
		PRINTFORML 「%K17_CNAME()%に相応しい恋人になりたいのっ」
		PRINTFORML 「ありがとう、%K17_CNAME()%。私、頑張るからっ」
		PRINTW
		PRINTFORML 「%K17_CNAME()%、愛してるわっ%K17_HEART()%」
		PRINTFORMDL 随分と興奮した様子で%CALLNAME:MASTER%に笑顔で抱きついてくる%CALLNAME:TARGET%
		PRINTFORMDL それはこれまでに見た最高の笑顔だった
		;フラグチェック
		CALL K17_RELATION_EV(K17C_RTF_恋人)
		TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;告白失敗
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		
		;振られた回数によって分岐
		SELECTCASE CFLAG:K17C_ID:K17C_CF_告白イベント
			CASE IS >= 10
				PRINTFORML 「もう10回以上振られちゃってるのね……」
				PRINTFORML 「……ばかぁ……」
				PRINTFORMDL ついに%CALLNAME:TARGET%の目から大粒の涙が零れてしまった……
				PRINTFORML 「…………でも……大好き……」
			CASE IS >= 5
				PRINTFORML 「ふぅ…………」
				PRINTFORML 「わかってる…………わかってるから、なにも言わないで……」
				PRINTFORMDL %CALLNAME:TARGET%はそう言って顔を逸らしてしまう。だいぶ落ち込んでいるように見えた
			CASEELSE
				PRINTFORML 「ふぅ……うん、大丈夫」
				PRINTFORML 「何度でもアタックして、絶対振り向かせてやるんだから……」
				PRINTFORMDL そう言って気丈に振る舞う%CALLNAME:TARGET%だが、薄っすらと目に涙が浮かんでいるように見えた
		ENDSELECT
		PRINTFORMDL そんな%CALLNAME:TARGET%の姿に%CALLNAME:MASTER%はかける言葉がなかった……
		TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
		PRINTW
		RETURN 1
	ENDIF
	

TCVAR:K17C_ID:K17C_TC_デートイベ完走=1
ENDIF
RETURN 1

;==================================================
;デート帰り
;==================================================
@M_KOJO_SPEVENT_K17_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && !FLAG:時間停止
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL = 1
	;-------------------------------------------------
	IF LOCAL && ARG == 0
	
		;デートイベントを再判定　SP再突入は一日一回
		IF TCVAR:K17C_ID:K17C_TC_デートイベ完走==0 && TCVAR:K17C_ID:K17C_TC_デートイベ判定==0 && !FLAG:時間停止
			CALL K17_DATE_EVENT_RELIEF(TARGET)
			IF TCVAR:K17C_ID:K17C_TC_デートイベ完走
				RETURN 1
			ENDIF
		ENDIF
		
		SELECTCASE K17_GRT(TARGET)
			CASE IS>=K17C_思慕うふふ
				PRINTFORML 「もう帰る時間か……」
				PRINTFORML 「名残惜しいわ……%K17_CNAME()%と居ると、時間経つのが早いわね」
				PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%に寄り添って、なかなか%K17_RS("手/身体/腕")%を離さず名残惜しんでいた
			CASE IS>=K17C_思慕
				PRINTFORML 「ん、今日はどうもありがとう」
				PRINTFORML 「%K17_CNAME()%といて色々と楽しかったわよ」
				PRINTFORMDL いつもクールに見えた%CALLNAME:TARGET%だったが、今日は%K17_RS("顔が少し赤いように見えた/繋いだ手をまだ離さないでいた/眼差しがうっとりしている気がした")%
			CASEELSE
				PRINTFORML 「ん、お疲れ様」
				PRINTFORMDL にべもなく颯爽と去っていった
		ENDSELECT
		
		;戻ってきたので判定のみ戻し
		;一度目判定失敗（通常帰宅）してもイベント完走してなければ同じ日でもイベント見れるはず
		;ただし本家仕様は考慮されない仕方ないね
		;キスキャンセルした場合も完走としてみなし、翌日から
		TCVAR:K17C_ID:K17C_TC_デートイベ判定=0

	ENDIF
	;-------------------------------------------------
	;反発刻印消去イベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「言った通り態度を改めたってわけね」
		PRINTFORML 「またすぐ調子乗らないのよ」
	ENDIF
	;-------------------------------------------------
	;反発刻印2>1レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「まあ、及第点ね」
		PRINTFORML 「また頑張って罪を償うのよ」
	ENDIF
	;-------------------------------------------------
	;反発刻印3>2レベルダウンイベント
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「今日のところは評価してあるげる」
		PRINTFORML 「でもこの程度で全て許されたと思わないことね」
	ENDIF
	
	
ENDIF
PRINTW
RETURN 1

;※※※※※※※※※※※※※※※※※※※※※※※※※※
;"EVENT"系イベント
;※※※※※※※※※※※※※※※※※※※※※※※※※※
;==================================================
;部屋で遭遇
;改行したいのでRETURN統一
;仕事中はなしで
;==================================================
@M_KOJO_EVENT_K17_1(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && CFLAG:K17C_ID:行動 != 5

	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERが入ってきた
	;一日一回処理
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTL
		IF !TCVAR:TARGET:今日会ったか
			
			;朝目を覚ました時時間が更新されないので挨拶おかしくなるので退避
			IF CFLAG:TARGET:初期位置 == CFLAG:MASTER:初期位置
				TCVAR:TARGET:今日会ったか = 0
				CALL M_KOJO_EVENT_K17_2(1)
				CFLAG:K17C_ID:K17C_CF_オナニーフラグ = 0
				RETURN 1
			ENDIF
			
			;オナバレ後の遭遇
			IF CFLAG:TARGET:オナバレ
				PRINTFORML 「あっ……っ～～～～%K17_BLUSH()%」
				;鑑賞orオナバレックス
				IF CFLAG:TARGET:オナバレ > 1
					SELECTCASE K17_GRT(TARGET)
						CASE IS >= K17C_思慕うふふ
							PRINTFORML 「……%K17_GT()%、変態さん%K17_HEART()%」
						CASEELSE
							PRINTFORML 「…………変態っ%K17_BLUSH()%」
					ENDSELECT
				ENDIF
				PRINTW
				RETURN 1
			ENDIF
			
			;夜オナニー後遭遇　思慕↑
			IF CFLAG:K17C_ID:K17C_CF_オナニーフラグ
				SELECTCASE K17_GRT(TARGET)
					CASE IS >= K17C_恋慕
						PRINTFORML 「……%K17_GT()%……%K17_BLUSH()%」
						PRINTFORML （また勝手な妄想しちゃいました……ごめんなさいっ）
					CASE IS >= K17C_思慕
						PRINTFORML 「……%K17_GT()%……%K17_BLUSH()%」
						PRINTFORML （っ～～～%K17_BLUSH()%　いっ、意識しちゃう……）
				ENDSELECT
				PRINTFORMDL なんだか今日の%CALLNAME:TARGET%は、顔がやけに赤かった
				CFLAG:K17C_ID:K17C_CF_オナニーフラグ = 0
				PRINTW
				RETURN 1
			ENDIF
			
			
			;通常処理
			SELECTCASE K17_GRT_EX(TARGET)
				CASE IS >= K17C_恋慕
					PRINTFORML 「%K17_GT()%、%K17_CNAME(MASTER,1)%　今日も%K17_RS("逢いに来てくれた/逢いたくなった")%のかしら%K17_HEART()%」
				CASE IS >= K17C_思慕うふふ
					PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME(MASTER,1)%　%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
				CASE IS >= K17C_思慕
					PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME()%、%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
				CASEELSE
					PRINTFORML 「%K17_RS("あら/ん")%、%K17_GT()%」
			ENDSELECT
		
	;-------------------------------------------------
	;1日中会う度に出る
	;-------------------------------------------------
		ELSE
			;特殊な場所の処理
			IF BATHCHECK(CFLAG:MASTER:現在位置)
				PRINTFORMDL %CALLNAME:TARGET%は裸体を腕で隠している
				RETURN 1
			ENDIF
			
			;通常処理
			PRINTFORMD %CALLNAME:TARGET%が
			SELECTCASE K17_GRT()
				CASE IS >= K17C_恋慕
					PRINTFORMD 軽く手を振り
					PRINTFORMD %K17_RS("ウィンクして/笑顔を向けて/うっとりした表情で")%
				CASE IS >= K17C_思慕
					PRINTFORMD 軽く手を挙げ
					PRINTFORMD %K17_RS("少し赤面して/少し照れたように/目が合うと視線を逸らし")%
			ENDSELECT
			PRINTFORMDL %CALLNAME:MASTER%に%K17_RS("寄ってきた/挨拶した/近づいてきた")%
			
		;一日一回終端
		ENDIF
		PRINTW
	;MASTERが入ってきた終端
	ENDIF
	;-------------------------------------------------
	;TARGETが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTL
		IF !TCVAR:TARGET:今日会ったか && CFLAG:17:行動 != 5
			;通常処理
			SELECTCASE K17_GRT_EX(TARGET)
				CASE IS >= K17C_恋慕
					PRINTFORML 「%K17_GT()%、%K17_CNAME(MASTER,1)%　%K17_RS("来ちゃった/逢いたくなって来ちゃった")%%K17_HEART()%」
				CASE IS >= K17C_思慕うふふ
					PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME(MASTER,1)%　%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
				CASE IS >= K17C_思慕
					PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME()%、%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
				CASEELSE
					PRINTFORML 「%K17_RS("あら/ん")%、%K17_GT()%」
			ENDSELECT
			
		ELSE
			;特殊な場所の処理
			IF BATHCHECK(CFLAG:MASTER:現在位置)
				PRINTFORMDL %CALLNAME:TARGET%は裸体を腕で隠している
				RETURN 1
			ENDIF
			
			PRINTFORMD %CALLNAME:TARGET%が
			SELECTCASE K17_GRT()
				CASE IS >= K17C_恋慕
					PRINTFORMD 軽く手を振り
					PRINTFORMD %K17_RS("ウィンクして/笑顔を向けて/うっとりした表情で")%
				CASE IS >= K17C_思慕
					PRINTFORMD 軽く手を挙げ
					PRINTFORMD %K17_RS("少し赤面して/少し照れたように/目が合うと視線を逸らし")%
			ENDSELECT
			PRINTFORMDL %CALLNAME:MASTER%に%K17_RS("寄ってきた/挨拶した/近づいてきた")%
		ENDIF
		PRINTW
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて一緒に入る
	;@風呂追い出し条件見る
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTL
		PRINTFORML 「きゃっ！？」
		PRINTFORMDL 入ってきたのは裸姿の%CALLNAME:TARGET%だった
		PRINTFORML 「って%K17_CNAME()%か、誰かと思ってびっくりしたわ」
		PRINTFORMDL 身体を弾ませてこちらに寄ってくる
		IF K17_CHECK_RANDOM_EVENT(TARGET) && !TCVAR:K17C_ID:K17C_TC_お風呂イベント
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、真っ赤になって湯船に浸かってしまった
		ELSE
			PRINTFORMDL %K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
		ENDIF
		PRINTW
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて出て行った
	;@風呂追い出し条件 !恋慕 キス前 態度2未満
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTL
		;仲良くなる前反応
		PRINTFORML 「ッッ！？！？　し、失礼ッ！」
		PRINTFORMDL 突然入ってきたのは裸姿の%CALLNAME:TARGET%だった
				
		
		;ランダムイベ　裸鑑賞　長くなったので関数化
		IF K17_CHECK_RANDOM_EVENT(TARGET) && !TCVAR:K17C_ID:K17C_TC_お風呂イベント
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、そそくさと出て行った
		ELSE
			PRINTFORMDL 出て行く際に%K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
			TCVAR:K17C_ID:K17C_TC_お風呂イベント = 1
		ENDIF
		PRINTW
	ENDIF
	;-------------------------------------------------
	;TARGETが風呂に入ってきて追い出された
	;@風呂追い出し条件==0 && 弱み && HETEROSEX==1
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTL
		;仲良くなる前反応
		PRINTFORML 「ッッ！？！？　で、でてけええ！」
		PRINTFORMDL 中に居たのは裸姿の%CALLNAME:TARGET%だった
		PRINTFORMDL 慌てた様子で桶を振りかぶっていた
		
		IF K17_CHECK_RANDOM_EVENT(TARGET) && !TCVAR:K17C_ID:K17C_TC_お風呂イベント
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、追い出された
		ELSE
			PRINTFORMDL 追い出される際に%K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
			TCVAR:K17C_ID:K17C_TC_お風呂イベント = 1
		ENDIF
		PRINTW
	ENDIF
	;-------------------------------------------------
	;外出先で遭遇した
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTL
		SELECTCASE K17_GRT_EX(TARGET)
			CASE IS >= K17C_恋慕
				PRINTFORML 「%K17_GT()%、%K17_CNAME(MASTER,1)%　%K17_RS("逢いたいって思ってたら逢えちゃったわ/逢いたいなって思ってたところよ")%%K17_HEART()%」
			CASE IS >= K17C_思慕うふふ
				PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME(MASTER,1)%　%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
			CASE IS >= K17C_思慕
				PRINTFORML 「%K17_RS("あっ……/")%%K17_GT()%、%K17_CNAME()%、%K17_RS("今日も会えたわね/最近よく会うわね/また会えたわね")%」
			CASEELSE
				PRINTFORML 「%K17_RS("あら/ん")%、%K17_GT()%」
		ENDSELECT
		PRINTW
	ENDIF
	;-------------------------------------------------
	;他キャラとデート中に遭遇した
	;ARG:1にデート相手
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		PRINTL
		;相手が恋人な場合
		IF TALENT:MASTER:恋人 == FLAG:デート相手
			PRINTFORML 「あら……%K17_RS("こんっ/あっ")%……」
			
			IF K17_RT_FG(TARGET) & K17C_RTF_逢引
				;デートする間柄のとき
				PRINTFORML 「ごめんなさい、%K17_RS("お邪魔だったわね/お忙しいみたいね")%」
				;知り合いか見る
				IF K17_GET_FRIENDS(FLAG:デート相手)
					PRINTFORML （今日は%K17_CNAME( FLAG:デート相手 )%とデートだったのね……）
				ELSE
					PRINTFORML （あの娘が本命の娘だったのね……）
				ENDIF
			ELSE
				PRINTFORML 「っと、ごめんなさい」
			ENDIF
			
		;それ以外
		ELSE
			PRINTFORML 「あら……%K17_RS("ふーん/へぇ/ふむ")%……」
			IF K17_RT_FG(TARGET) & K17C_RTF_逢引
				;デートする間柄のとき
				PRINTFORML 「ごめんなさい、%K17_RS("お邪魔だったわね/お忙しいみたいね")%」
				;知り合いか見る
				IF K17_GET_FRIENDS(FLAG:デート相手)
					PRINTFORML （%K17_CNAME( FLAG:デート相手 )%ともデートするのね……）
				ELSE
					PRINTFORML （あの娘が本命の娘なのかしら……）
				ENDIF
			ELSE
				PRINTFORML 「っと、お邪魔だったわね」
			ENDIF
		ENDIF
		
		IF K17_GET_FRIENDS(FLAG:デート相手) && K17_RT_FG(TARGET) == 0
			;アリスにフラグが立ってない時　デート相手がアリスの知り合い
			SELECTCASE FLAG:デート相手
				CASE K17C_魔理沙ID,K17C_霊夢ID,K17C_咲夜ID
					PRINTFORML 「%K17_CNAME(FLAG:デート相手)%と仲良くしてあげてね」
				CASE K17C_幽香ID,K17C_パチュリーID,K17C_メディスンID
					PRINTFORML 「気難しい娘だけど%K17_CNAME(FLAG:デート相手)%と仲良くしてあげてね」
				CASE K17C_神綺ID,K17C_夢子ID,K17C_ルイズID,K17C_魅魔ID
					PRINTFORML （%K17_CNAME(FLAG:デート相手)%もデートなんてするのね……）
					PRINTFORML （やっぱり結婚とかするのかしら……）
				CASEELSE
					PRINTFORML （あの娘、幸せそうだったわね……）
			ENDSELECT
		ENDIF
		PRINTW
	;他キャラとデート中に遭遇した終端
	ENDIF
	
ENDIF
RETURN 1

;==================================================
;朝起きたとき（おはよう口上）
;==================================================
@M_KOJO_EVENT_K17_2(ARG,ARG:1)
CALL MESSAGE_GOODMONING(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常起床（定時になって起きる等）
	;非神社在住キャラで恋慕未満の場合は、勝手に部屋に入り込んできてる状態
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
	PRINTL
		IF TALENT:TARGET:恋慕
				
			SELECTCASE K17_GRT(TARGET)
				CASE IS >= K17C_恋慕
					;現在位置でランダムイベント振る　もしくは生解禁（危険日も）で追加イベ
					IF (K17_CHECK_RANDOM_EVENT() || K17_GRT(TARGET) >= K17C_恋慕生解禁) && TCVAR:K17C_ID:K17C_TC_朝フェラ==0 && CFLAG:K17C_ID:K17C_CF_オナニーフラグ == 0
						TRYCALL K17_朝フェライベント(TARGET)
					ENDIF
					IF RESULT == 0
						IF !TCVAR:K17C_ID:K17C_TC_朝フェラ && !TCVAR:TARGET:今日会ったか
							;定時起床
							IF TALENT:MASTER:性別 >= 2
								PRINTFORM 「おはよう……ってちょっと、%K17_RS("寝癖すごいわよ/服、出てるわよ/顔、ひどい有様よ/前、元気いっぱいよ")%……こっち来なさい」
							ELSE
								PRINTFORM 「おはよう……ってちょっと、%K17_RS("寝癖すごいわよ/服、出てるわよ/顔、ひどい有様よ")%……こっち来なさい」
							ENDIF
							TRYCALL K17_人形台詞(-1)
							PRINTFORMDL %CALLNAME:TARGET%に優しくお世話されながら一日が始まった
							SIF CFLAG:MASTER:初期位置 != CFLAG:TARGET:初期位置
								PRINTFORMDL きっと一緒に住むことになったとしても、毎日こうしてお世話してくれるのだろう
							PRINTW
							PRINTFORML 「これでよしっと……はい終わり、ちゅっ%K17_HEART()%」
						ELSE
							;倒れて起きた時など定時ではない場合
							PRINTFORML 「ふぁっ……おはよう」
						ENDIF
					ENDIF
				CASEELSE
					IF !TCVAR:K17C_ID:K17C_TC_朝フェラ && !TCVAR:TARGET:今日会ったか
						PRINTFORML 「おはよう、いい朝ね……」
						PRINTFORML 「%K17_CNAME()%の寝顔って、意外と可愛いのね、ふふっ」
					ELSE
						PRINTFORML 「ふぁっ……おはよう」
					ENDIF
			ENDSELECT
		ELSE
			PRINTFORML 「あっ……起きちゃったか……」
			PRINTFORMDL いったい何をしているんだ、この人は……
			PRINTFORML 「ちょっとした人形の研究よ、ふふっ」
		ENDIF
	ENDIF
	;-------------------------------------------------
	;添い寝起床
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 2
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;その他
	PRINTL
	TCVAR:K17C_ID:K17C_TC_朝フェラ = 1
ENDIF
RETURN 1

;==================================================
;夜寝るとき（おやすみ口上）
;==================================================
@M_KOJO_EVENT_K17_3(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	
	
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;自室に帰る（定時になって寝る）
	;自室がMASTERと同じでもでちゃうので条件追加
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1 && (CFLAG:TARGET:初期位置 != CFLAG:MASTER:初期位置)
		SELECTCASE K17_GRT_EX(TARGET)
			CASE IS >= K17C_恋慕
				PRINTFORML 「名残惜しいけれど、%K17_RS("帰らなきゃ/御暇するわね/帰るわね")%……」
				
			CASE IS >= K17C_思慕
				PRINTFORML 「さてと、そろそろ%K17_RS("帰らなきゃ/御暇するわね/帰るわね")%」
			CASEELSE
				PRINTFORML 「ん、じゃあまた」
		ENDSELECT
		
	ENDIF
	;-------------------------------------------------
	;眠そうにしている
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		SELECTCASE K17_GRT_EX(TARGET)
			CASE IS >= K17C_思慕うふふ
				PRINTFORML 「……ふにゃ……ふぁ……ごめん……なさい……ちょっと眠いわ」
				PRINTFORMDL %CALLNAME:TARGET%はうつらうつら、と舟を漕ぎならが%CALLNAME:MASTER%の身体にしなだれかかってきた
			CASEELSE
				PRINTFORML 「……ふぁ……っと失礼、そろそろ睡眠が必要みたいね」
				PRINTFORMDL あくびを噛み殺す仕草がなんだかちょっと可愛かった
		ENDSELECT
	ENDIF
	;-------------------------------------------------
	;睡眠中（起きていないので会話というよりは寝言？）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3 || LOCAL:1 && ARG == 4
		SELECTCASE K17_GRT(TARGET)
			CASE IS >= K17C_恋慕生解禁
				PRINTFORML 「……%K17_CNAME()%……、えへへ……%K17_RS("好き/もっと、しよ/もっと、愛して")%……」
			CASE IS >= K17C_思慕
				PRINTFORML 「……%K17_CNAME()%……、%K17_RS("好き/えっち/ばかぁ")%……」
			CASEELSE
				PRINTFORML 「…………%K17_RS("ふにゃ/すぅー/ふぁ")%…………%K17_RS("魔理沙ぁ/シャン……ハイ/お母さん")%？　……」
		ENDSELECT
		PRINTFORMDL 普段の様子よりずっと%K17_RS("子供っぽい/可愛らしい/素直そうな")%%CALLNAME:TARGET%が幸せそうに眠っていた
	ENDIF
	;-------------------------------------------------
	;イタズラ中
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 4
		;PRINTFORMW 
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;衰弱中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML 「ごめんなさい、もう無理……」
	ENDIF
	;-------------------------------------------------
	;MASTERがダウン（部屋まで運ばれる）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 6
		PRINTFORML 「ちょっと！？　平気なの……？」
	ENDIF
	;-------------------------------------------------
	;TARGETが自室まで戻ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;-------------------------------------------------
		;そのまま着替えて寝た
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 0
			IF !CFLAG:MASTER:睡眠
				PRINTFORML 「早く寝るのよ……」
				PRINTFORMDL それだけ言ってさっさと寝床に行ってしまった
			ELSE
				;マスターが寝てる場合
				PRINTFORML 「…………寝てるか」
				PRINTFORML 「ふふっ、なんか可愛いわね……」
			ENDIF
		ENDIF
		;-------------------------------------------------
		;部屋から追い出された
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1 == 1
			PRINTFORML 「さぁ、いい子はもう寝る時間よ
			PRINTFORML 「出てった、出てった」
		ENDIF
	ENDIF
	;-------------------------------------------------
	;非在住TARGETがMAIN_MAPで休憩
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML 「うーん、少しだけ休ませてもらうわね」
	ENDIF
	;その他
	PRINTW
ENDIF
RETURN 1

;==================================================
;移動時すれちがい
;==================================================
@M_KOJO_EVENT_K17_4(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;立ち止まった
	;この後遭遇口上に接続
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORMD %CALLNAME:TARGET%が
		SELECTCASE K17_GRT()
			CASE IS >= K17C_恋慕
				PRINTFORMD 軽く手を振り
				PRINTFORMD %K17_RS("ウィンクして/笑顔を向けて/うっとりした表情で")%
			CASE IS >= K17C_思慕
				PRINTFORMD 軽く手を挙げ
				PRINTFORMD %K17_RS("少し赤面して/少し照れたように/目が合うと視線を逸らし")%
		ENDSELECT
		PRINTFORMDL %CALLNAME:MASTER%に寄ってきた
	ENDIF
	;-------------------------------------------------
	;軽く会釈して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORMD %CALLNAME:TARGET%は
		SELECTCASE K17_GRT()
			CASE IS >= K17C_恋慕
				PRINTFORMD %K17_RS("軽く手を振って/ウィンクして/笑顔を向けて")%
			CASE IS >= K17C_思慕
				PRINTFORMD %K17_RS("軽く手を挙げて/ちらちと見て/会釈を返し")%
		ENDSELECT
		PRINTFORMDL %CALLNAME:MASTER%を見送った
	ENDIF
	;-------------------------------------------------
	;無視して通り過ぎた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORMD %CALLNAME:TARGET%は
		SELECTCASE K17_GRT()
			CASE IS >= K17C_恋慕
				PRINTFORMD %K17_RS("熱い視線を送り/じっと視線を送り/何か言いたげに")%
			CASE IS >= K17C_思慕
				PRINTFORMD %K17_RS("目配せして/ちらちと見て")%
		ENDSELECT
		PRINTFORMDL %CALLNAME:MASTER%を見送った
	ENDIF
ENDIF
RETURN 1

;==================================================
;他者介入でムード変化
;==================================================
@M_KOJO_EVENT_K17_5(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
;うふふ中はとりあえず飛ばして情事を見られたほうだけ表示
IF LOCAL && !CFLAG:うふふ
	
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;知り合いが入ってきた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && K17_GET_FRIENDS(ARG)
		
		PRINTFORML 「っ……%K17_GT()%、%K17_CNAME(ARG)%」
		
		;アリスが恋人な場合
		IF TALENT:MASTER:恋人 == TARGET
			PRINTFORML 「別に変なことはしてないわよ。%K17_CNAME(ARG)%、ちょっと%K17_RS("冷やかさないで/からかわないで")%」
		
		;相手がマスターの恋人　はわわ……
		;とりあえず相手馴れ合い強度０以下はないみたいだから呼ばれないはず　どっか別に作る
		;自分が入った時用のをつくればいいのか
		ELSEIF TALENT:MASTER:恋人 == ARG
			SELECTCASE ARG
				CASE K17C_神綺ID,K17C_夢子ID,K17C_ルイズID,K17C_魅魔ID
					PRINTFORMDL %CALLNAME:TARGET%は勢い良く立ち上がると姿勢を正した
					PRINTFORML 「……少し%NAME:MASTER%さんとお話していました」
					PRINTFORMDL まるで他人のような扱いをされた
				CASEELSE
					PRINTFORML 「勘違いしないで%K17_CNAME(ARG)%、別に普通にお話していただけよ……」
					PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:ARG%を見ると一瞬動揺したように見えた
			ENDSELECT
		ENDIF
	;-------------------------------------------------
	;知らない人が入ってきた
	;-------------------------------------------------
	ELSE
		PRINTFORMDL 一瞬%CALLNAME:TARGET%が%CALLNAME:ARG%をちらりと見やる
	ENDIF
	;-------------------------------------------------
	;共通処理
	;-------------------------------------------------
	SELECTCASE K17_GRT()
		CASE IS >= K17C_恋慕
			PRINTFORML 「……続きは二人きりで%K17_RS("誰も来ない所/静かな場所/ゆっくりできるところ")%でね……%K17_HEART()%」
			PRINTFORMDL そう小さく%CALLNAME:MASTER%に耳打ちして、寄り添っていた%CALLNAME:TARGET%は離れてしまった
		CASE IS >= K17C_思慕
			PRINTFORML 「……%K17_RS("悪い/申し訳ない/名残惜しい")%けど、ここまでね……」
			PRINTFORMDL そう小さく%CALLNAME:MASTER%に耳打ちして、寄り添っていた%CALLNAME:TARGET%は離れてしまった
		CASEELSE
			PRINTFORMDL %CALLNAME:TARGET%はにべもなくすっ、と離れた
	ENDSELECT
	PRINTW
ENDIF
RETURN 1

;==================================================
;情事を目撃した
;==================================================
@M_KOJO_EVENT_K17_6(ARG,ARG:1)
;口上主はTARGET
;ARGに情事相手
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	PRINTL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を目撃した（馴れ合い度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		PRINTFORML 「！？！？　%K17_RS("ちょ/えっ/なんっ")%……！」
		PRINTFORMDL %CALLNAME:TARGET%が赤面してわなわなと震えながら立っていた
		PRINTW
		;知り合いか見る
		SIF K17_GET_FRIENDS(ARG)
			PRINTFORML （やだ……%K17_CNAME(ARG)%ったら……あんなことするの……）
			
		IF K17_GRT() >= K17C_思慕
			PRINTFORML （%K17_CNAME()%って、ああいうのが好みなのね……）
			PRINTFORML （見えてる、見えちゃってるわよ、色々と……）
			PRINTFORML （やばい……これ、しばらく妄想が捗りそう……）
			PRINTW
		ENDIF
		PRINTFORML 「オホン、こんな場所で、その、あんな……」
		PRINTFORML 「とにかく気をつけなさいっ！」
		PRINTFORMDL 真っ赤な顔をした%CALLNAME:TARGET%に怒られてしまった
		
		;思慕以上でMASTERに恋人がいないorアリスが恋人
		SIF K17_GRT() >= K17C_思慕 && (!(CFLAG:MASTER:既成事実 & 合意_恋人) || CFLAG:TARGET:既成事実 & 合意_恋人)
			CFLAG:TARGET:情事目撃 = ARG
		
		;弱みがつくはずなのでプライドと態度もあげちゃう
		CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,1)
		CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_態度,1)
	ENDIF
	;-------------------------------------------------
	;負けじと参加（馴れ合い度:高）
	;恋人同士相手には乱入できないみたい
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		;-----------
		;開始時の主導権
		;溜まってる度の一時保存
		;情事相手のうふふ状態をみる
		;-----------
		IF CFLAG:MASTER:うふふ == 1
			;MASTER主導権
			CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_お手伝い系
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = -1
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:TARGET:溜まってる度
			TCVAR:K17C_ID:K17C_TC_中出しカウント = 0
		ELSE
			;キャラ主導権
			CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_攻め_おねだり系
			TCVAR:K17C_ID:K17C_TC_うふふ主導権 = TARGET
			TCVAR:K17C_ID:K17C_TC_中出しカウント = 0
			IF TALENT:MASTER:性別 >= 2
				TCVAR:K17C_ID:K17C_TC_溜まってる度 = BASE:MASTER:精力
			ELSE
				TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:溜まってる度
			ENDIF
		ENDIF
		
		;知り合いか見る
		SELECTCASE K17_GET_FRIENDS(ARG)
			;気安い系
			CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_パチュリーID,K17C_幽香ID,K17C_咲夜ID,K17C_メディスンID
				PRINTFORML 「%K17_RS("こ～ら/あ～/も～ぅ")%、%K17_CNAME(ARG)%、独り占めはだめよ？　私も混ざるわ」
				
			;尊敬系
			CASE K17C_魅魔ID,K17C_ルイズID
				PRINTFORML 「%K17_RS("もうっ/だめー/あー")%、独り占めしちゃだめですよ、%K17_CNAME(ARG)%」
				PRINTFORML 「私も混ぜてもらいます」
				
			;神綺様　夢子限定
			CASE K17C_神綺ID,K17C_夢子ID
				
				;アリスが恋人な場合
				IF TALENT:TARGET:恋人
					IF FIRSTTIME(@"修羅場{ARG}")
						;初回
						PRINTFORML 「えっ……そんなっ……%K17_CNAME(ARG)%！？」
						PRINTFORMDL %CALLNAME:TARGET%は珍しくかなり動揺したようで、足を震わせながらなんとか立っていた
						PRINTW
						PRINTFORML 「まったく……%K17_CNAME(ARG)%にも手を出していたのね……いつからよ……」
						PRINTFORMDL %CALLNAME:ARG%は『%CALLNAME:TARGET%\@ARG==K17C_神綺ID ? ちゃん#\@、違うの！』と言い訳していた……
						PRINTFORMDL なんだか空気が一変した……
						PRINTFORMDL ……
						PRINTFORMDL …………
						PRINTFORMDW ………………
						;勝手に想像して　親子丼とか浮気とかそんな感じのあれそれ
						PRINTFORML 「まあいいわ……で、これって所謂……アレよね……」
						PRINTFORMDL %CALLNAME:MASTER%は太ももをぎゅっと抓られてしまった
						PRINTFORML 「まあ……二人でコソコソされるのは……いや、だし……私も参加するわよ」
						;PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:ARG%に対抗意識があるようだった
						PRINTFORML 「ともかく独り占めは禁止！」
						PRINTW
						
					ELSE
						;二回目以降
						PRINTFORML 「えっと……また……なの……」
						PRINTFORMDL %CALLNAME:TARGET%は少し呆れた様子でため息を付き、%CALLNAME:MASTER%と%CALLNAME:ARG%の間に割って入ってきた
						PRINTFORMDL %CALLNAME:ARG%はまた『%CALLNAME:TARGET%\@ARG==K17C_神綺ID ? ちゃん#\@、違うの……』と言い訳していた……
						PRINTW
					ENDIF
				ELSE
					PRINTFORML 「まったく……よりにもよって%K17_CNAME(ARG)%と一緒にだなんて……」
				ENDIF
			;知らない人
			CASEELSE
				PRINTFORML 「……私も混ぜてもらうわよ？」
		ENDSELECT
		TRYCALL K17_乱交開始(ARG)
	ENDIF
	;-------------------------------------------------
	;気まずそうに立ち去る
	;記入チェック（=0, 非表示、1, 表示）
	;してる方が恋人だった場合、そそくさと立ち去る（恋人が混じっている多人数プレイかつTARGETが恋人でない場合も立ち去る
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		
		PRINTFORML 「っごめんなさい、お邪魔しました……」
		;知り合いか見る
		SIF K17_GET_FRIENDS(ARG)
			PRINTFORML （やだ……%K17_CNAME(ARG)%ったら……あんなことするの……）
		;恋人か見る
		SIF TALENT:ARG:恋人
			PRINTFORML （まあ恋人同士なんだから、ああいうことするわよね……）
		
		;思慕以上でMASTERに恋人がいないorアリスが恋人
		SIF K17_GRT() >= K17C_思慕 && (!(CFLAG:MASTER:既成事実 & 合意_恋人) || CFLAG:TARGET:既成事実 & 合意_恋人)
			CFLAG:TARGET:情事目撃 = ARG
		
		
	ENDIF
	;-------------------------------------------------
	;MASTERに誘われて参加
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG:1 == 4
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;その他
	PRINTW
ENDIF
RETURN 1

;==================================================
;情事を見られた
;==================================================
@M_KOJO_EVENT_K17_7(ARG,ARG:1)
;口上主はTARGET
;ARGに目撃者
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;情事を見られた（目撃者の馴れ合い度:低）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		;知り合いか見る
		SELECTCASE K17_GET_FRIENDS(ARG)
			;気安い系
			CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_パチュリーID,K17C_幽香ID,K17C_咲夜ID,K17C_メディスンID
				PRINTFORML 「%K17_CNAME(ARG)%！？」
				PRINTFORML 「いや……その……えっと、ごめん……」
			;尊敬系
			CASE K17C_魅魔ID,K17C_ルイズID,K17C_神綺ID,K17C_夢子ID
				PRINTFORML 「っ！？　%K17_CNAME(ARG)%！？」
				PRINTFORML 「これは、その、えっと……」
				PRINTFORML 「ごっ、ごめんなさい、軽率でした……」
			;その他
			CASEELSE
				PRINTFORML 「っ！？　……その、ごめんなさい」
		ENDSELECT
		;--------------
		;うふふが終了された場合の処理
		;--------------
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		
		;フラグ保存
		SIF CFLAG:既成事実 & 合意_うふふ
			TRYCALL K17_RELATION_EV( K17C_RTF_うふふ )
	ENDIF
	;-------------------------------------------------
	;目撃者が負けじと参加（目撃者の馴れ合い度:高）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		;知り合いか見る
		SELECTCASE ARG
			;気安い系
			CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_パチュリーID,K17C_幽香ID,K17C_咲夜ID,K17C_メディスンID
				PRINTFORML 「っ……%K17_CNAME(ARG)%？」
				;相手が恋人か見る　あわわわ……
				IF !TALENT:ARG:恋人
					PRINTFORML 「って……ちょっと、割り込まないの……%K17_CNAME(ARG)%はそっち側ね」
				ENDIF
				
			;尊敬系
			CASE K17C_魅魔ID,K17C_ルイズID,K17C_神綺ID,K17C_夢子ID
				PRINTFORML 「っ！？　%K17_CNAME(ARG)%！？！？」
				PRINTFORML 「えっ、%K17_CNAME(ARG)%も……一緒に！？　は、はい、どうぞ……」
				
			CASEELSE
				PRINTFORML 「っ！？　びっくりしたわ……」
		ENDSELECT
		TRYCALL K17_乱交開始(ARG)
	ENDIF
	;-------------------------------------------------
	;目撃者が立ち去る（恋人同士限定か
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		;知り合いか見る
		SELECTCASE K17_GET_FRIENDS(ARG)
			;気安い系
			CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_パチュリーID,K17C_幽香ID,K17C_咲夜ID,K17C_メディスンID
				PRINTFORML 「あっ、%K17_CNAME(ARG)%……」
				PRINTFORML 「気を遣われちゃったわね……」
				PRINTFORML 「%K17_CNAME()%、今度ちゃんと%K17_CNAME(ARG)%をフォローしてあげるのよ」
			;尊敬系
			CASE K17C_魅魔ID,K17C_ルイズID,K17C_神綺ID,K17C_夢子ID
				PRINTFORML 「っ！？　%K17_CNAME(ARG)%！？」
				PRINTFORML 「……流石に%K17_CNAME(ARG)%に気を遣わせてしまったのはまずいわね……」
			;その他
			CASEELSE
				PRINTFORML 「っ！？　……み、見られちゃったわね……」
		ENDSELECT
		PRINTFORML （私のことより、%K17_CNAME()%の裸見られるの……嫌なんだからね）
	ENDIF
	;-------------------------------------------------
	;MASTERに誘われて目撃者も参加
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG:1 == 4
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;その他
	PRINTW
	
ENDIF
RETURN 1

;==================================================
;目撃した情事を問い詰める
;==================================================
@M_KOJO_EVENT_K17_8(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;MASTERだけ問い詰め
	;CFLAG:TARGET:情事目撃
	;思慕以上でMASTERに恋人がいないorアリスが恋人
	;参加してない時だけだから非情にレアケースじゃないですかね
	;これ誰得なんだ！？　削除予定地
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		;恋慕以上＆知り合いのとき
		IF (K17_GRT() >= K17C_恋慕 || CFLAG:TARGET:既成事実 & 合意_恋人) && K17_GET_FRIENDS(CFLAG:TARGET:情事目撃)
			PRINTFORML 「ねえ、私%K17_RS("にもう飽きちゃった/の事嫌いになっちゃった/もう捨てられちゃったの")%？」
			PRINTFORMDL いつもより少し思い詰めた表情でいきなりそう切り出されて面食らった
			PRINTFORMDL そんなことは決してない
			PRINTW
			;嘘だ！
			PRINTFORML 「ああ、ごめんなさい。責めてるつもりじゃないのよ」
			PRINTFORML 「ただその、もう相手にしてくれないのかと思って……」
			PRINTFORMDL そう言って俯いたまま%CALLNAME:MASTER%の胸に顔を埋めてしまった
			PRINTFORML 「ごめんなさい、面倒くさい女で……」
			PRINTFORMDL %CALLNAME:MASTER%はしばらくの間、%CALLNAME:TARGET%の頭を撫で続けることしかできなかった……
			PRINTW
			PRINTFORML 「あのね、%K17_CNAME(CFLAG:TARGET:情事目撃)%の代わりでもいいし、他の娘に手出ししててもいいの……」
			PRINTFORML 「だけど私もいるってこと、ちゃんと覚えておいてよね」
			PRINTFORMDL 最後は笑顔を向けてそう言っていたが、少し無理をしているようにも感じた
			PRINTFORMDL %CALLNAME:MASTER%はもう少し%CALLNAME:TARGET%を大事にしようと思った
		ELSE
			;うふふ前　研究材料に使いました
			PRINTFORML 「あのー……ね、この前の……」
			PRINTFORML 「私もちょっと怒りすぎたわ、ごめんなさい」
			PRINTFORMDL よくわからないが、顔を真っ赤にしながら逆に謝られてしまった
			PRINTW
			PRINTFORMDL （ごめんなさい……%K17_CNAME()%でえっちな妄想しちゃいました……）
		ENDIF
	ENDIF
	;-------------------------------------------------
	;二人とも説教
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		PRINTFORML 「ちょっと%K17_CNAME()%、ああ%K17_CNAME(CFLAG:TARGET:情事目撃)%もいいかしら」
		PRINTFORML 「ああ、別に怒ってるわけじゃないのよ」
		PRINTFORML 「ただ……その、場所を、ね。これからも気をつけてね」
		PRINTFORML 「ホントにそれだけだから、じゃ」
		PRINTFORMDL %CALLNAME:TARGET%は赤くなりながらそれだけ一方的に告げるとさっさと切り上げてしまった
		PRINTFORMDL %CALLNAME:MASTER%はもう少し場所も考えようと思った
	ENDIF
	;その他
	PRINTW
ENDIF
RETURN 1

;==================================================
;パンツ没収された
;==================================================
@M_KOJO_EVENT_K17_9(ARG,ARG:1)
;口上主はTARGET
;ARG:1 == 1		同じ場所に居てパンツを回収された
;ARG:1 == 2		遠距離移動中にパンツを回収された
;--------------------------------------------------
#DIM DYNAMIC iDoll		;人形フラグ
#DIM DYNAMIC iPants_Num	;輸送中のアリスのパンツ枚数
VARSET iDoll
iPants_Num = 0
CFLAG:K17C_ID:K17C_CF_パンツ没収 = MIN(CFLAG:K17C_ID:K17C_CF_パンツ没収,9999)
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL

	;--------------------------------------------------
	;初回限定
	;--------------------------------------------------
	iPants_Num = K17_CHECK_輸送パンツ(TARGET)
	IF FIRSTTIME("パンツ没収")
		PRINTL
		PRINTFORML 「さーて、なに隠してるのかしら……」
		PRINTW
		;手持ちに自分のパンツがあるか見る　仕様変更に対応
		IF iPants_Num
			PRINTFORML 「やだ……これって私の……下着？」
			PRINTFORML 「どうやって！　……いやなんでっ！？」
			PRINTFORML 「えっ……これってもしかして……」
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%に疑いの眼差しを向け考え込んでいる
			CFLAG:K17C_ID:K17C_CF_パンツ没収++
		ELSE
			PRINTFORML 「あら……これって……女の子の下着！？」
			PRINTFORML 「え？　え！？　なんでこんなもの持ってるの？」
		ENDIF

		PRINTFORMDL もっと罵られるかと思ったが、意外と冷静な反応だった
		PRINTFORMDL こういうことには疎いんだろうか
		PRINTW
		PRINTFORML 「……何故下着なんて狙ったのかしら？」
		PRINTFORMDL そりゃあ、だって……なぁ？
		PRINTFORMDL %CALLNAME:MASTER%はどうして下着が欲しいのか、一から%CALLNAME:TARGET%に説明させられた
		PRINTFORMDL ……
		PRINTFORMDL …………
		PRINTFORMDW ………………
		PRINTFORML 「へ、へぇ……ずいぶんといい趣味？　してるわね」
		
		;アリスパンツあり　海外の人は下着ドロあんま理解できないらしいです
		IF iPants_Num
			PRINTFORML 「セクハラという意味ではリアクション取れなくて、ごめんなさいね」
			PRINTFORML 「いや、謝ることではないわね。……まだちょっと混乱してるみたい」
		ENDIF
		PRINTFORML 「……というか理解に苦しむわ、文化の違いかしら」
		PRINTFORML 「ともかく人の物を盗むなんて、ろくな奴にならないわ」
		PRINTFORML 「とにかくこんなイタズラ、もうやめなさい」
		
	;--------------------------------------------------
	;二回目以降
	;--------------------------------------------------
	ELSE
		PRINTL
		PRINTFORML 「まーた、なにか隠してるわね……出しなさい」
		PRINTW
		;手持ちに自分のパンツがあって時間停止バレしてるとき
		IF iPants_Num && CFLAG:時間停止バレ == 1
		
			;アリスパンツ2回目以降
			PRINTFORML 「またこれ……私の下着よね？」
			
			;思慕前だとビンタ
			IF K17_GRT(TARGET) < K17C_思慕
				PRINTFORML 「もうやめなさいって言ったでしょ！」
				PRINTFORMDL ピシャリ　と平手打ちを食らってしまった
				RETURN 1
			ELSE
				PRINTFORML 「まったく、%K17_RS("他の女の子にも/いつも/誰にでも/いつまで")%こんなイタズラしてるの？」
				PRINTFORMDW くどくど……
				PRINTFORMDW …………くどくど
				PRINTFORMDW ………くどくど………くどくど
				PRINTFORMDW %CALLNAME:MASTER%は女の子への接し方を少し考えた……！
			ENDIF
			
		;アリスのパンツだけあったとき
		ELSEIF iPants_Num
			PRINTFORML 「これ……私の……」
			PRINTFORML 「えっ……これってもしかして……」
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%に疑いの眼差しを向け考え込んでいる
			CFLAG:K17C_ID:K17C_CF_パンツ没収++
		;その他のパンツ
		ELSE
			PRINTFORML 「やっぱりまた女の子の下着ね」
		ENDIF
	ENDIF
	
	;--------------------------------------------------
	;時間停止バレ もうちょい条件緩くするか考え中 とりあえず20％でいいか 咲夜さん即バレ仕方ないね
	;現行犯なので疑いなくてもバレる
	;--------------------------------------------------
	IF K17_CHECK_時間停止バレ(TARGET,20)
		PRINTFORML 「それと……これ私の下着なんだけど……」
		PRINTFORML 「間違いないわ。もしかしてバレないとでも思ったのかしら？」
		PRINTFORML 「さーて、これはどうやって盗んだのかしらね……？」
		PRINTFORMDL これは腹をくくらなきゃならないようだ
		PRINTL
		PRINTFORMDW %CALLNAME:TARGET%に時間停止能力がバレてしまった！
		PRINTW
		CALL K17_時間停止バレ
	ENDIF
	
	PRINTW
	PRINTFORML 「とりあえずこれは没収よ」
	PRINTFORML 「これからは%K17_CNAME()%の見方を変えないとね」
	;パンツ没収でアリスのプライドと態度が復活するのだ
	CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,1)
	CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_態度,1)
	;疑いあれば追加なし　バレてるなら恋慕未満でなし
	IF CFLAG:K17C_ID:K17C_CF_疑い || (CFLAG:時間停止バレ && K17_GRT(TARGET) < K17C_恋慕)
		SIF RESULT == 0
			PRINTW
		RETURN 1
	ENDIF
	;--------------------------------------------------
	;思慕以上あれば追加イベ
	;--------------------------------------------------
	IF K17_GRT(TARGET) >= K17C_思慕
		PRINTFORML 「まったく……こんなものが欲しいなら、いくらでもあげるのに」
		PRINTFORMDL なん……だと……！？
		PRINTW
		PRINTFORML 「普段から人形の服も作ってるから、裁縫は得意なのよ」
		SELECTCASE RAND:3
			CASE 0
				PRINTFORMDL お手製！　それはすごい
				PRINTFORMDL もちろん%CALLNAME:TARGET%の履いたものが欲しい
				PRINTFORML 「はぁあああ！？　新品に決まってるでしょ！」
				PRINTFORMDL それじゃ意味ない！
			CASE 1
				PRINTFORML 「今持ってるわよ。……はい、どうぞ」
				PRINTFORMD 渡されたパンツは、見れば見るほど
				PRINTDATADL
					DATAFORM 精巧にできていた
					DATAFORM 本物のようだった
					DATAFORM 可愛らしい出来だった
					DATAFORM 職人魂の込められたものだった
				ENDDATA
				PRINTFORMDL ……人形用じゃないか！
				iDoll = K17_GET_DOLL(0)
				IF iDoll && RAND:2
					iDoll = K17_GET_DOLL(-1)
					PRINTFORM 「あらそれは%K17C_人形名:iDoll%のよ」
					TRYCALL K17_人形台詞(K17C_人形:iDoll,1,"ハズカシー")
				ELSE
					PRINTFORM 「あらそれは
					PRINTDATA
						DATAFORM 倫敦人形
						DATAFORM 仏蘭西人形
						DATAFORM 京人形
						DATAFORM 和蘭人形
						DATAFORM 露西亜人形
						DATAFORM オルレアン人形
					ENDDATA
					PRINTFORML のよ」
				ENDIF
				PRINTFORMDL 反応に困る！
			CASE 2
				PRINTFORML 「今持ってるわよ。はい、どうぞ」
				PRINTFORMD 渡されたのは
				PRINTDATAD
					DATAFORM 上海人形
					DATAFORM 蓬莱人形
					DATAFORM 倫敦人形
					DATAFORM 仏蘭西人形
					DATAFORM 京人形
					DATAFORM 和蘭人形
					DATAFORM 露西亜人形
					DATAFORM オルレアン人形
					DATAFORM ゴリアテ人形
				ENDDATA
				PRINTFORMDL の刺繍が施されたハンカチだった
				PRINTFORMDL ……これはこれで嬉しいけども
				PRINTFORML 「あら、女性が持ってるものならいいんでしょ？　それまだ新しいわよ」
				PRINTFORMDL 違うそうじゃない
		ENDSELECT
		PRINTW
	ENDIF
ENDIF
RETURN 1

;==================================================
;押し倒した
;==================================================
@M_KOJO_EVENT_K17_10(ARG,ARG:1)
#DIM DYNAMIC iRT = 0
#DIM DYNAMIC iFriends = 0

;----------
;アリス以外のTARGETを取得　友人優先
;----------
iFriends = K17_GET_TARGETS_ID()
iRT = K17_GRT_EX(TARGET)
;--------------------------------------------------
;口上主はTARGET
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	
	;-------------------------------------------------
	;MASTERを押し倒した（開始時）
	;二人きり
	;押し倒された瞬間には既成事実入ってない　すぐ抜け出すと合意を得ない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;-------------------------
		;開始時の保存
		;喘ぎタイプ決定
		;開始時の主導権
		;溜まってる度の一時保存
		;-------------------------
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = TARGET
		TCVAR:K17C_ID:K17C_TC_中出しカウント = 0
		IF TALENT:MASTER:性別 >= 2
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = BASE:MASTER:精力
		ELSE
			TCVAR:K17C_ID:K17C_TC_溜まってる度 = CFLAG:溜まってる度
		ENDIF
		
		;-----------
		;抱きつきモード
		;-----------
		IF ARG:1 || CFLAG:K17C_ID:K17C_CF_喘ぎタイプ == K17C_攻め_おねだり系
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_おねだり系)
			PRINTFORML 「ふふっ……なんだか甘えたい気分なの……%K17_RS("にゃぅ/ふにゃ")%～」
			PRINTFORMDL %CALLNAME:TARGET%が甘えるように%CALLNAME:MASTER%に擦り寄って抱き付いてきた
			PRINTW
			RETURN 1
		ENDIF
		;-----------
		;弱み握りのお仕置き
		;-----------
		IF CFLAG:弱み握り || CFLAG:K17C_ID:K17C_CF_喘ぎタイプ == K17C_攻め_無理矢理系
			PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%の外見からは、想像もできない物凄い力で押さえつけられた
			PRINTFORML 「ふふっ……さぁてお仕置きよ……覚悟は良いかしら……？」
			PRINTFORMDL そう耳元で妖艶に囁いた%CALLNAME:TARGET%の目は普段とは違い、%CALLNAME:MASTER%は少し恐怖を感じた……
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_無理矢理系)
			PRINTW
			RETURN 1
		ENDIF
		
		;-----------
		;通常カウンターうふふ初回
		;-----------
		IF CFLAG:既成事実 & 合意_うふふ && FIRSTTIME("押し倒され",1)
			PRINTFORML 「ね、ねえ……今日は……その……えっと……」
			PRINTFORMDL %CALLNAME:TARGET%はなにやらもじもじと太ももを擦り合わせて、%CALLNAME:MASTER%に縋り付いていた
			PRINTFORML （なっ……なによ、いつもなら好き勝手に……するくせに……うぅ……）
			PRINTW
			PRINTFORML 「そ、そっちがその気なら、私にだって考えがあるのよ……」
			PRINTFORML 「こう見えても魔女なんですからねっ……」
			PRINTFORMDL %CALLNAME:TARGET%がそう言って手を振ると、%CALLNAME:MASTER%は魔法の糸で縛られる
			PRINTFORMDL 締め付けられているように見えるがそれほど痛くなく、むしろ優しく包まれているように%CALLNAME:MASTER%は感じた
			PRINTFORML 「ふふっ……どうかしら？　……あっ、痛くない？　平気？」
			PRINTW
			PRINTFORML 「なに笑ってるのよっ、もうっ……」
			PRINTFORMDL こんなに可愛らしい魔女になら襲われるのも悪くない……
			PRINTFORML 「油断してると食べられちゃうんだから……が、がおーぅ」
			PRINTFORMDL 顔を赤らめた%CALLNAME:TARGET%に%CALLNAME:MASTER%は、優しく寝かしつけられるかのように押し倒された
			CALLF FIRSTTIME("押し倒され")
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_お手伝い系)
		;-----------
		;合意無しでカウンターうふふ初回にきた場合　もったいないので溜まってる度半分超えててもこれで
		;-----------
		ELSEIF !(CFLAG:既成事実 & 合意_うふふ) || CFLAG:溜まってる度 >= 500 || CFLAG:K17C_ID:K17C_CF_喘ぎタイプ == K17C_攻め_合意襲い系
			PRINTFORML 「ふっー……ふっー……」
			PRINTFORML 「これでも……っこれでも結構、我慢したつもりなのよ……%K17_CNAME()%？　わかってるの？」
			PRINTFORMDL %CALLNAME:MASTER%は何が何だかわからないうちに、物凄い力で押さえつけられていた
			PRINTFORMDL 身動きを取ろうにも、普段人形を操作しているのであろう光の糸が%CALLNAME:MASTER%の身体に巻き付いていて動けない
			PRINTW
			PRINTFORML 「ごめんなさい、怖がらないで……でも、もう抑えきれないのよ、この気持……」
			PRINTFORML 「%K17_CNAME()%を……おっ、犯すわ……」
			PRINTFORMDL 顔を真っ赤に染めて、額に薄っすら汗を滲ませた%CALLNAME:TARGET%が%CALLNAME:MASTER%に覆いかぶさってきた
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_合意襲い系)
		;-----------
		;二回目以降　通常処理
		;-----------
		ELSE
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_お手伝い系)
			iRT = K17_LOWER_LIMIT_RAND(iRT,K17C_思慕,K17C_恋慕)
			SELECTCASE iRT
				CASE IS >= K17C_恋慕
					;台詞
					PRINTDATAL
						DATAFORM 「あのね、えっと……その……%K17_RS("抱いて/えっちしよ/せっくすしよ")%？%K17_RS("　ねっ？/")%%K17_HEART()%」
						DATAFORM 「%K17_CNAME()%がこんな%K17_RS("欲しがり/淫らな/えっちな")%身体にしたのよ……責任取りなさいよね……」
						DATAFORM 「%K17_RS("し、しちゃう/お、襲っちゃう/お、犯しちゃう")%……から……」
					ENDDATA
					;情景
					PRINTDATAD
						DATAFORM %CALLNAME:MASTER%は自らの身体を擦り付けるようにして縋り付く%CALLNAME:TARGET%に、
						DATAFORM %CALLNAME:MASTER%の手を取り、そっと自らの%K17_RS("胸/頬/太もも")%に寄せる%CALLNAME:TARGET%に
						DATAFORM %CALLNAME:MASTER%の膝の上で身体を揺すって、%K17_RS("股間/胸")%を擦り付ける%CALLNAME:TARGET%にそのまま
					ENDDATA
					PRINTFORMDL %K17_RS("優しく/ゆっくりと")%%K17_RS("抱き付かれ倒された/抱き付かれた/押し倒された")%
				CASE IS >= K17C_思慕
					;台詞
					PRINTDATAL
						DATAFORM 「……しよ？　ねっ？%K17_RS("　ねっ？/")%%K17_HEART()%」
						DATAFORM 「……し、しないの？　じゃあ%K17_RS("こっち/私")%から……」
						DATAFORM 「す、するから……%K17_RS("しちゃう/その気にさせちゃう")%からね……」
					ENDDATA
					;情景
					PRINTDATAD
						DATAFORM %CALLNAME:MASTER%の身体に寄り添う%CALLNAME:TARGET%に、
						DATAFORM %CALLNAME:MASTER%の手を取り、%K17_RS("優しく/ぎゅっと/指を絡めて")%握る%CALLNAME:TARGET%に
						DATAFORM %CALLNAME:MASTER%の%K17_RS("腿をすりすりする/胸に頭を擦り付ける/頬をつつく")%%CALLNAME:TARGET%に、
					ENDDATA
					PRINTFORMDL %K17_RS("優しく/柔らかく")%%K17_RS("抱き付かれ倒された/抱き付かれた/押し倒された")%
				CASEELSE
					PRINTFORML 「ねぇ……いいでしょ？　なんだか……はまってきちゃったかも……だから」
					PRINTFORMDL %CALLNAME:MASTER%は%CALLNAME:TARGET%に%K17_RS("優しく/ゆっくりと")%押し倒された
			ENDSELECT
			PRINTFORML 「%K17_CNAME()%が%K17_RS("いけない/悪い/こんな身体にした")%のよ、%K17_RS("わるーい/イケナい/えっちな")%%K17_RS("魔法使い/魔女")%が襲っちゃうんだから……%K17_RS("がおーぅ/ふふっ/ふっふっふ～")%」
			
		ENDIF
		
		;----------------------------
		;乱交
		;----------------------------
		IF iFriends
			PRINTW
			SELECTCASE iFriends
				CASE K17C_霊夢ID,K17C_魔理沙ID,K17C_パチュリーID,K17C_幽香ID,K17C_咲夜ID,K17C_メディスンID
					;アリスが恋人な場合
					IF TALENT:TARGET:恋人
						PRINTFORML 「%K17_CNAME()%、ちゃんと%K17_CNAME(iFriends)%も愛してあげてね」
					ENDIF
				CASE K17C_魅魔ID,K17C_ルイズID,K17C_神綺ID,K17C_夢子ID
					IF TALENT:TARGET:恋人
						PRINTFORML 「今回は一緒にするけど……あんまり%K17_CNAME(iFriends)%と比べちゃだめよ？」
					ENDIF
				CASEELSE
					;アリスが恋人な場合
					IF TALENT:TARGET:恋人
						PRINTFORML 「%K17_CNAME()%、ちゃんとあの娘も愛してあげてね」
					ENDIF
			ENDSELECT
			TRYCALL K17_乱交開始(iFriends)
			CALL K17_SET_AUTO_PVOICE(iRT,-1,K17C_攻め_おねだり系)
		ENDIF
		PRINTW
		RETURN 1
	ENDIF
	
	
	;-------------------------------------------------
	;抱きつきモード満足
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2 && ARG:1 == 1
		PRINTFORML 「ん～満足しちゃった……ふふっ」
		PRINTW
		;タイプリセ
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_攻め_おねだり系
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;抱きつきモード強制終了
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2 && ARG:1 == 2
		PRINTFORML 「なっ、なによぅ、そんなに嫌がらなくてもいいじゃない……」
		PRINTW
		;タイプリセ
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_攻め_おねだり系
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;なだめられた（うふふ終了時）
	;押し倒されたけどすぐに抜け出した
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2 && !ARG:1 && !(CFLAG:既成事実 & 合意_うふふ)
		PRINTFORML 「っ……はぁ……ごめんなさい、気の迷いよ……」
		PRINTFORMDL %CALLNAME:MASTER%に拒絶されてしまった%CALLNAME:TARGET%は、目に涙を浮かべて目を背けてしまった
		PRINTFORMDL かなりのショックを受けているようだった
		PRINTW
		;タイプリセ
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_攻め_おねだり系
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		RETURN 1
	ENDIF
	
	;-------------------------------------------------
	;なだめられた（通常終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		;弱みまだ残ってるか見る
		IF CFLAG:弱み握り
			PRINTFORML 「とりあえず今回の所はこれで許してあげるわね……」
			PRINTW
			RETURN 1
		ENDIF
		
		;感想戦
		TRYCALL K17_うふふ感想戦( TCVAR:K17C_ID:K17C_TC_うふふ主導権 , TCVAR:K17C_ID:K17C_TC_溜まってる度 )
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		;タイプリセ
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_攻め_おねだり系
		PRINTW
		RETURN 1
	ENDIF
	
ENDIF
RETURN 1


;==================================================
;浴場で遭遇
;==================================================
@M_KOJO_EVENT_K17_11(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出された
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;仲良くなる前反応
		PRINTFORML 「ッッ！？！？　で、でてけええ！」
		PRINTFORMDL 中に居たのは裸姿の%CALLNAME:TARGET%だった
		PRINTFORMDL 慌てた様子で桶を振りかぶっていた
				
		IF !TCVAR:K17C_ID:K17C_TC_お風呂イベント && !CFLAG:MASTER:同行 && K17_CHECK_RANDOM_EVENT(TARGET)
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、追い出された
		ELSE
			PRINTFORMDL 出て行く際に%K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
			;追い出しは連打禁止
			TCVAR:K17C_ID:K17C_TC_お風呂イベント = 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;目が合った（追い出されない）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「きゃっ！？」
		PRINTFORMDL 中に居たのは裸姿の%CALLNAME:TARGET%だった
		PRINTFORML 「って%K17_CNAME()%か、誰かと思ってびっくりしたわ」
		PRINTFORMDL 身体を弾ませてこちらに寄ってくる
		IF !TCVAR:K17C_ID:K17C_TC_お風呂イベント && !CFLAG:MASTER:同行 && K17_CHECK_RANDOM_EVENT(TARGET)
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、真っ赤になって湯船に浸かってしまった
		ELSE
			PRINTFORMDL %K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
		ENDIF
	ENDIF

PRINTW
ENDIF
RETURN 1

;==================================================
;寝床に忍び込み
;==================================================
@M_KOJO_EVENT_K17_12(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL && !FLAG:時間停止
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;追い出される（怒り）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「ちょっと%K17_CNAME()%、今私怒ってるの……」
		PRINTFORML 「お互い頭冷やすためにも今日はもう帰ってちょうだい」
	ENDIF
	;-------------------------------------------------
	;寝床に侵入　寝てる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 1
		TRYCALL K17_上海イベント
		
		SELECTCASE K17_GRT()
			CASE IS >= K17C_恋慕生解禁
				PRINTFORML 「……%K17_CNAME()%……、えへへ……%K17_RS("好き/もっと、しよ/もっと、愛して")%……」
			CASE IS >= K17C_思慕
				PRINTFORML 「……%K17_CNAME()%……、%K17_RS("好き/えっち/ばかぁ")%……」
			CASEELSE
				PRINTFORML 「…………%K17_RS("ふにゃ/すぅー/ふぁ")%…………%K17_RS("魔理沙ぁ/シャン……ハイ/お母さん")%？　……」
		ENDSELECT
		PRINTFORMDL 普段の様子よりずっと%K17_RS("子供っぽい/可愛らしい/素直そうな")%%CALLNAME:TARGET%が幸せそうに眠っていた
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕）起きる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 2
		;TRYCALL K17_上海イベント
		PRINTFORML 「っ……びっくりしたぁ、泥棒かと思ったわよ」
		PRINTFORML 「よかったぁ、%K17_CNAME()%で……」
	ENDIF
	;-------------------------------------------------
	;寝床に侵入（相手が恋慕・衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 3
		TRYCALL K17_上海イベント
		PRINTFORMDL よほど疲れているのか%CALLNAME:TARGET%は起きそうにない
	ENDIF
	;-------------------------------------------------
	;追い出される
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 4
		TRYCALL K17_上海イベント
		PRINTFORMDL 眠そうに目をこすり、あくびを噛み殺している%CALLNAME:TARGET%がやってきた
		PRINTFORML 「なに……騒がしいんだけど？」
		PRINTFORML 「悪いけど今は帰ってちょうだい」
	ENDIF
	;-------------------------------------------------
	;追い出される（衰弱）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG:1 == 5
		TRYCALL K17_上海イベント
		PRINTFORMDL 眠そうに目をこすり、あくびを噛み殺している%CALLNAME:TARGET%がやってきた
		PRINTFORML 「なに……騒がしいんだけど？」
		PRINTFORML 「悪いけど今は帰ってちょうだい」
	ENDIF
PRINTW
ENDIF
RETURN 1

;==================================================
;お仕事中
;==================================================
@M_KOJO_EVENT_K17_13(ARG,ARG:1)
;口上主はTARGET
;ARG:1に残っている仕事量
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;仕事開始（職場へ移動する）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		IF CFLAG:職種 == K17C_職種_人形劇
			;人形劇
			SELECTCASE K17_GRT_EX()
				CASE IS >= K17C_思慕
					PRINTFORML 「それじゃあ仕事があるから、行ってくるわね、%K17_CNAME()%」
				CASEELSE
					PRINTFORML 「んっ、そろそろ仕事の時間だから行くわね」
			ENDSELECT
			TRYCALL K17_人形台詞(K17C_上海,0,"ガンバルゾー")
			TRYCALL K17_人形台詞(K17C_蓬莱,1,"オー")
		ELSE
			;家事
			SELECTCASE K17_GRT_EX()
				CASE IS >= K17C_思慕
					PRINTFORML 「さて、ちょっとうちのことやっちゃわないと……またね、%K17_CNAME()%」
				CASEELSE
					PRINTFORML 「んっ、そろそろ家事しなきゃ……行くわね」
			ENDSELECT
			TRYCALL K17_人形台詞(K17C_上海,0,"カジ　スルゾー")
			TRYCALL K17_人形台詞(K17C_蓬莱,1,"オー")
		ENDIF
	ENDIF
	;-------------------------------------------------
	;業務中
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		IF CFLAG:職種 == K17C_職種_人形劇 && TIME <= 720
			;人形劇　公演中
			;
			PRINTFORMDL 子供たちの歓声が聞こえてくる
			SIF !(TCVAR:K17C_TC_人形劇 & 8)
				PRINTFORML 「さぁ、続きは%K17_RS("どうなっちゃうのかな～/どうなるんでしょう～")%？」
		ELSE
			;家事＆片付け
			PRINTFORML 「%K17_RS("ふんふーん/ふふ～ん/ん～")%……♪」
			PRINTFORMDL %CALLNAME:TARGET%の鼻歌が聞こえてきた
		ENDIF
		
	ENDIF
	;-------------------------------------------------
	;仕事終了
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		IF CFLAG:職種 == K17C_職種_人形劇
			;人形劇片付け終了
			PRINTFORML 「はいっ、じゃあまた次回をお楽しみにね～」
			PRINTFORML 「みんな、それまでいい子でいるのよ」
			PRINTFORMDL %CALLNAME:TARGET%はまだまばらにいた子供たちに、手を振って挨拶していた
		ELSE
			;家事＆片付け
			PRINTFORML 「%K17_RS("ふんふーん/ふふ～ん/ん～")%……♪」
			PRINTFORMDL %CALLNAME:TARGET%の鼻歌が聞こえてきた
		ENDIF
		
	ENDIF
	
	PRINTW
ENDIF
RETURN 1

;==================================================
;食事系
;==================================================
@M_KOJO_EVENT_K17_14(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;持っていた食物を食べられた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == -1
		IF TASTE_REACTION("辛い")
			;辛い
			PRINTFORML 「かっ、辛すぎよっ%K17_RS("火が出るかと/舌がおかしくなるかと/喉が焼ける")%思ったわよ」
		ELSEIF TASTE_REACTION("甘い")
			;甘い
			PRINTFORML 「うーん、ちょっと……私には甘すぎたみたい……」
		ELSEIF TASTE_REACTION("わさび")
			;わさび
			PRINTFORML 「なっ……涙出てきちゃったわよっ」
		ELSEIF TASTE_REACTION("すっぱい")
			;レモン
			PRINTFORML 「ん～～、す、酸っぱいわ」
		ELSE
			;普通
			PRINTFORML 「ごちそうさま、ふふっ美味しかったわ」
		ENDIF
		
		;感想
		IF TASTE_REACTION("辛い") || TASTE_REACTION("甘い") || TASTE_REACTION("わさび") || TASTE_REACTION("すっぱい")
			;味付けあり　アリスは味覚普通
			PRINTFORMDL 勝手に食べたくせに……ひどいっ
		ELSE
			PRINTFORMDL 勝手に食べられてしまった……
			PRINTFORML 「ごめんなさい、美味しそうだったからつい……」
			IF K17_GRT() >= K17C_思慕
				PRINTW
				PRINTFORML 「……ほら、いらっしゃい」
				TRYCALL K17_甘やかし
			ENDIF
		ENDIF
	ENDIF
	PRINTW
ENDIF
RETURN 1

;==================================================
;MASTERが押し倒した
;==================================================
@M_KOJO_EVENT_K17_15(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL && !FLAG:時間停止 && !CFLAG:睡眠
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;未実装（押し倒しコマンドに統合？
	;MASTERが押し倒した（ウフフ開始時）
	;記入チェック（=0, 非表示、1, 表示）
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;逢瀬終了（ウフフ終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2

		;感想戦
		TRYCALL K17_うふふ感想戦( TCVAR:K17C_ID:K17C_TC_うふふ主導権 , TCVAR:K17C_ID:K17C_TC_溜まってる度 )
		TCVAR:K17C_ID:K17C_TC_うふふ主導権 = 0
		TCVAR:K17C_ID:K17C_TC_溜まってる度 = 0
		CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_おねだり系
	ENDIF
ENDIF
PRINTW
RETURN 1

;==================================================
;添い寝する
;==================================================
@M_KOJO_EVENT_K17_16(ARG,ARG:1)
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;添い寝を始めた（開始時）(存在せず
	;記入チェック
	;LOCAL:1 = 0
	;-------------------------------------------------
	;IF LOCAL:1 && ARG == 1
		;PRINTFORML
		;RETURN 1
	;ENDIF
	;-------------------------------------------------
	;添い寝を終了した（終了時）
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		CALL M_KOJO_MESSAGE_COM_K17_睡眠
		SIF !RESULT
			PRINTFORML 「ん……もう終わりなの？」
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;添い寝or恋慕同居　マスターが朝起きた　相手寝てるor起きてる
	;このままKOJO_MESSAGE_SEND("EVENT",2,TARGET,1,0)へ行く
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	;その他
	IF LOCAL:1 && ARG == 3
		IF CFLAG:TARGET:睡眠
			SELECTCASE K17_GRT()
				CASE IS >= K17C_恋慕生解禁
					PRINTFORML 「……%K17_CNAME()%……、えへへ……%K17_RS("好き/もっと、しよ/もっと、愛して")%……」
				CASE IS >= K17C_思慕
					PRINTFORML 「……%K17_CNAME()%……、%K17_RS("好き/えっち/ばかぁ")%……」
				CASEELSE
					PRINTFORML 「…………%K17_RS("ふにゃ/すぅー/ふぁ")%…………%K17_RS("魔理沙ぁ/シャン……ハイ/お母さん")%？　……」
			ENDSELECT
			PRINTFORMDL 普段の様子よりずっと%K17_RS("子供っぽい/可愛らしい/素直そうな")%%CALLNAME:TARGET%が幸せそうに眠っていた
			;寝てたら朝フェラoff
			TCVAR:K17C_ID:K17C_TC_朝フェラ = 1
		ENDIF
	ENDIF
ENDIF
RETURN 1
;==================================================
;時止め終了時
;見づらい、複雑なんとかしろ
;==================================================
@M_KOJO_EVENT_K17_17(ARG,ARG:1)
#DIM iRT
;口上主はTARGET
;排他と明記されていないモノは状況によっては連続で表示されるので注意
;ARGに射精状況
;ARG:1に射精状態
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
;各種初期化
;-------------
iRT = K17_GRT(TARGET)

IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;ARG=1～3は排他
	;謎の快感or絶頂　イタズラされた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && (ARG == 1 || ARG == 2)
		IF ARG == 1
			PRINTFORML 「%K17_RS("なっ/ひっ/んくっ/ひゃぁ/")%……！？」
		ELSEIF ARG == 2
			PRINTFORML 「っ～～～～～！！！　%K17_BLUSH(2)%」
		ENDIF
		PRINTFORMDL %CALLNAME:TARGET%はとっさに口を押さえて声を遮った
		IF K17_AP_FINISH() != ""
			CFLAG:K17C_ID:K17C_CF_喘ぎタイプ = K17C_受け_お手伝い系
			PRINTFORML （%K17_AP_FINISH()%）
		ENDIF
		;-------------------------------------------------
		;時間停止バレ
		;-------------------------------------------------
		IF CFLAG:時間停止バレ
			SELECTCASE iRT
				CASE IS >= K17C_思慕うふふ
					PRINTFORML 「……普通にすればいいのに……ばかっ」
				CASE IS >= K17C_思慕
					PRINTFORML 「なっ……なんてことするの……」
				CASEELSE
					PRINTFORML 「さっ……最低……」
			ENDSELECT
		;-------------------------------------------------
		;疑いなし
		;-------------------------------------------------
		ELSEIF !CFLAG:K17C_ID:K17C_CF_疑い
			;自分のパンツ没収未経験
			SIF !FIRSTTIME("時間停止解除")
				PRINTFORML （……%K17_CNAME()%に会うと、よくこうなる気がする……）
			PRINTFORML （これって……もしかして私の身体……%K17_CNAME()%のこと求めてる……の？）
		ENDIF
		;時間停止経験保存
		CALLF FIRSTTIME("時間停止解除")
	ENDIF
	
	;-------------------------------------------------
	;パンツ紛失のみ
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「%K17_RS("なっ/えっ/ふぇ")%……！？」
		IF CFLAG:時間停止バレ
			;停止バレ
			IF iRT >= K17C_恋慕
				PRINTFORML 「もうっ……そんなに欲しかったらあげるのに」
			ELSE
				PRINTFORML 「また……こんなことするなんて……」
				
			ENDIF
		ELSEIF CFLAG:K17C_CF_パンツ没収
			;没収経験あり　認識的にはパンツを盗む能力
			IF iRT >= K17C_恋慕
				PRINTFORML 「もうっ……そんなに欲しかったらあげるのに」
			ELSE
				PRINTFORML 「……またイタズラしたわね……」
			ENDIF
			CFLAG:K17C_ID:K17C_CF_疑い++
		ELSE
			;まだ没収はされてない
			;初回
			IF FIRSTTIME("時間停止パンツ紛失")
				PRINTFORML （%K17_RS("パンツ/下着/ショーツ")%が……なくなった！？　今日ちゃんと履いてたわよね……？）
			ELSE
				PRINTFORML （また%K17_RS("パンツ/下着/ショーツ")%が……なくなった！？　%K17_RS("今日ちゃんと履いてたわよね/どこかに落としたの")%……？）
			ENDIF
			IF !CFLAG:K17C_CF_疑い
				;疑いなし
				PRINTFORML （やだ……%K17_CNAME()%に気づかれてない……よね？）
				PRINTW
				RETURN 1
			ENDIF
		ENDIF
	ENDIF
	;-------------------------------------------------
	;【無自覚口内射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		;精液中毒低精飲 ;精液中毒高精飲
		IF ARG:1 == 1 || ARG:1 == 4 || ARG:1 == 6
			PRINTFORML 「%K17_SPLIT_SHUFFLE(@"……/%K17_RS("ごくっ/んぐっ/んっく")%/……")%」
		;精液中毒低吐き出し ;濃厚精液＆精液中毒低吐き出し
		ELSEIF ARG:1 == 2 || ARG == 5
			PRINTFORML 「%K17_SPLIT_SHUFFLE(@"……/%K17_RS("うえぇ/うっ/っぐぇ")%/……")%」
		;精液中毒低手で覆う
		ELSEIF ARG:1 == 3
			PRINTFORML 「げほっげほっ……」
		ENDIF
		IF CFLAG:時間停止バレ
			;停止バレ
			IF iRT >= K17C_恋慕
				PRINTFORML 「もうっ……なんてことするの……」
			ELSE
				PRINTFORML 「また……こんなことするなんて……」
				
			ENDIF
		ELSE
			;まだバレてない
			PRINTFORML （……こんな急に……なんなの？）
			IF ABL:精液中毒 >= 3
				;飲んだ
				PRINTFORML （これってまさか……精液！？%K17_RS(@"/……%K17_CNAME()%のよね？")%）
				CFLAG:K17C_CF_疑い++
			ENDIF
		ENDIF
	ENDIF
	;-------------------------------------------------
	;【無自覚顔面射精】
	;【無自覚手淫射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && (ARG == 5 || ARG == 6)
		IF ARG:1 == 1
			;幼稚持ち＆精液経験100未満 ;通常ぬぐい取り 
			PRINTFORML 「っ……なに……これ……」
			PRINTW
			RETURN 1
		ELSEIF ARG == 5 && ARG:1 == 2
			;自覚してぬぐう
			IF CFLAG:時間停止バレ
				;停止バレ
				IF iRT >= K17C_恋慕
					PRINTFORML 「いきなり……こんな%K17_RS("ことしないで/ところにかけないで")%よっ、もうっ……」
				ELSE
					PRINTFORML 「こんなところにかけるなんて……」
				ENDIF
			ELSE
				;未バレ
				PRINTFORML （やだ……これ精液……よね%K17_RS(@"/……%K17_CNAME()%の？")%）
				CFLAG:K17C_ID:K17C_CF_疑い++
			ENDIF
		ELSE
			;精液舐めとり
			PRINTFORML 「…………っ」
			IF CFLAG:時間停止バレ
				;停止バレ
				IF iRT >= K17C_恋慕
					PRINTFORML 「いきなり……こんなことしないでよっ、もうっ……%K17_RS("ぺろっ/はむっ")%」
					PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%に見せつけるように舐めとった
				ELSE
					PRINTFORML 「こんなところにかけるなんて……んくっ」
					PRINTFORML 「%K17_RS("変態っ/ばかっ/すけべっ/えっち")%……」
				ENDIF
			ELSE
				;舐めた
				PRINTFORML （思わず舐めちゃったけど……これ……精液……！？）
				CFLAG:K17C_ID:K17C_CF_疑い++
			ENDIF
		ENDIF
	ENDIF
	;-------------------------------------------------
	;【無自覚手淫射精】
	;記入チェック（=0, 非表示、1, 表示）
;	LOCAL:1 = 1
	;-------------------------------------------------
;	IF LOCAL:1 && ARG == 6
;		;ぬぐい取り
;		IF ARG:1 == 1
;			PRINTFORML 「っ……なに……これ……」
;		;舐めとり
;		ELSEIF ARG:1 == 2
;			PRINTFORML 「…………っ」
;			IF CFLAG:時間停止バレ
;				;停止バレ
;				IF iRT >= K17C_恋慕
;					PRINTFORML 「急にこんなことしないでよっ、もうっ……\@ARG:3?ぺろっ#\@」
;				ELSE
;					PRINTFORML 「こんなところにかけるなんて……\@ARG:3?んくっ#\@」
;				ENDIF
;			ELSE
;				;停止未バレ
;				PRINTFORML （思わず舐めちゃったけど……これ……精液……！？）
;				IF iMOB
;					PRINTFORML （いったい、だ……だれの……）
;					PRINTFORMDL 一瞬%CALLNAME:TARGET%は青ざめ、落ち着かないようにきょろきょろと辺りを警戒した
;					IF iRT >= K17C_恋慕
;						PRINTFORML （わ、私……%K17_CNAME()%以外の人に……%K17_RS("穢された/汚された/精液かけられた")%！？）
;					ENDIF
;					CFLAG:K17C_CF_疑心暗鬼 = 1
;				ELSE
;					;モブなし
;					CFLAG:K17C_ID:K17C_CF_疑い++
;				ENDIF
;			ENDIF
;		ENDIF
;	ENDIF
	;-------------------------------------------------
	;【無自覚アナル射精】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 7
		;Ａ感覚0
		IF ARG:1 == 1
			PRINTFORML （いづっ……なに……急に……%K17_CALL_P(K17C_部位A)%）
			PRINTW
			RETURN 1
		;ソレ以外
		ELSEIF ARG:1 == 2
			
			IF CFLAG:時間停止バレ
				;停止バレ
				IF iRT >= K17C_恋慕
					PRINTFORML 「急にこんなことしないでよっ、もうっ……」
				ELSE
					PRINTFORML 「こんなことするなんて……くっ……」
				ENDIF
			ELSE
				;未バレ
				PRINTFORML （この感覚……%K17_CALL_P(K17C_部位A)%に……出された……の？）
				CFLAG:K17C_ID:K17C_CF_疑い++
			ENDIF
		ENDIF
	ENDIF
	;-------------------------------------------------
	;【無自覚処女喪失】
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 8
		PRINTFORML （いづっ……なに……急に……）
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;【無自覚膣内射精】
	;1非処女膣内射精ピルなし
	;2非処女膣内射精ピルあり
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 9 && (ARG:1 == 1 || ARG:1 == 2)
		PRINTFORML 「なっ……っ～～～～～%K17_BLUSH(2)%」
		PRINTFORML （これって……膣内に……出された……の？）
		IF CFLAG:時間停止バレ && iRT >= K17C_恋慕
			;バレありの恋慕以上
			IF CFLAG:生解禁 >= 2
				;生解禁してる
				PRINTFORML 「こんなことしなくても……普通にしなさいよ、ばかっ」
				PRINTFORMDL %CALLNAME:TARGET%は辺りを気にして、顔を赤くした
			ELSE
				;解禁してない
				PRINTFORML 「こんなっ……勝手にするなんて……」
				PRINTFORMDL %CALLNAME:TARGET%の機嫌を損ねてしまった
				CALL K17_MARK_反発刻印(0)
			ENDIF
		ELSEIF CFLAG:時間停止バレ
			;バレありの恋慕未満
			PRINTFORML 「ひっ……ひどい……こんなっ」
			PRINTFORMDL %CALLNAME:TARGET%は悔しげな顔で%CALLNAME:MASTER%を睨みつけた
		ELSE
			;未バレ
			PRINTFORML （なっ……いつの間に！？）
			PRINTFORML （知らない間に、%K17_CNAME()%に……%K17_RS("中出し/膣内射精/種付け")%された……の？）
			CFLAG:K17C_ID:K17C_CF_疑い++
		ENDIF
		
		;-----------------
		;ピル　危険日か見る
		;-----------------
		IF ARG:1 == 1
			IF ESTRUS_CYCLE(TARGET) >= 100
				PRINTFORML （き……今日は%K17_RS("赤ちゃんできちゃう/妊娠しちゃう")%……）
			ELSE
				PRINTFORML （……今日は%K17_RS("赤ちゃん/妊娠")%平気だよね……？）
			ENDIF
		ELSEIF ARG:1 == 2
			;ピルあり
			PRINTFORML （ピル飲んでるから……%K17_RS("赤ちゃん/妊娠")%は%K17_RS("大丈夫/平気")%……よね？）
		ENDIF
	
	;無自覚
	ELSEIF ARG:1 == 3
		PRINTFORML （あ……れ……これって%K17_RS("生理/おりもの")%……？）
		IF !CFLAG:K17C_ID:K17C_CF_疑い
			PRINTFORML （違う……濡れ……えっ、えっ、私の身体、勝手に%K17_RS("欲情/発情")%してる……の？）
			SIF EQUIP:下半身下着１ || EQUIP:下半身下着２
				PRINTFORML （やだ……下着……汚れちゃう……）
		ENDIF
		PRINTW
		RETURN 1
	ENDIF
	
	;-------------------------------------------------
	;疑い　停止バレの後処理
	;-------------------------------------------------
	IF CFLAG:K17C_ID:K17C_CF_疑い && CFLAG:K17C_ID:K17C_CF_パンツ没収 && !CFLAG:時間停止バレ
		;パンツ没収経験済み
		SELECTCASE CFLAG:K17C_ID:K17C_CF_疑い
			CASE IS <= 10
				PRINTFORML （……これってもしかして、%K17_CNAME()%にイタズラされているの……？）
			CASE IS >= 10
				PRINTFORML （これってやっぱり……%K17_CNAME()%にイタズラされてるってことなのね……）
			CASE IS >= 40
				PRINTFORML （あとは証拠ね……次からは罠を仕掛けるわ……）
		ENDSELECT
		CFLAG:K17C_ID:K17C_CF_疑い = MIN(CFLAG:K17C_ID:K17C_CF_疑い +5,100)
		SIF CFLAG:K17C_ID:K17C_CF_疑い >= 10
			PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の疑いを深めた
			
	ELSEIF CFLAG:K17C_ID:K17C_CF_疑い && !CFLAG:K17C_ID:K17C_CF_パンツ没収 && !CFLAG:時間停止バレ
		;パンツ没収未経験で疑いがついた
		PRINTFORML （えっ……えっ……%K17_RS("どういうことなの/なにかをされたの/なにをされたの")%……やだぁ%K17_RS("/恐い")%……）
		PRINTFORMDL %CALLNAME:TARGET%は不安を感じているようだ……
		CFLAG:K17C_ID:K17C_CF_疑い = MIN(CFLAG:K17C_ID:K17C_CF_疑い +2,100)
		SIF CFLAG:K17C_ID:K17C_CF_疑い >= 40
			PRINTFORML （犯人を捕まえる……次から罠を仕掛けるわ）
	ENDIF
	;恋慕以下でバレてれば反発刻印 イタズラの数だけつくはず
	SIF iRT < K17C_恋慕 && CFLAG:時間停止バレ
		CALL K17_MARK_反発刻印(1)
	CALLF FIRSTTIME("時間停止イタズラ")
	PRINTW
ENDIF
RETURN 1
;==================================================
;ナマでやらせろ時
;==================================================
@M_KOJO_EVENT_K17_18(ARG,ARG:1)
#DIM DYNAMIC iRT
iRT = K17_GRT()
;口上主はTARGET
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;避妊要求台詞
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		SELECTCASE iRT
			CASE IS >= K17C_恋慕
				PRINTFORML 「あ……あのね、まだ赤ちゃん出来ちゃうのは……%K17_RS("いけない/ダメだと")%と思うの……」
				PRINTFORML 「それにね……えっと、その……」
				PRINTFORMDL %CALLNAME:TARGET%は真っ赤になり、%CALLNAME:MASTER%に顔を寄せて囁いた
				PRINTFORML 「えっちするのは嫌いじゃないの、だからしばらく……したい、から……赤ちゃん出来ちゃうのはだめ、なの……」
				PRINTFORML 「だから%K17_RS("ゴム/避妊")%して……」
			CASEELSE
				PRINTFORML 「せめて%K17_RS("ゴム/避妊")%して……」
		ENDSELECT
		
	ENDIF
	;-------------------------------------------------
	;断った
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「だめぇ……赤ちゃん出来ちゃうよぅ……」
		
	ENDIF
	;-------------------------------------------------
	;断ったのに粘られて切れた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「%K17_RS("いやっ/やだっ/イヤっ")%、じゃあもう、えっちしないからっ」
		
	ENDIF
	;-------------------------------------------------
	;危険日以外許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML 「わかった……じゃあ危ない日以外だけ、だからね……？」
		PRINTFORML （いいのかなぁ……）
		
	ENDIF
	;-------------------------------------------------
	;危険日許可
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTFORML 「あ、赤ちゃん……作りたいの？」
		PRINTFORML 「生えっちしたいなら、ピル飲むから……」
		PRINTFORMDL %CALLNAME:MASTER%は子供を作りたいのだとハッキリ伝えた……
		PRINTFORML 「……あぅ……わかったわよ、じゃあいいけど……」
		PRINTFORML 「出来ちゃったら、本当に産むから……ね」
		TRYCALL K17_RELATION_EV(K17C_RTF_生解禁)

	ENDIF
ENDIF
PRINTL
RETURN 1
;==================================================
;神社暮らしを承認して貰う
;==================================================
@M_KOJO_EVENT_K17_19(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;認められる
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「ありがとう、%K17_CNAME()%
		PRINTFORML 「家賃は家事の手伝いか……大丈夫、結構得意よ」
		PRINTFORML 「%K17_CNAME()%のためにもがんばるから、よろしくね」
		PRINTFORMDL %CALLNAME:TARGET%は新たな生活に目を輝かせ、嬉しそうに%CALLNAME:MASTER%に笑顔を向けた
		PRINTL
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;認められない
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「そ、そう……残念だわ」
		PRINTFORMDL %CALLNAME:TARGET%は肩を落とし、見るからに残念そうだった
		PRINTL
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;帰宅時
;==================================================
@M_KOJO_EVENT_K17_20(ARG,ARG:1)
;口上主はLOCALS or RESULT
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;通常帰宅　おやすみ口上で統一
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		;CALL M_KOJO_EVENT_K17_3(1)
		;PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;デート中帰宅
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		CALL M_KOJO_SPEVENT_K17_3(0)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;玄関先でお見送り
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		CALL M_KOJO_SPEVENT_K17_3(0)
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;陥落素質取得時
;==================================================
@M_KOJO_EVENT_K17_21(ARG,ARG:1)
;口上主はARG
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
IF LOCAL
	CFLAG:K17C_ID:K17C_CF_オナニーフラグ = 1
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTL
		PRINTFORML （これはもう、認めるしかないようね……）
		PRINTFORML （魔法使いともあろう者が、完敗よ……）
		PRINTFORML （%K17_CNAME()%……好きよ%K17_HEART()%　大好き%K17_HEART()%　愛してる%K17_HEART(2)%）
		PRINTW
		
		;処女判定
		IF TALENT:処女
			;自主トレ設定:おねだりH
			PRINTFORMDL しばらくベッドの上でジタバタしていた%CALLNAME:TARGET%だがやがて……
			PRINTFORML 「ぅ……ふっ……くぅ…………」
			PRINTFORMDL 恐る恐る蜜壺へ手を伸ばしていた
			PRINTFORML 「これ…………いいっ…………%CALLNAME:MASTER%のこと考えるとっ……ふにゃああ」
			PRINTFORML 「しちゃう……の？　…………して……するの……犯してぇ……」
			PRINTFORML 「しちゃいたいの……受け入れちゃう…………準備できちゃってるっ……」
			PRINTFORMDW %CALLNAME:TARGET%は普段からは考えられないような、あられもない格好で自慰に耽っている
			PRINTFORML 「いく……いくいく……イク～～～～っっ！！！」
			PRINTW
		ELSE
			TRYCALL K17_H妄想_喘ぎ(K17C_攻め_おねだり系)
			PRINTFORML 「%K17_喘ぎ声(K17C_攻め_おねだり系,6,1)%%K17_快楽_喘ぎ声(K17C_攻め_おねだり系,8000,K17C_部位V)%%K17_喘ぎ声(K17C_攻め_おねだり系,6,1,1)%」
			PRINTFORML 「%K17_喘ぎ_絶頂(K17C_攻め_おねだり系,K17C_部位V)%」
			PRINTW
		ENDIF
		PRINTFORML （あぁ……よかったぁ%K17_HEART()%　……けど……知らなかった……）
		PRINTFORML （…………本当に好きになっちゃうと、自分で慰めるだけじゃ切なくなるのね……）
		;経験値+余計悶々としちゃう
		EXP:自慰経験 += 1
		EXP:Ｖ経験 += 1
		EXP:Ｂ経験 += 1
		EXP:Ｖ絶頂経験 += 1
		EXP:自慰経験 += 1
		CFLAG:溜まってる度 /= 4
		CFLAG:溜まってる度 += 200
		
		;態度を2段階下げる
		CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_態度,-2)
		SIF RESULT
			PRINTFORML （もっと素直になってもいいよね）
		;フラグ保存
		SIF (K17_RT_FG(TARGET) & K17C_RTF_恋慕) && !(CFLAG:K17C_ID:K17C_CF_RTF & K17C_RTF_恋慕)
			CALL K17_RELATION_EV(K17C_RTF_恋慕)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;思慕取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTL
		PRINTFORML 「……………………%CALLNAME:MASTER%のこと好き……なのかも」
		PRINTFORML （これ……声に出してみると、すごく胸がどきどきする）
		PRINTFORML （やっぱりそういうこと……なの？）
		PRINTW
		
		;処女判定
		IF TALENT:処女
			;自主トレ設定:犯されH
			PRINTFORMDL %CALLNAME:TARGET%はベッドにうつ伏せになりながら枕を足の間に挟んだ
			PRINTFORMDL 鼓動を確認していたつもりの手が、いつの間にかいやらしく胸を揉んでしまっていた
			PRINTFORML 「……はぁはぁ……うっく…………」
			PRINTFORMDL お尻をふりふりと振って枕に股を押し付けている
			PRINTFORML 「これ……すごいっ…………%CALLNAME:MASTER%！……きゃあぁん」
			PRINTFORML 「だめよっ……こんな……無理矢理っ……がっついちゃだめぇ……」
			PRINTFORML 「がまんっ……して…………まだだめ……なんだからっ……」
			PRINTFORMDW %CALLNAME:TARGET%は普段からは考えられないような、あられもない格好で自慰に耽っている
			PRINTFORML 「だめ……だめだめっ……イかされちゃう～～っっ！！！」
		ELSE
			TRYCALL K17_H妄想_喘ぎ(K17C_受け_合意襲い系)
			PRINTFORML 「%K17_喘ぎ声(K17C_受け_合意襲い系,6,1)%%K17_快楽_喘ぎ声(K17C_受け_合意襲い系,8000,K17C_部位C)%%K17_喘ぎ声(K17C_受け_合意襲い系,6,1,1)%」
			PRINTFORML 「%K17_喘ぎ_絶頂(K17C_受け_合意襲い系,K17C_部位C)%」
		ENDIF
		PRINTW
		PRINTFORML （すごかったぁ%K17_HEART()%　…………けど……これ……）
		PRINTFORML （…………自己嫌悪だわ……%CALLNAME:MASTER%のことネタにしちゃった……）
		;経験値+スッキリ
		EXP:自慰経験 += 1
		EXP:Ｃ経験 += 1
		EXP:Ｂ経験 += 1
		EXP:Ｃ絶頂経験 += 1
		EXP:自慰経験 += 1
		CFLAG:溜まってる度 /= 4
		;態度を1段階下げる
		CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_態度,-1)
		SIF RESULT
			PRINTFORML （ちょっとは素直になってもいいわよね）
		;フラグ保存
		SIF K17_RT_FG(TARGET) & K17C_RTF_思慕 && !(CFLAG:K17C_ID:K17C_CF_RTF & K17C_RTF_思慕)
			CALL K17_RELATION_EV(K17C_RTF_思慕)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛欲取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML （だめっ……もう……あの人の身体なしじゃ生きられないのかも）
		TRYCALL K17_H妄想_喘ぎ(K17C_攻め_無理矢理系)
		PRINTFORML 「%K17_喘ぎ声(K17C_攻め_無理矢理系,6,1)%%K17_快楽_喘ぎ声(K17C_攻め_無理矢理系,8000,K17C_部位V)%%K17_喘ぎ声(K17C_攻め_無理矢理系,6,1,1)%」
		PRINTFORML 「%K17_喘ぎ_絶頂(K17C_攻め_無理矢理系,K17C_部位V)%」
		PRINTW
		PRINTFORMDL 身体は完全に虜になってしまっていた……
		;フラグ保存
		SIF K17_RT_FG(TARGET) & K17C_RTF_恋慕 && !(CFLAG:K17C_ID:K17C_CF_RTF & K17C_RTF_恋慕)
			CALL K17_RELATION_EV(K17C_RTF_恋慕)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;愛人取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML （いけないことだって思ってるのに完全にハマってるわね……）
		TRYCALL K17_H妄想_喘ぎ(K17C_攻め_おねだり系,0)
		PRINTFORML 「%K17_喘ぎ声(K17C_攻め_おねだり系,6,1)%%K17_快楽_喘ぎ声(K17C_攻め_おねだり系,8000,K17C_部位C)%%K17_喘ぎ声(K17C_攻め_おねだり系,6,1,1)%」
		PRINTFORMDL 今日もまた心とは別に身体が%CALLNAME:MASTER%を求めてしまっていた……
		;フラグ保存
		SIF K17_RT_FG(TARGET) & K17C_RTF_思慕 && !(CFLAG:K17C_ID:K17C_CF_RTF & K17C_RTF_思慕)
			CALL K17_RELATION_EV(K17C_RTF_思慕)
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;セフレ取得
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 5
		PRINTL
		PRINTFORML （身体だけの関係っていうのも……いい……のかなぁ？）
		TRYCALL K17_H妄想_喘ぎ(K17C_受け_合意襲い系)
		PRINTFORMDL 頭では否定しても、火照った身体の疼きは止むことはなかった……
		;フラグ保存
		SIF K17_RT_FG(TARGET) & K17C_RTF_思慕 && !(CFLAG:K17C_ID:K17C_CF_RTF & K17C_RTF_思慕)
			CALL K17_RELATION_EV(K17C_RTF_思慕)
		RETURN 1
	ENDIF
ENDIF
RETURN 1
;==================================================
;調教終了時に自慰
;==================================================
;テンプレ無視ごめんなさい てかなんかちょっと間違ってた
;自慰経験100の格の違いを見せないと！　かっ飛ばせ！かっ飛ばせ！アリス！
;
;	[テンプレ]
;ARG:0に自慰状況　1通常自慰　2同居時自慰　3中だし精液自慰　4無知持ち　5陥落素質あり自慰中毒高め　6自慰中毒高め（陥落なし）
;ARG:1に自慰種類　1Ｂ　2A　6C　7V　8部位指定無し　ARG==6の時　1尻穴膣腔同時　2膣腔のみ

;	[現在の実値]
;ARG:0に自慰状況　1通常自慰　2同居時自慰　3中だし精液自慰　4無知持ち　5陥落素質あり自慰中毒4以上　6自慰中毒4以上（陥落関係なし）おもちゃ
;ARG:1に自慰種類	ARG==5 1B　2A　3C　4V　5なし　各感度1or感覚10……部位番号はABLの要素番号とは違うみたい　感覚だけかと思ってた……
;					ARG==6　1尻穴膣腔同時　2膣腔のみ
;無知はまた今度
;--------------------------------------------------
@M_KOJO_EVENT_K17_22(ARG,ARG:1)
#DIM DYNAMIC iRand,2=0,0	;妄想種類と妄想
#DIM DYNAMIC iType = 0		;喘ぎTYPE
#DIM DYNAMIC ABLnum= -1		;部位番号　引数からABLの番号に変更 -1のままだとスキップ
VARSET LOCALS		;オプションの呼び名文字列
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL

	;-------------------------------------------------
	;無知
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		IF ABL:自慰中毒 >= 5
			;保護者連絡
			PRINTFORML （……死にたい……恥ずかしいぃ……）
			PRINTFORML （でも大人になるってこういうことなの……？）
		ELSE
			PRINTFORML （なに……これ……なにこれぇ……気持ちいぃ%K17_HEART()%）
			PRINTFORMDL %CALLNAME:TARGET%は未知の快楽に身を委ね、何度も快感に打ちひしがれている……
		ENDIF
	RETURN 1
	ENDIF


	;-------------------------------------------------
	;無知自慰以外　ここから　同居は妄想スキップ
	;-------------------------------------------------
	IF ARG != 2 && ARG != 7
		PRINTFORML 「%K17_RS("うーん/えーと/")%……今日は……どうしようかしら……よし」
		PRINTFORMDL %CALLNAME:TARGET%は布団に倒れ込むと目を瞑って、妄想に耽り始めた……
		PRINTFORMDL ……
		PRINTFORMDL …………
		PRINTFORMDW ………………
	ENDIF
	
	;-------------------------------------------------
	;無知自慰以外で陥落ないとき
	;思慕付き前だからここで誘わないと誰にも見てもらえないぞ、がんばれがんばれ
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG != 4 && K17_GRT(TARGET) < K17C_思慕
		PRINTFORML （図書館で見つけた%K17_RS("官能小説/薄い本/えっちな本")%の場面思い出して……）
		PRINTDATAL
			DATAFORM （んっ……こんなこと……あっ……いけないってわかってるのにぃ……）
			DATAFORM （くっ……こんな欲求……なくなればいいのにぃ……）
			DATAFORM （あぅ……こんなことばっかりぃ……だめなのにぃ……）
			DATAFORM （んくぅ……こんなとこ……もし見られたら……だめなのにぃ……）
		ENDDATA
		;でも感じちゃうビクンッビクンッ
		PRINTDATAL
			DATAFORM （でも私って……これ結構しちゃってる……の、よねぇ……）
			DATAFORM （でも身体……勝手に、ムラムラしちゃってる……）
			DATAFORM （でも身体……勝手に……赤ちゃん……欲しがってるの……？）
			DATAFORM （でもこれ……気持ちいぃの……しちゃうのぉ……）
		ENDDATA
		PRINTFORML （そろそろ……%K17_RS("イケそう/絶頂できそう/終わりそう")%……）
		PRINTFORML 「……いっ……%K17_RS("ぃきゅぅ/ぃくぅ/ぃっちゃぅ")%…………」
		PRINTW
		PRINTFORMDL %CALLNAME:TARGET%の%K17_RS("足/身体")%がぴくんぴくんと痙攣した
		PRINTFORML 「はぁ……%K17_HEART()%」
		PRINTFORMDL 一瞬緊張した身体がくたりと力が抜け横たわる
		PRINTFORML （……これ……今まで一体何度やってきたのかしら……）
		PRINTFORML （でも……やめられないのよね……はぁ……）
		SIF TALENT:処女
			PRINTFORML （経験ないのにこんなことばっかり上手くなる……）
		PRINTFORMDL %CALLNAME:TARGET%は少し自己嫌悪した
		RETURN 1
	ENDIF
	
	
	;-------------------------------------------------
	;無知自慰以外
	;こっちがメイン　アリスの妄想ひとりえっち
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG != 4 && ARG != 7
		iRand:0=RAND:K17C_妄想種類数
		iRand:1=RAND:K17C_受け妄想数
		;同居以外は妄想先出し
		IF ARG != 2
			;妄想の取り出し　CONVERTしてそれっぽく→見送り
			SELECTCASE K17_GRT(TARGET)
				CASE IS >= K17C_恋慕
					;恋慕から攻め受け
					;妄想取り出しひでーなこれ……長文だとだめだなぁ
					;PRINTFORML （……%K17_SEXY_CONVERT(K17_H妄想(iRand:0,iRand:1),13,K17_HEART())%……）
					PRINTFORML （……%K17_H妄想(iRand:0,iRand:1)%……）
					PRINTW
				CASE IS >= K17C_思慕
					;思慕は受けのみ
					iRand:0=K17C_受け
					PRINTFORML （……%K17_H妄想(iRand:0,iRand:1)%……）
					;PRINTFORML （……%K17_SEXY_CONVERT( K17_H妄想(iRand:0,iRand:1),13,K17_HEART())%……）
					PRINTW
			ENDSELECT
			;既読で変わった場合があるので保存
			iRand:1 = RESULT
		ELSEIF ARG== 2
			
			;もし処女orオナバレ初回なら小悪魔受け固定
			SIF TALENT:TARGET:処女 || CFLAG:TARGET:K17C_CF_オナバレ追加イベ  == 0
				iRand:1 = K17C_小悪魔受け
		ENDIF
			
		;タイプ決定
		iType = K17_喘ぎタイプ_H妄想(iRand:0,iRand:1)
		
		;-------------------------------------------------
		;同居
		;オナバレを入れる
		;-------------------------------------------------
		IF ARG == 2
			;同居　恋慕以上なんでタイプ確定打ちしてもいいかな
			PRINTFORMDL 本人は気づいていないのだろうが、その声もだんだんと大きくなっていた……
			TRYCALL K17_H妄想_喘ぎ(iType)
			
			;幸運補正+10%　関係性補正+3%　つく
			IF K17_LUCKY_SUKEBE(55)
				TRYCALL K17_ONABARE(K17C_ID)
				RETURN 1
			ENDIF
			
			;こっちでも鑑賞と大差ないやつ
			PRINTFORMDL そろそろ達するのか、%CALLNAME:TARGET%がぎゅっと%CALLNAME:MASTER%の手を握ってくるので、思わず握り返してしまった
			PRINTFORML 「…………？　えっ」
			PRINTFORMDL %CALLNAME:TARGET%が快感に震えながらこちらに気づいて、顔を真っ赤にした
			PRINTW
			PRINTFORML 「えっ、ちょっと、まってぇ、%K17_喘ぎ_絶頂(iType,-1,"\n　見られながら")%」
			PRINTFORMDL %CALLNAME:TARGET%は慌てた様子だったが快感%K17_RS("を止められず/に堪えきれず/に耐えられず")%、びくびくと痙攣した
			PRINTFORMDL 恥ずかしそうに身体を丸めて絶頂するが、肝心な所が%CALLNAME:MASTER%から丸見えだった
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDW ………………
			
			;性癖暴露処理
			;オナバレイベント入ったか見る
			IF FIRSTTIME("オナバレ")
				PRINTFORML 「えっと……これはその……」
				PRINTFORMDL %CALLNAME:TARGET%は絶頂から回復するとしどろもどろになって説明を始めた
				PRINTFORML 「……ちちち、違うのよこれは」
				PRINTFORML 「その……人形のね、研究？　そう！　それでちょっと……」
				PRINTFORMDL その言い訳は苦しいと思うが……
				PRINTW
				PRINTFORMDL それに本当にそんな　"研究"　をしているとするなら、ぜひちゃんと見てみたいものだ
				PRINTFORML 「ッッッ！」
				PRINTFORML （バ、バレてるわね……）
				PRINTW
				PRINTFORMDL それにしても%CALLNAME:TARGET%は　"研究熱心"　なようだ
				PRINTFORML （女の子だって……性欲あるんだからっ……）
				PRINTFORML （内緒で一人えっちしちゃうことだってあるわよ……%K17_BLUSH()%）
				PRINTFORML （それに%K17_CNAME()%にも責任あるんだからねっ……）
				PRINTW
				PRINTFORMDL もっと　"研究発表"　して他の人にも教えてあげないと
				PRINTFORML 「っ～～～！？！？　こ、これは発表できるようなものじゃっ……！」
				PRINTFORML 「な、内緒よ！　内緒の研究なの！」
				PRINTFORML 「ていうか、わかってていじわる言ってるでしょ！？」
				
			ELSE
				PRINTFORML 「あっ……いや……あぅ……うぅー」
				PRINTFORMDL 絶頂が終わると%CALLNAME:TARGET%はシーツを頭まで被ってしまい唸っていた
				PRINTFORMDL %CALLNAME:TARGET%はやっぱり　"研究熱心"　だった
				PRINTFORML 「ちっ、違っ……」
			ENDIF
			
			PRINTFORMDW じゃあ、一体どんな　"研究"　をしていたのか、ちゃんと言って欲しい……
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDW ………………
			PRINTL
			PRINTFORMW 「%CALLNAME:TARGET%は%K17_RS("ひとりえっち/自慰/おなにー/女の子の身体")%研究をしてましたっ%K17_BLUSH(2)%」
			PRINTFORML 「さっ、最悪の台詞だわ」
			;鑑賞と同じ
			TRYCALL K17_オナバレ追加イベント(2,iRand:1)
			
			PRINTFORMDL なんだか堪らず%CALLNAME:TARGET%を抱きしめて、ずっと頭を撫でながら眠りについた……
			
			;CFLAG:K17C_ID:K17C_CF_オナニーフラグ = 1
			RETURN 1
			
		;-------------------------------------------------
		;ARG==3,5,6のオプション選択
		;-------------------------------------------------
		ELSEIF ARG == 3
			;中出し精液
			LOCALS = %K17_CNAME()%の精液で
			ABLnum = K17C_部位V
		ELSEIF ARG == 5
			;部位描写あり 
			SELECTCASE ARG:1
				[SKIPSTART]
				CASE 1
					ABLnum = K17C_部位B
				CASE 2
					ABLnum = K17C_部位A
				CASE 3
					ABLnum = K17C_部位C
				CASE 4
					ABLnum = K17C_部位V
				[SKIPEND]
				CASE 1
					ABLnum = K17C_部位C
				CASE 2
					ABLnum = K17C_部位V
				CASE 3
					ABLnum = K17C_部位A
				CASE 4
					ABLnum = K17C_部位B
			ENDSELECT
		ELSEIF ARG == 6
			;おもちゃあり
			LOCALS +="おもちゃで"
			SELECTCASE ARG:1
				CASE 1
					LOCALS += K17_CALL_P(K17C_部位A)+"と"+K17_CALL_P(K17C_部位V)
				CASE 2
					ABLnum = K17C_部位V
			ENDSELECT
		ENDIF
		
		
		;-------------------------------------------------
		;喘ぎ
		;-------------------------------------------------
		TRYCALL K17_H妄想_喘ぎ(iType,ARG==6 ? 1#0)
		
		;-------------------------------------------------
		;絶頂処理
		;-------------------------------------------------
		;部位
		PRINTFORML 「%K17_喘ぎ声(iType,6,1)%%K17_快楽_喘ぎ声(iType,8000,ABLnum)%%K17_喘ぎ声(iType,6,1,1)%」
		PRINTFORML 「%K17_喘ぎ_絶頂(iType,ABLnum,LOCALS)%」
		PRINTW
		
		;感想戦
		PRINTFORML 「はぁ……%K17_HEART()%」
		PRINTFORMDL 激しく絶頂した%CALLNAME:TARGET%の身体から力が抜けると、くたりと横たわる
		PRINTFORMDL 額に手をやり荒い息を整えていた
		PRINTFORML （%K17_RS("欲求不満/溜まってるの/生理近いの")%かしら……）
		SELECTCASE iType
			;受け
			CASE K17C_受け_おねだり系
				PRINTFORML （あんな、%K17_RS("おねだりし/溺愛され/甘え")%ちゃう%K17_RS("妄想/想像")%なんて……）
			CASE K17C_受け_合意襲い系
				PRINTFORML （あんな、自分から誘って%K17_RS("無理矢理/滅茶苦茶に/犯")%されちゃう%K17_RS("妄想/想像")%なんて……）
			CASE K17C_受け_無理矢理系
				PRINTFORML （あんな、%K17_RS("無理矢理/乱暴/犯")%されちゃう%K17_RS("妄想/想像")%なんて……）
			CASE K17C_受け_お手伝い系
				PRINTFORML （あんな、%K17_RS("好き勝手/滅茶苦茶に/乱暴に")%されちゃう%K17_RS("妄想/想像")%なんて……）
			;攻め
			CASE K17C_攻め_おねだり系
				PRINTFORML （あんな、自分から%K17_RS("おねだり/溺愛")%しちゃう%K17_RS("妄想/想像")%なんて……）
			CASE K17C_攻め_合意襲い系,K17C_攻め_無理矢理系 
				PRINTFORML （あんな、自分から%K17_RS("無理矢理/滅茶苦茶に/犯")%しちゃう%K17_RS("妄想/想像")%なんて……）
			CASE K17C_攻め_お手伝い系
				PRINTFORML （あんな、自分から%K17_RS("乱れちゃう/楽しんじゃう")%%K17_RS("妄想/想像")%なんて……）
		ENDSELECT
		
		PRINTFORMDL %CALLNAME:TARGET%はかなりの自己嫌悪に陥った
		SIF CFLAG:TARGET:初期位置 != CFLAG:MASTER:初期位置
			CFLAG:K17C_ID:K17C_CF_オナニーフラグ = 1
	;無知以外自慰終端
	ENDIF
ENDIF
RETURN 1
;==================================================
;浴場連れだし
;==================================================
@M_KOJO_EVENT_K17_23(ARG,ARG:1)
#DIM DYNAMIC iMOB = 0
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;断られた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「ちょっと待ちなさい、流石に裸を晒す関係じゃないでしょ？」
	ENDIF
	;-------------------------------------------------
	;一緒に入ってくれた
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「こっちの人って他人とお風呂入るの好きよねぇ……」
		PRINTFORML 「あんまりジロジロ見るのは禁止よ」
		PRINTFORMDL 恥ずかしがっている%CALLNAME:TARGET%をよそに%CALLNAME:MASTER%はさっさと服を脱いでしまう
		PRINTFORML 「さ、先に入っていて」
		PRINTW
		PRINTFORMDL そう言われて%CALLNAME:MASTER%は先に浴場に入ったが、なかなか%CALLNAME:TARGET%が入ってこない
		PRINTFORMDL 何度か声をかけると、ようやく恥ずかしそうに身体を隠した%CALLNAME:TARGET%がやってきた
		
		;アリスの他に同行者がいるかチェック
		FOR i,1,CHARANUM
			SIF !TARGET:i
				BREAK
			
			IF (CFLAG:(TARGET:i):同行) && TARGET:i != K17C_ID
				iMOB = TARGET:i
				BREAK
			ENDIF
		NEXT
		
		;連れ出しは先MASTERだけ移動するのが現仕様なので、その位置で他TARGETが居ないか見とく
		;アリスの位置では他TARGETを考慮しない
		;設定して気づいたけどお風呂に他キャラいると、そっちが先に読まれてここはこないっぽい
		IF K17_CHECK_RANDOM_EVENT(TARGET,-1,0) && K17_GET_CHARA_POSNUM(MASTER) == 0 && !iMOB
			;れっつとらぶる
			TRYCALL K17_お風呂イベント(TARGET)
			SIF RESULT
				PRINTFORMDL それだけ告げると、真っ赤になって湯船に浸かってしまった
		ENDIF
		IF !RESULT
			PRINTFORMDL %K17_RS(HIP(TARGET)+"/"+OPPAI_DESCRIPTION(TARGET,1)+"/"+THIGHS(TARGET))%がチラリと見えた
		ENDIF
	ENDIF
	
	PRINTW
ENDIF
RETURN 1
;==================================================
;懐妊
;==================================================
@M_KOJO_EVENT_K17_24(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		PRINTFORML 「あ、あのね、%K17_CNAME()%との赤ちゃん……\@EXP:出産経験?また#\@授かったみたいなの」
		PRINTFORMDL %CALLNAME:TARGET%は嬉しそうに笑顔で%CALLNAME:MASTER%を見つめていた
	ENDIF
	;-------------------------------------------------
	;思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「えっと……その……あの……ね、\@EXP:出産経験?また#\@出来ちゃった、みたいなの」
		PRINTFORMDL %CALLNAME:TARGET%は不安げに%CALLNAME:MASTER%の方を見つめるが、すぐに視線を外してしまう
	ENDIF
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		;詰問はきつい
		PRINTFORML 「どうするのよ、%K17_CNAME()%のせいで\@EXP:出産経験?また#\@出来ちゃったわよっ……どうするのよっ」
		PRINTFORMDL %CALLNAME:TARGET%は妊娠に不安を感じているようだ
		PRINTFORMDL %CALLNAME:MASTER%は泣きそうになってしまう%CALLNAME:TARGET%の頭を撫でて、宥めすかすことしかできなかった……
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		PRINTFORML （なんだろう……最近体調がおかしい……ような）
		PRINTW
		RETURN 1
	ENDIF
	
	;報告陥落あり　出産経験を見る
	IF !EXP:出産経験
		PRINTW
		PRINTFORMDL どうやら覚悟をしなくてはならないようだ
		PRINTFORML 「私、産むわ……でも、初めてだから、ちょっと不安なんだけれど……」
		PRINTFORMDL %CALLNAME:TARGET%のほうは先に覚悟ができているようで、愛おしそうに自分の腹を撫でている
		PRINTFORMDL そんな姿を見て、%CALLNAME:MASTER%は%CALLNAME:TARGET%を抱きしめていた
		PRINTFORML 「ひゃぁっ……どうしたの……急に……大丈夫よ、きっと元気な子を産むわ」
	ELSE
		PRINTFORML 「私、また産むわよ……%K17_CNAME()%との子供なら何人でも欲しいもの、いいでしょう？」
		PRINTFORMDL 出産経験を経て、%CALLNAME:TARGET%は母親になる%K17_RS("喜び/幸せ")%を知ったようだ
	ENDIF
	
ENDIF
PRINTW
RETURN 1
;==================================================
;出産
;==================================================
@M_KOJO_EVENT_K17_25(ARG,ARG:1)
;口上主はLOCAL
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 0
;-------------
IF LOCAL
	;-------------------------------------------------
	;小分岐
	;-------------------------------------------------
	;恋慕 思慕
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && (ARG == 1 || ARG == 2)
		PRINTFORML 「大丈夫よ、元気な子を産めたわ
		PRINTFORML 「ほら、見て、この子。%K17_RS("目元/口元")%が%K17_CNAME()%そっくりよ」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;陥落素質無し
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 3
		PRINTFORML 「……不安だけれど、これからこの子は私一人で育てなきゃ……」
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;無自覚
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 0
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 4
		RETURN 1
	ENDIF
	;その他
	PRINTFORML  
ENDIF
RETURN 1

;==================================================
;オナバレ
;09/20	なんか作り雑だなー関数化予定地
;09/21	少しマシになったはず　フラグ取得はK17_オナバレ追加イベント関数にて
;09/24	同居自慰追加 ARG:1にて見られた瞬間、追い出し　あと一緒
;==================================================
@M_KOJO_EVENT_K17_26(ARG,ARG:1)
#DIM Virgin = 0		;まんまの意味　行ったり来たりするので保護しておく
#DIM iRand = 0		;受け妄想の一時受け渡し
#DIM iType = 0		;タイプの保存
#DIM iRes = 0		;初回かどうか見とく

;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;見られた瞬間 通常オナバレ
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			IF FIRSTTIME("オナバレ",1) && ARG:1==0
				SELECTCASE K17_GRT(TARGET)
				
				;うふふ経験なし
					CASE IS<K17C_思慕うふふ
						PRINTFORML 「！？！？……%K17_RS("ひっぃ～～～/きゃああああ/ふぇえええええ")%？」
					;うふふ+キス経験あり
					CASEELSE
						PRINTFORML 「……%K17_RS("ひゃっ/きゃぁ/ふぇええ/あぁっ")%！？」
				ENDSELECT
				PRINTFORML 「あっ……いや……えっ……」
				PRINTFORMDL 普段の様子からは想像できないような声を聞いてしまった
				PRINTFORML 「えっと……ちちち、違うのよこれは」
				PRINTFORML 「その……人形のね、研究？　そう！　それでちょっと手が離せなかったのよ」
				PRINTFORMDL その言い訳は苦しいと思うが……
			
			ELSEIF ARG:1==0
				SELECTCASE K17_GRT(TARGET)
				
					;うふふ経験なし
					CASE IS<K17C_思慕うふふ
						PRINTFORML 「！？！？……%K17_RS("っ～～～～/きゃああああ/ふぇえええええ")%？」
					;うふふ+キス経験あり
					CASEELSE
						PRINTFORML 「%K17_RS("ひゃっ/きゃぁ/ふぇええ/あぁっ")%！？」
				ENDSELECT
				PRINTFORML 「あっ……いや……えっ……えぇ……また……なの？」
				PRINTFORMDL 普段の様子からは想像できないような声を聞いてしまった
				PRINTFORMDL %CALLNAME:TARGET%はやっぱり　"研究熱心"　だった
				PRINTFORML 「ちっ、違っ……」
				
			ENDIF
			
			;-------------------------------------------------
			;追加イベ
			;同居自慰　見られた瞬間
			;-------------------------------------------------
			IF ARG:1==1
				;PRINTFORMDL そろそろ達するのか、%CALLNAME:TARGET%がぎゅっと%CALLNAME:MASTER%の手を握ってくるので、思わず握り返してしまった
				PRINTFORML 「…………？　えっ」
				PRINTFORMDL %CALLNAME:TARGET%が快感に震えながらこちらに気づいて、顔を真っ赤にした
				PRINTW
				PRINTFORML 「えっ、ちょっと、まってぇ、%K17_喘ぎ_絶頂(K17C_受け_無理矢理系,-1,"\n　見られながら")%」
				PRINTFORMDL %CALLNAME:TARGET%は慌てた様子だったが快感%K17_RS("を止められず/に堪えきれず/に耐えられず")%、びくびくと痙攣した
				PRINTFORMDL 恥ずかしそうに身体を丸めて絶頂するが、肝心な所が%CALLNAME:MASTER%から丸見えだった
				PRINTFORMDL ……
				PRINTFORMDL …………
				PRINTFORMDW ………………
			ENDIF
			IF FIRSTTIME("オナバレ",1) && ARG:1==1
				PRINTFORML 「えっと……これはその……」
				PRINTFORMDL %CALLNAME:TARGET%は絶頂から回復するとしどろもどろになって説明を始めた
				PRINTFORML 「……ちちち、違うのよこれは」
				PRINTFORML 「その……人形のね、研究？　そう！　それでちょっと……」
				PRINTFORMDL その言い訳は苦しいと思うが……
			ELSEIF ARG:1==1
				PRINTFORML 「あっ……いや……あぅ……うぅー」
				PRINTFORMDL 絶頂が終わると%CALLNAME:TARGET%はシーツを頭まで被ってしまい唸っていた
				PRINTFORMDL %CALLNAME:TARGET%はやっぱり　"研究熱心"　だった
				PRINTFORML 「ちっ、違っ……」
			ENDIF
			
			
		RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 1
		;何もしない
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1==0
			IF FIRSTTIME("オナバレ",1)
				SELECTCASE K17_GRT(TARGET)
					CASE IS<K17C_思慕うふふ
						PRINTFORML 「だから、えっと……早く出て行きなさいッ！」
					CASE IS < K17C_恋慕生解禁
						PRINTFORML 「……んもう%K17_BLUSH(2)%　恥ずかしいところ見られたわ……」
						PRINTFORML 「だいたい%K17_CNAME()%にも責任……あるんだからね」
					CASE IS >= K17C_恋慕生解禁
						PRINTFORML 「……え？　嘘でしょ……ホントに帰っちゃう……の？」
				ENDSELECT
			ELSE
				;見たりしたりした以降
				PRINTFORML 「でっ、でてってッ！…………ぁぇ……」
				SELECTCASE K17_GRT(TARGET)
					CASE IS<K17C_思慕うふふ
						PRINTFORML 「やっぱり前ので引かれちゃったのかしら……」
					CASE IS < K17C_恋慕生解禁
						PRINTFORML 「……えっ……嘘……強く言い過ぎちゃったのかしら……」
						PRINTFORML 「それとも前ので引かれちゃったの……？」
					CASE IS >= K17C_恋慕生解禁
						PRINTFORML 「……え？　嘘でしょ……ホントに帰っちゃう……の？」
						PRINTFORML 「もう……飽きちゃったのね……」
				ENDSELECT
			ENDIF
			PRINTFORML 「ばっ……ばかぁぁ！」
			;自主トレがばれてアリスのプライドが下がる
			CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,-1)
			RETURN 1
		ENDIF
		
		;-------------------------------------------------
		;何もしない　同居自慰
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1 && ARG:1==1
			IF FIRSTTIME("オナバレ",1)
				SELECTCASE K17_GRT(TARGET)
					CASE IS < K17C_恋慕生解禁
						PRINTFORML 「……んもう%K17_BLUSH(2)%　恥ずかしいところ見られたわ……」
						PRINTFORML 「だいたい%K17_CNAME()%にも責任……あるんだからね」
					CASE IS >= K17C_恋慕生解禁
						PRINTFORML 「……え？　嘘でしょ……ホントに寝ちゃう……の？」
				ENDSELECT
			ELSE
				;見たりしたりした以降
				PRINTFORML 「えっ！？…………ぇぇ……」
				SELECTCASE K17_GRT(TARGET)
					CASE IS < K17C_恋慕生解禁
						PRINTFORML 「……えっ……嘘……強く言い過ぎちゃったのかしら……」
						PRINTFORML 「それとも前ので引かれちゃったの……？」
					CASE IS >= K17C_恋慕生解禁
						PRINTFORML 「……え？　嘘でしょ……ホントに寝ちゃう……の？」
						PRINTFORML 「もう……飽きちゃったのね……」
				ENDSELECT
			ENDIF
			PRINTFORML 「ばっ……ばかぁぁ……」
			;自主トレがばれてアリスのプライドが下がる
			CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,-1)
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 2
		;そのまま続行
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;薄い本展開だー！　アリスの女の子の身体の仕組み研究会！鑑賞編
			;見ててあげるからどうぞそのまま
			
			IF FIRSTTIME("オナバレ")
				PRINTFORML 「みっ……見るって……？」
				PRINTFORMDL その　"研究"　が興味深いから見てみたい
				PRINTFORML 「ッッッ！」
				PRINTFORML （バ、バレてるわね……）
				PRINTW
				PRINTFORMDL それにしても%CALLNAME:TARGET%は　"研究熱心"　なようだ
				PRINTFORML （女の子だって……性欲あるんだからっ……）
				PRINTFORML （内緒で一人えっちしちゃうことだってあるわよ……%K17_BLUSH()%）
				SIF TALENT:K17C_ID:恋慕
					PRINTFORML （それに%K17_CNAME()%にも責任あるんだからねっ……）
				PRINTW
				PRINTFORMDL もっと　"研究発表"　して他の人にも教えてあげないと
				PRINTFORML 「っ～～～！？！？　こ、これは発表できるようなものじゃっ……！」
				PRINTFORML 「な、内緒よ！　内緒の研究なの！」
				PRINTFORML 「ていうか、わかってていじわる言ってるでしょ！？」
				PRINTFORMDW じゃあ、このことは秘密にするから……
				CALLF FIRSTTIME("オナバレ鑑賞初回")
			ELSEIF FIRSTTIME("オナバレ鑑賞初回")
				PRINTFORML 「ほんとに……見るだけ……よ？」
				PRINTFORMDL その前に……
			ELSE
				PRINTFORML 「まっ……また、見たいの……？」
				PRINTFORMDL その前に……
			ENDIF
			
			
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDW ………………
			PRINTL
			PRINTFORMW 「%CALLNAME:TARGET%の%K17_RS("ひとりえっち/自慰/おなにー/身体")%研究発表、観てください%K17_BLUSH(2)%」
			PRINTFORML 「さっ、最低の台詞だわ」
			
			;思慕↑追加イベ
			TRYCALL K17_オナバレ追加イベント(ARG,iRand)
			IF RESULT
				PRINTFORMDL なんだか堪らず%CALLNAME:TARGET%を後ろから抱きすくめてしまった
				PRINTFORMDL 元々震えていた身体が更にびくりと跳ね上がった
				PRINTFORML 「ほっ……%K17_RS("本当に触るの/本当にしちゃうの/本番えっち")%は……だっ、だめ……よ？」
				PRINTFORMDL ベッドに座って%CALLNAME:TARGET%を膝の上に置いた
				PRINTFORML 「こっ、ここで%K17_RS("する/させたい/して欲しい")%の！？」
				PRINTFORMW （これ、やばい……近っ、近すぎよっ）
				
				;とりあえず今のところランダム　そのうち喘ぎタイプによって変動させる
				SELECTCASE RAND:4
					CASE 0
						PRINTFORML （ドキドキしてるの……バレちゃうっ）
						PRINTFORMDL %CALLNAME:TARGET%の心臓の鼓動が伝わってくる
					CASE 1
						PRINTFORML （%K17_CNAME()%の匂い……興奮しちゃうっ）
						PRINTFORMDL %CALLNAME:TARGET%のいい匂いが伝わってくる
					CASE 2
						PRINTFORML （お尻に%K17_CNAME()%の……硬いの……当たってる）
						PRINTFORMDL %CALLNAME:TARGET%の%HIP(TARGET)%の感触が膝から伝わってくる
					CASE 3
						PRINTFORML （身体熱くなってる……のバレちゃうっ）
						PRINTFORMDL %CALLNAME:TARGET%の熱くなった体温が伝わってくる
				ENDSELECT
				
			;思慕以上追加イベ終端
			ENDIF
			
			IF K17_RT_FG() & K17C_RTF_うふふ
				PRINTFORML （…………えっ……ホントに、しない……の？）
			ELSE
				PRINTFORML 「いい？　絶対、ぜーったい、%K17_RS("秘密/内緒/人に言ったらだめ")%、だからね……？」
			ENDIF
			;自主トレがばれてアリスのプライドが下がる
			CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,-1)
			PRINTL
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 3
		;追い出し
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORML 「さっ……最低！　変態！　出てけぇえええ！」		
			;追い出し時プライドは保たれる
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 4
		;やっちゃう
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;薄い本展開だー！　アリスの女の子の身体の仕組み研究会！実技編
			;一人より二人でする方が気持ちいいよ
			;二人でおなにーの見せ合いだと思ってました
			;なのでアリスに勘違いさせとく
			
			;オナバレックス初回　鑑賞もまだ
			IF FIRSTTIME("オナバレ")
				PRINTFORML 「ふっ……ふたり……で？　え？」
				PRINTFORMDL その　"研究"　が興味深いから一緒にやってみたい
				PRINTFORML 「ッッッ！」
				PRINTFORML （こっ、これってバレてる……のよね？）
				PRINTW
				PRINTFORMDL それにしても%CALLNAME:TARGET%は　"研究熱心"　なようだ
				PRINTFORML （女の子だって……性欲あるんだからっ……）
				PRINTFORML （内緒で一人えっちしちゃうことだってあるわよ……%K17_BLUSH()%）
				SIF TALENT:K17C_ID:恋慕
					PRINTFORML （それに%K17_CNAME()%にも責任あるんだからねっ……）
				PRINTW
				PRINTFORMDL もっと　"研究発表"　して他の人にも教えてあげないと
				PRINTFORML 「っ～～～！？！？　こ、これは発表できるようなものじゃっ……！」
				PRINTFORML 「な、内緒よ！　内緒の研究なの！」
				PRINTFORML 「ていうか、わかってていじわる言ってるでしょ！？」
				PRINTFORMDW じゃあ、このことは秘密にするから……
				CALLF FIRSTTIME("オナバレックス初回")
			ELSEIF FIRSTTIME("オナバレックス初回")
				;オナバレックスが初、鑑賞済み
				PRINTFORML 「えっ？　えっ！？　えぇぇ！？」
				PRINTFORML 「……一緒に……って……その、見せ合いっこしたい……の？」
				PRINTFORMDL その前に……
				
			ELSE
				;オナバレックス2回目以降
				PRINTFORML 「また……しちゃうの……？」
				PRINTFORMDL その前に……
			ENDIF
			PRINTFORMDL ……
			PRINTFORMDL …………
			PRINTFORMDW ………………
			PRINTL
			PRINTFORMW 「%CALLNAME:TARGET%の%K17_RS("ひとりえっち/自慰/おなにー/身体")%研究、一緒にしてください%K17_HEART()%」
			PRINTFORML 「っ～～～～%K17_BLUSH()%」
			
			;オナバレックス済か見る
			IF !(CFLAG:K17C_ID:K17C_CF_オナバレ追加イベ & 2)
				iRand = K17C_小悪魔受け
				iRes = 0
			ELSE
				iRes = 1
			ENDIF
			;思慕↑追加イベ
			TRYCALL K17_オナバレ追加イベント(ARG,iRand)
			;タイプ決定
			iType = K17_喘ぎタイプ_H妄想(K17C_受け,iRand)
			;初回限定　恋慕未満　無理矢理固定
			SIF iRes == 0 ||  K17_GRT() < K17C_恋慕
				iType = K17C_受け_無理矢理系
			
			PRINTFORMDL なんだか堪らず%CALLNAME:TARGET%を後ろから抱きすくめてしまった
			PRINTFORMDL 元々震えていた身体が更にびくりと跳ね上がった
			
			
			
			;受け妄想をそのまま実現化
			SELECTCASE iType
				;--------------------
				;誘い受け　強気受け　初回のみ小悪魔受けでこうなる　仕方ないねっ
				;--------------------
				CASE K17C_受け_無理矢理系
					VARSET Virgin
					PRINTFORML 「ほっ……%K17_RS("本当に触るの/本当にしちゃうの/本番えっち")%は……だっ、だめ……よ？」
					PRINTFORMDW ……
					PRINTFORML 「見せ合いっこ……だけよ？」
					PRINTFORMDW …………！！
					PRINTFORMW 「だ、だめっ、落ち着いてっ！ 　ね？」
					PRINTFORMW 「きゃっあ！？」
					PRINTFORMW 「わかった！　わかったから！」
					PRINTFORMW 「%K17_RS("手で/裸見ていいから/あそこも見ていいから")%っ！　それか%K17_RS("お口/お尻/素股/おっぱい")%でっ！　してあげるからっ！」
					PRINTFORMW 「%K17_RS("いや/きゃ")%ああああぁぁっ、%K17_RS("やめて/だめ")%えええええぇぇぇ！」
					PRINTFORMDL これも妄想の続きなんだろうか……
					SIF K17_GRT(TARGET) < K17C_恋慕
						PRINTFORMW 「演技じゃないッ！　演技じゃないのッ！」
					IF TALENT:TARGET:処女
						PRINTFORML 「わたっ、私、処女なのっ！」
						;そうか大事なものなので取っておく
						Virgin = TALENT:TARGET:処女
					ENDIF
					
					;竿判定避妊要求
					SIF TALENT:MASTER:性別 >= 2 && (!CFLAG:TARGET:生解禁 && ESTRUS_CYCLE(TARGET) != 15) || (CFLAG:TARGET:生解禁 < 2 && ESTRUS_CYCLE(TARGET) == 150)
						PRINTFORML 「%K17_RS("避妊/ゴムつけて")%っ、せめて%K17_RS("避妊して/ゴムして")%えええぇぇぇ！！」
					;女MASTERでも処女失うのでこれであってるのか
					PRINTFORML 「ほんとに……挿れちゃうのだめええええぇぇぇ」
					
					
				;--------------------
				;姫受け　わんこ受け
				;--------------------
				CASE K17C_受け_おねだり系
					;恋慕↑
					PRINTFORML 「えっ……てっきり襲いかかられちゃうかと……思ってた」
					PRINTFORML 「ね、ねぇ……一緒にって……その……見せっこ……だけ？」
					PRINTFORMDW %CALLNAME:TARGET%は潤んだ瞳で、ねだるように性器を見せつけ腰を振った
					PRINTFORMW 「……ぃて……」
					PRINTFORMW 「してぇ……早く、ね？　しよっ、ねっ%K17_HEART()%　ねっ%K17_HEART()%」
					PRINTFORMDL 次第にお互いの股間が触れ合い、%CALLNAME:TARGET%の性器から、くちゅり、といやらしい音が鳴った
					PRINTFORMW 「内緒にしてもらうんだからぁ……好きにして、いいのよ？」
					;竿判定
					IF TALENT:MASTER:性別 >= 2
						PRINTFORML 「えいっ……あぁん%K17_HEART()%　挿れられちゃった%K17_HEART()%」
					ELSE
						PRINTFORML 「えいっ……あぁん%K17_HEART()%　くっついちゃった%K17_HEART()%」
					ENDIF
					
					
				;--------------------
				;小悪魔受け　襲い受け
				;--------------------
				CASE K17C_受け_合意襲い系
					;また犯す気でしょ！　エロ同人のように！
					PRINTFORML 「ふんっ……また、その、しちゃう気でしょ……」
					PRINTFORMDL 言いながら、%CALLNAME:TARGET%はチラチラとベッドの方に視線を送っている
					PRINTFORML 「きゃっ！？　ちょ、ちょっと……%K17_BLUSH()%」
					PRINTFORMDL %CALLNAME:MASTER%は軽く触れただけのつもりだったが、%CALLNAME:TARGET%は尻餅をついてベッドに座ってしまった
					PRINTFORMDL これはつまり、誘われているのだろう……
					PRINTW
					PRINTFORML 「%K17_RS("服破いたり/中に出したり/乱暴に")%したら承知しないんだからね……」
					PRINTFORML 「絶対に%K17_RS("屈したりしない/負けない")%からっ」
					PRINTFORMDL ここまで行くとなんだかちょっと可愛い
					PRINTFORMDL 言われた通り徹底的にシてあげよう
					
					
				;--------------------
				;健気受け
				;--------------------
				CASE K17C_受け_お手伝い系
					;責任とりえっち
					PRINTFORML 「……その、%K17_RS("興奮/発情")%しちゃったの……？」
					PRINTFORML 「わた、私の……せいよね？　いいわよ……」
					PRINTDATADL
						DATAFORM %CALLNAME:TARGET%は背を向けると、\@TEQUIP:下半身着衣状況 & 1?%K17_GET_SKIRT(TARGET)%をめくって#\@お尻を突き出し壁に手をついた
						DATAFORM %CALLNAME:TARGET%は胸元のボタンを外すと、谷間を作って%CALLNAME:MASTER%に跪いた
						DATAFORM %CALLNAME:TARGET%はベッドに寝そべると、\@TEQUIP:下半身着衣状況 & 1?%K17_GET_SKIRT(TARGET)%をめくって#\@%K17_RS("両足を開いた/両足をＭ字に開いた/片足を持ち上げて股を開いた")%
					ENDDATA
					PRINTFORML 「責任取るから……好きにしていいよ？」
					PRINTFORMDL その声は心なしか嬉しそうに聞こえた……
					
			ENDSELECT
			
			PRINTL
			RETURN 1
		ENDIF
		;-------------------------------------------------
		CASE 5
		;事後
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;処女喪失、恋慕未満、初回はここ入る
			IF (TALENT:TARGET:処女 == 0 && Virgin == 1) || K17_GRT(TARGET) < K17C_恋慕 || iRes == 0
				IF TALENT:TARGET:処女 == 0 && Virgin == 1
					;おきのどくですが処女が失われた場合
					PRINTFORML 「…………こんな……ひどいわ……ぐすっ……」
					PRINTFORML 「ほんとに……初めてだったのに……ぐすっ……」
				ENDIF
				PRINTFORML 「先っちょだけって……言ったのに……」
				PRINTFORML 「最低よ……うぅっ……ぐすっ……」
				PRINTFORML （なにが最低かって……すごく……気持ち……よかった……こんなっ、最っ低……）
				PRINTW
				PRINTFORMDL やっぱりやり過ぎたのだろうか
				IF K17_GRT(TARGET) >= K17C_思慕
					PRINTFORML 「……つっ……次はちゃんとすること、いいわね？」
					;天使か
				ELSE
					PRINTFORML 「早く出てって……」
				ENDIF
				Virgin = 0
				
			;そのうちここで感想をプレイヤーに訊いてタイプチョイスの仕方を変えるか
			ELSEIF K17_GRT(TARGET) >= K17C_恋慕
				SELECTCASE iType
					CASE K17C_受け_無理矢理系
						PRINTFORML 「はぁはぁ……すごかった%K17_HEART()%」
						PRINTFORML 「でもこれ……癖になったらどうするのよ……」
						PRINTFORMDL お互い興奮しすぎたようだ……
						
					CASE K17C_受け_おねだり系
						PRINTFORML 「はぁはぁ……あぁ……」
						PRINTFORML 「犯されちゃったぁ%K17_HEART()%」
						PRINTFORMDL 果たして犯すとは一体……
						
					CASE K17C_受け_合意襲い系
						PRINTFORML 「はぁはぁ……負けましたぁ%K17_HEART()%」
						PRINTFORML 「興奮しすぎよ……もうっ……」
						PRINTFORMDL 言葉とは裏腹に嬉しそうだった……
						
					CASE K17C_受け_お手伝い系
						PRINTFORML 「もう満足した……？　ホントに好き勝手してくれたわね……」
						PRINTFORML 「でもなんかちょっと可愛かったわよ？」
						PRINTFORMDL そう言って%CALLNAME:MASTER%を見上げてくる%CALLNAME:TARGET%は妖艶で可愛かった
				ENDSELECT
			ENDIF
			
			;一回セットしてフラグ保存
			CALL K17_SET_AUTO_PVOICE(,,iType)
			;自主トレがばれてアリスのプライド 態度が下がる
			CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_プライド,-2)
			CALL K17_TALENT_UPDOWN(TARGET,K17C_TALENT_態度,-2)
			RETURN 1
		ENDIF
	ENDSELECT
ENDIF
RETURN 0


;==================================================
;相手からデートのお誘い
;==================================================
@M_KOJO_EVENT_K17_27(ARG,ARG:1)
;口上主はLOCAL
;ARG:1は目的地
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL
	SELECTCASE ARG
		;誘い文句
		CASE 0
			IF CFLAG:K17C_ID:K17C_CF_デートイベント && CFLAG:K17C_ID:K17C_CF_告白イベント
				PRINTFORML 「ねえ、また一緒にデートしましょう？」
			ELSEIF CFLAG:K17C_ID:K17C_CF_デートイベント
				PRINTFORML 「ねえ、いやじゃなかったら、またデートしましょう？」
			ELSE
				PRINTFORML 「ねえ、えーっと……たまには外に遊びに行ってみない？」
			ENDIF
			PRINTL
		;受けた
		CASE 1
			PRINTFORML 「じゃあ早速行きましょう」
			PRINTW
		;断った
		CASE 2
			PRINTFORML 「あら、何か用事でもあったかしら？　じゃあ、また今度ね……」
			PRINTW
	ENDSELECT
ENDIF
RETURN 1

;==================================================
;脱衣口上
;==================================================
@M_KOJO_EVENT_K17_28(ARG,ARG:1)
#DIM DYNAMIC iRand = 0
;口上主はTARGET
;ARGに脱がし方選択
;ARG:1（ARG=3の場合のみあり）地の文の反応
;--------------------------------------------------
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;時間停止
;通常処理
LOCAL = 1
;-------------
IF LOCAL && FLAG:時間停止
	RETURN 1
ENDIF
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;泥酔時
;通常処理
LOCAL = 1
;-------------
IF LOCAL && TCVAR:TARGET:泥酔
	PRINTFORML 「……うー……暑いわぁ……脱いじゃえ……あははっ」
	PRINTFORML （あれぇ……いいんだっけ……えっと……まあいいかぁ）
	PRINTW
	RETURN 1
ENDIF
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;睡眠時時
;通常処理
LOCAL = 1
;-------------
IF LOCAL && CFLAG:睡眠
	PRINTFORML 「%K17_SHUFFLE_寝言(K17_RS("やんっ/っ/んっ/うぅん"))%」
	PRINTW
	RETURN 1
ENDIF
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;時間停止　泥酔以外
;通常処理　合意系
LOCAL = 1
;-------------
IF LOCAL && !(CFLAG:K17C_CF_喘ぎタイプ & K17C_喘ぎF_襲い)

	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0
		;全裸にする
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;------------------
			;表示開始
			;------------------
			PRINTFORML 「全部……脱がされちゃった……」
			
			;初回　0反応固定
			IF FIRSTTIME("脱衣-全裸")
				;性別判定
				IF TALENT:MASTER:性別 == 2
					PRINTFORML （男の人に……こんな全部見せちゃうなんて……やだぁ恥ずかしい……）
				ELSE
					PRINTFORML （女同士だし……別に見られても……平気……だよね……？）
				ENDIF
				iRand = 1
			ENDIF
			
		ENDIF
		;-------------------------------------------------
		CASE 1
		;下着姿にする
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;------------------
			;表示開始
			;------------------
			PRINTFORML 「服……脱がされちゃった……」
			
			;初回　0反応固定
			IF FIRSTTIME("脱衣-下着姿")
				;性別判定
				IF TALENT:MASTER:性別 == 2
					;既に全裸見てるか見る
					SIF FIRSTTIME("脱衣-全裸",1)
						PRINTFORML （男の人に……ここまで見せちゃうなんて……やだぁ恥ずかしい……）
				ELSE
					PRINTFORML （女同士だし……下着くらいなら、別に見られても……平気……だよね……？）
				ENDIF
				iRand = 1
			ENDIF
		ENDIF
		;-------------------------------------------------
		CASE 2
		;半脱ぎ
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			;------------------
			;表示開始
			;------------------
			PRINTFORML 「えっと……下着だけ脱ぐの……？　なんだか変な感じよ」
			;初回　0反応固定
			IF FIRSTTIME("脱衣-半脱ぎ")
				;性別判定
				IF TALENT:MASTER:性別 == 2
					PRINTFORML （男の人に……こんな格好見られちゃうなんて……恥ずかしいわ……）
				ELSE
					PRINTFORML （女同士だし……下着くらいなら、別に見られても……平気……だよね……？）
				ENDIF
				iRand = 1
			ENDIF
		ENDIF
		;-------------------------------------------------
		CASE 3
		;パンツちょうだい
		;記入チェック（=0, 非表示、1, 表示）
		LOCAL:1 = 1
		;-------------------------------------------------
		IF LOCAL:1
			PRINTFORMDL 大人しく脱がされる%CALLNAME:TARGET%に%CALLNAME:MASTER%は、パンツが欲しいと伝えた
			
			;パンツ没収時に説明を受けているか見る
			IF FIRSTTIME("パンツ没収",1) && FIRSTTIME("脱衣-パンツ獲得")
				PRINTFORML 「えっと……何故下着なんて欲しいのかしら？」
				PRINTFORMDL そりゃあ、だって……えーと……
				PRINTFORMDL %CALLNAME:MASTER%はどうして下着が欲しいのか、一から%CALLNAME:TARGET%に説明させられた
				PRINTFORMDL ……
				PRINTFORMDL …………
				PRINTFORMDW ………………
				PRINTFORML 「へ、へぇ……ずいぶんといい趣味？　してるわね」
				PRINTW
			ELSE
				PRINTFORML 「やっぱり……その……欲しいんだ……」
				PRINTFORML （こ……これって……私の下着で色々%K17_RS("妄想/想像")%しちゃうってことなんだよね）
				PRINTW
			ENDIF
			SELECTCASE ARG:1
				;-------------------------------------------------
				CASE 0
				;交換です
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTFORMDL どうして%CALLNAME:TARGET%も下着を欲しがったのだろうか……
					PRINTFORML 「に……人形作りの研究のためよ」
					PRINTFORMDL ああ、なるほど。　"研究材料"　というわけか
					;オナバレをしっかり見られたことがあるか見る
					IF FIRSTTIME("オナバレ",1)
						PRINTFORMDL そう見透かされて、%CALLNAME:TARGET%は真っ赤になって俯いてしまった
					ELSE
						PRINTFORMDL %CALLNAME:TARGET%は%CALLNAME:MASTER%の下着を手に取りマジマジと見つめ顔を赤らめていた
					ENDIF
					PRINTFORML （ごめんなさい、嘘つきました。これ……%K17_RS("おなにー/ひとりえっち/妄想ひとりえっち")%%K17_RS("捗っちゃう/に使っちゃう/で材料にしちゃう")%……かも）
				ENDIF
				;-------------------------------------------------
				CASE 1
				;OK（嬉々
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTDATAL
						DATAFORM 「それで……なにする気なのよ……%K17_RS("えっち/すけべ/変態")%……%K17_BLUSH()%」
						DATAFORM 「別にいいけど……本物がこっちにいるんだから……ね？%K17_HEART()%」
						DATAFORM 「ねえ、もう下着はいいから……私のことももっと%K17_RS("欲しがって/可愛がって")%？　ね？%K17_HEART()%」
					ENDDATA
				ENDIF
				;-------------------------------------------------
				CASE 2
				;OK（渋々
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTDATAL
						DATAFORM 「あまり変なことに使っちゃダメ……%K17_RS("よ/なんだからね/だらかね")%……」
						DATAFORM 「まあいいけど……っ～～！！　なに匂い嗅ごうとしてるのよっ、%K17_RS("やめて/ダメだ/ヤだ")%ったらっ」
						DATAFORM 「こんなもので、そこまで%K17_RS("必死/懸命")%にならないでよっ、恥ずかしい……」
					ENDDATA
				ENDIF
				;-------------------------------------------------
				CASE 3
				;嫌です
				;記入チェック（=0, 非表示、1, 表示）
				LOCAL:1 = 1
				;-------------------------------------------------
				IF LOCAL:1
					PRINTDATAL
						DATAFORM 「%K17_RS("ダメ/いや/やぁ")%よ……それよりちゃんと私を%K17_RS("構いなさい/可愛がりなさい/欲しがりなさい")%よ……%K17_BLUSH()%」
						DATAFORM 「洗わずそのままだなんて……流石にちょっと%K17_RS("引くわね/イヤよ/……")%」
					ENDDATA
				ENDIF
			ENDSELECT
			PRINTW
			RETURN 1
		ENDIF
	ENDSELECT
	
	;局部見せ描写
	IF ARG != 3 
		;露出判定　恥じらいは持っておこう
		;露出癖見る
		IF iRand == 0
			iRand = K17_LOWER_LIMIT_RAND(ABL:露出癖,1,5)
		ELSE
			;初回
			iRand = 0
		ENDIF
		SELECTCASE iRand
			CASE IS >= 5
				PRINTFORMDL %CALLNAME:TARGET%は胸を突き出して%NIPPLE_DESCRIPTION(TARGET,1)%を見せつけながら、軽く脚を軽く開いて見せた
				PRINTFORML 「これからどうされちゃうのかしら……ね%K17_HEART()%」
				PRINTW
				PRINTFORMDL %CALLNAME:TARGET%は脚を開いたり上げたりして、%CALLNAME:MASTER%に見せつけた
				PRINTFORML （そんな%K17_RS("すごい/えっちな/獣みたいな")%眼で見られたら……%K17_RS("興奮し/濡れ/発情し/挑発したくなっ")%ちゃう……）
				PRINTFORMDL そしてうっとりした目つきで%CALLNAME:MASTER%に寄り添い、視線を感じる箇所を見せつけて挑発していた
				PRINTFORMDL %CALLNAME:TARGET%は興奮しているのか、息が荒い
				
			CASE IS >= 3
				PRINTFORMDL %CALLNAME:TARGET%は%NIPPLE_DESCRIPTION(TARGET,1)%は隠さずにいたが、脚は恥ずかしそうに閉じていた
				PRINTFORML 「もうっ、%K17_RS("食い入るように/飢えた獣みたいな眼で/ギラついた眼で")%見すぎよっ、%K17_RS("えっち/すけべ/変態")%%K17_HEART()%」
				PRINTW
				PRINTFORMDL %CALLNAME:TARGET%は小さくため息をつくと、ゆっくり脚を開いて%CALLNAME:MASTER%に見せつけてきた
				PRINTFORML （%K17_RS("えっちな眼で見てくれるの/興奮してもらえるの/お預けしてるみたいで")%……ちょっと楽しくなってきちゃった……）
				PRINTFORMDL こちらを煽るようにワザと際どいところをチラチラと見せながら、様々なポーズをとる
				PRINTFORMDL %CALLNAME:TARGET%は興奮しているのか、息が荒い
				
			CASE IS >= 1
				;胸が見えているか見る
				IF ARG != 1
					PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに脚を閉じ、手で%OPPAI_DESCRIPTION(TARGET,1)%を隠しているが、チラチラと%NIPPLE_DESCRIPTION(TARGET,1)%が見え隠れしていた
				ELSE
					IF TALENT:バストサイズ >= 0
						PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに脚を閉じ、手で%OPPAI_DESCRIPTION(TARGET,1)%を隠しているが、%K17_GET_CLOTHNAME_TOP_UNDER(TARGET)%で作られた谷間がくっきりと浮かび上がっていた
					ELSE
						PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに脚を閉じ、手で%OPPAI_DESCRIPTION(TARGET,1)%を隠しているが、%K17_GET_CLOTHNAME_TOP_UNDER(TARGET)%の隙間からチラチラと%NIPPLE_DESCRIPTION(TARGET,1)%が見え隠れしていた
					ENDIF
				ENDIF
				PRINTFORML 「%K17_RS("み、見/の、覗き/な、眺め")%過ぎよ……%K17_BLUSH()%」
				PRINTW
				PRINTFORMDL %CALLNAME:TARGET%は顔を背けぎゅっと目を閉じ、恥ずかしさに震えながらゆっくりと脚を開いた
				PRINTFORML （あっ……今%K17_RS("見せちゃった/見えちゃってる")%……よね？　すごい……%K17_RS("ドキドキし/興奮し/えっちな気分になっ")%ちゃう）
				PRINTFORMDL %CALLNAME:TARGET%は緊張しているのか、息が荒い
			CASEELSE
				PRINTFORMDL %CALLNAME:TARGET%は恥ずかしそうに脚を閉じ、手でしっかりと%OPPAI_DESCRIPTION(TARGET,1)%を隠していた
				PRINTFORML 「やっぱり、その、恥ずかしい……%K17_BLUSH()%」
				PRINTW
				PRINTFORMDL %CALLNAME:MASTER%は戸惑う%CALLNAME:TARGET%の両脚を掴んで、そのまま開かせた
				PRINTFORML （私の%K17_CALL_P(K17C_部位V)%……見られちゃってる……%K17_CNAME()%、%K17_RS("すごい/えっちな/興奮した")%眼で……見てる……）
				PRINTFORMDL %CALLNAME:TARGET%は緊張しているのか、身体は震え息が荒い
		ENDSELECT
	ENDIF
	PRINTW
	RETURN 1
ENDIF


;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
;時間停止　泥酔以外
;通常処理　襲い系or無理矢理フラグ
LOCAL = 1
;-------------
IF LOCAL && CFLAG:K17C_CF_喘ぎタイプ & K17C_喘ぎF_襲い
	SELECTCASE ARG
		;-------------------------------------------------
		CASE 0,1,2
		;全裸にする
		;下着姿にする
		;半脱がし
		;-------------------------------------------------
		PRINTFORMDL %CALLNAME:MASTER%は%K17_RS("嫌がる/暴れる/逃げようとする")%%CALLNAME:TARGET%を捕まえ、%K17_RS("無理矢理/強引に/乱暴に")%服を%K17_RS("脱がした/剥いだ/剥いた")%
		PRINTFORML 「%K17_RS("……/くっ、")%女の子を\@TEQUIP:拘束||TEQUIP:縄?拘束して#力ずくで\@無理矢理脱がすなんて……%K17_RS("最低/変態/すけべ")%っ%K17_AP_DEC(1)%」
		;-------------------------------------------------
		CASE 3
		;パンツちょうだい
		;-------------------------------------------------
		SELECTCASE ARG:1
			;-------------------------------------------------
			CASE 0
			;交換
			;-------------------------------------------------
			PRINTFORML 「い、いらないわよっ……%K17_RS("最低/変態/すけべ")%っ%K17_AP_DEC(1)%」
			;-------------------------------------------------
			CASE 1,2
			;OK（嬉々
			;OK (渋々
			;-------------------------------------------------
			PRINTFORML 「%K17_RS("好きに/勝手に")%しなさいよ、%K17_RS("最低/変態/すけべ")%っ%K17_AP_DEC(1)%」
			;-------------------------------------------------
			CASE 3
			;拒否
			;-------------------------------------------------
			PRINTFORML 「いやよっ……%K17_RS("最低/変態/すけべ")%っ%K17_AP_DEC(1)%」
		ENDSELECT
	ENDSELECT
	PRINTW
ENDIF
RETURN 1

;==================================================
;怒り口上
;==================================================
@M_KOJO_EVENT_K17_29(ARG,ARG:1)
;口上主はTARGET
;ARGはTARGETの度胸で分岐
;--------------------------------------------------
;記入チェック（=0, 非表示、1, 表示）
LOCAL = 1
;-------------
IF LOCAL && !FLAG:時間停止 && !CFLAG:TARGET:睡眠
	PRINTL
	
	;-------------------------------------------------
	;うふふ中
	;-------------------------------------------------
	;無理矢理フラグ見る
	IF CFLAG:TARGET:うふふ
		CALL K17_無理矢理中出し(TARGET)
		IF RESULT
			PRINTW
			RETURN 1
		ENDIF
	ENDIF
	;-------------------------------------------------
	;怒らせてしまった
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 1
		SELECTCASE K17_GRT()
			CASE IS >= K17C_思慕
				PRINTFORML 「……うーん、ちょっと%K17_RS("調子乗り/やり")%すぎね、お互い頭冷やしましょう」
				PRINTFORM 「私だって%K17_RS("怒るんですからね/怒るんだからね")%」
				TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/オコルゾー/プンプン"))
			CASEELSE
				PRINTFORM 「……もうっ、ちょっと調子乗りすぎよ」
				TRYCALL K17_人形台詞(-1,1,K17_RS("バカジャネーノ/オコルゾー/プンプン"))
		ENDSELECT
		PRINTW
		RETURN 1
	ENDIF
	;-------------------------------------------------
	;泣かせてしまった
	;記入チェック（=0, 非表示、1, 表示）
	LOCAL:1 = 1
	;-------------------------------------------------
	IF LOCAL:1 && ARG == 2
		PRINTFORML 「%K17_SPLIT_SHUFFLE(@"%K17_RS("ふぇぇ/ひっぐ/えっぐ/うぇえん/ぐすっ","/",2)%/……/……/%RESULTS:1%")%」
		TRYCALL K17_人形台詞(-1,1,K17_RS("アリス/ナクナヨ/ナミダ　フケ/ヨシヨシ")+"……")
		PRINTW
		RETURN 1
	ENDIF
ENDIF
RETURN 1


